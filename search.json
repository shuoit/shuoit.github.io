[{"title":"ç”¨Reduceå°†æ•°ç»„å˜æˆå¸¦ç‰¹å®šé”®å€¼çš„å¯¹è±¡","url":"/tech-notes/reduce-array-to-object-1559221858.html","content":"\n### Reduce\n\nå‡ºè‡ª**ES6**çš„Arrayï¼Œç”¨æ¥åšç´¯åŠ çš„ã€‚ä»¥å‰æˆ‘ä¸€ç›´ç”¨æ¥åšç®—æœ¯æ±‚å’Œï¼Œç›´åˆ°å‰ä¸€é˜µå­çœ‹åˆ°äº†ä¸€ä¸ªéªšæ“ä½œï¼Œäºæ˜¯åˆåšäº†ä¸€ç•ªæŠ˜è…¾...\n\nçœ‹è¿™æ®µä»£ç å…ˆï¼š\n\n```\nconst names = ['jack', 'pony', 'tony', 'thomas'];\nconst entry = names.reduce((prev, cur) => {\n    prev[cur] = `My full name is ${cur} ma.`;\n    return prev;\n}, {});\n```\n\nç»“æœï¼š\n\n```json\n{ jack: 'My full name is jack ma.',\n  pony: 'My full name is pony ma.',\n  tony: 'My full name is tony ma.',\n  thomas: 'My full name is thomas ma.' }\n```\n\næŠŠä¸€ä¸ªæ•°ç»„è½¬æˆäº†å¯¹è±¡ï¼Œå¦‚æ­¤ä¼˜é›…çš„æ“ä½œã€‚è¯•æƒ³ï¼Œä¸ç”¨è¿™ä¸ªå¦‚ä½•è¾¾åˆ°æ•ˆæœï¼ï¼Ÿ\n\n```\nconst names = ['jack', 'pony', 'tony', 'thomas'];\nconst obj = {};\nfor (let name of names) {\n    obj[name] = `My full name is ${name} ma.`\n}\n```\n\næ­¤æ—¶ï¼Œå¤šå®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œç”¨äº†ä¸€å±‚å¾ªç¯ï¼Œçœ‹èµ·æ¥å¾ˆæ²¡ç§‘æŠ€æ„Ÿã€‚æˆ³åˆ°APIï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š\n\n```typescript\nreduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T, initialValue: T): T;\n```\n\næ˜¯çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°ç«Ÿç„¶æ˜¯æ³›å‹ã€‚ä¹‹å‰ä¸€ç›´ä¼ æ•°å­—åšç´¯åŠ ï¼Œä»Šå¤©è®°ä½äº†ã€‚reduceåŠŸèƒ½ä¸æ­¢äºæ­¤ã€‚\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"ç§»åŠ¨ç«¯Webé€‚é…æ‰‹è®°","url":"/tech-notes/mobile-web-develop-notes-1559047955.html","content":"\n### å†™åœ¨å¼€å¤´\n\nè¿™ç¯‡æ–‡ç« æ‰€è°ˆåˆ°çš„å†…å®¹éå¸¸åŸºç¡€ï¼Œå¦‚æœä½ å·²ç»æ˜¯ä¸€ä¸ªå‰ç«¯è€å¸æœºäº†ï¼Œè¯·ç›´æ¥æ‰å¤´åŠ è¶³æ²¹é—¨ç¦»å»ã€‚\n\n### ç§‘æ™®\n\n![](/img/2019/15591193255276.jpg)\n\n\n##### REM\n\nCSS3æ–°å¢çš„ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œæ¥è‡ª2013å¹´ã€‚å…¨ç§°ï¼š`font size of root element`ã€‚å¯æ ¹æ®ç½‘é¡µæ ¹å…ƒç´ æ¥è®¾ç½®ç½‘é¡µä¸­å…¶ä»–å­—ä½“å¤§å°ã€‚\n\nå…¶ä¸­æ ¹å…ƒç´ æŒ‡**html**æ ‡ç­¾ï¼Œå³ï¼šåœ¨`htmlæ ‡ç­¾é‡Œè®¾ç½®font-sizeå±æ€§ï¼Œä»¥æ­¤æ¥ä½œä¸ºå…¶ä»–remå€¼çš„åŸºå‡†ï¼Œä»è€Œå–å¾—è‡ªé€‚é…å¹³è¡¡`ã€‚å¦å¤–é™¤äº†ç”¨æ¥è®¾ç½®å­—ä½“å¤§å°ï¼Œremè¿˜å¯ç”¨æ¥è®¾ç½®è§†å›¾çš„ï¼šwidthï¼Œheightï¼Œmarginï¼Œpadding...\n\n##### EM\n\nä½œç”¨ä¸REMç±»ä¼¼ï¼Œä½†æ—©äºREMï¼Œç®—æ˜¯ä»–çš„å‰è¾ˆã€‚å…¨ç§°ï¼š`font size of element`ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ã€‚å…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š\n\n- emå€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼›\n- emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ï¼›\n\nä½¿ç”¨remä¸ºå…ƒç´ è®¾å®šå­—ä½“å¤§å°æ—¶ï¼Œä»ç„¶æ˜¯ç›¸å¯¹å¤§å°ï¼Œä½†ç›¸å¯¹çš„æ˜¯HTMLæ ¹å…ƒç´ ã€‚è€Œemæ˜¯ç›¸å¯¹äºçˆ¶çº§å…ƒç´ ï¼›\n\n\n### ä¸PXçš„è½¬æ¢\n\n> pxåƒç´ ï¼ˆPixelï¼‰ï¼Œç›¸å¯¹é•¿åº¦å•ä½ã€‚æ˜¯ç›¸å¯¹äºæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è€Œè¨€ã€‚\n \nç›®å‰å¯¹äºå¤§éƒ¨åˆ†æµè§ˆå™¨ï¼Œå¦‚æœä¸ä¿®æ”¹ç›¸å…³å­—ä½“é…ç½®ï¼Œéƒ½æ˜¯é»˜è®¤æ˜¾ç¤º**font-size:16px**ï¼Œäºæ˜¯å’Œremçš„æ˜ å°„å…³ç³»æœ‰ï¼š`16px = 1rem`ã€‚\n\n\n```css\nhtml {\n    font-size: 16px;\n}\n```\n\nå¦‚æœæƒ³ç»™ä¸€ä¸ªpæ ‡ç­¾è®¾ç½®12pxçš„å­—ä½“å¤§å°ï¼Œé‚£ä¹ˆç”¨remè¡¨ç¤ºå°±æ˜¯\n\n```css\np {\n    font-size: 0.75rem; // 12/16=0.75(rem)\n}\n```\n\nå•ä½è½¬æ¢çš„å·¥å…·ï¼š[pxtoem](http://pxtoem.com/)\n\n### ç§»åŠ¨ç«¯çš„é€‚é…\n\n#### media queries\n\næœ€æ—©ï¼Œæˆ‘åˆšæ¥è§¦å“åº”å¼é‚£ä¼šå„¿ï¼Œæ˜¯é€šè¿‡**css3çš„media queries**æ¥è·å–å½“å‰è®¾å¤‡å±å¹•å°ºå¯¸ï¼Œç„¶åå¯¹åº”å†™å‡ å¥—cssã€‚ä½†è¿™ç©æ„çš„å‰¯ä½œç”¨å°±æ˜¯ä»£ç é‡å¾ˆå¤§ï¼Œç»´æŠ¤ä¸æ–¹ä¾¿ï¼ˆä¸ºäº†å…¼é¡¾å¤§å±å¹•æˆ–é«˜æ¸…è®¾å¤‡ï¼Œä¼šé€ æˆå…¶ä»–è®¾å¤‡èµ„æºæµªè´¹ï¼Œç‰¹åˆ«æ˜¯åŠ è½½å›¾ç‰‡ã€‚æ¯•ç«ŸåŠ è½½æµé‡å’Œæ—¶é—´ä¹Ÿæ˜¯è¦æˆæœ¬çš„ï¼‰ã€‚ä»£è¡¨ä½œï¼š**Bootstrap**\n\n#### flexæˆ–ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰\n\nå·ç§°å¼¹æ€§å¸ƒå±€çš„å°±æ˜¯ã€‚æŸ¥å¾—èµ„æ–™æ‰€è¨€ï¼Œå¤§éƒ¨åˆ†å¥—è·¯çš†ä¸ºï¼šflex+ç™¾åˆ†æ¯”çš„å¸ƒå±€æ–¹å¼ã€‚å¦å¤–ï¼Œä¸éœ€è¦é€‚é…çš„åœ°æ–¹ä»ç„¶æ˜¯pxå•ä½ã€‚\n\nå…¶ä¸­ï¼Œç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯é€šè¿‡å±æ€§å®šä¹‰è‡ªèº«æˆ–å…¶ä»–å…ƒç´ \n\n#### remï¼ˆæœ¬æ–‡ä¸»è§’ï¼‰\n\n> è¿™ä¸ªç‰¹æ€§ç›®å‰ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒï¼Œå¯ä»¥æ”¾å¿ƒç”¨ã€‚é€‚é…æ­¥éª¤ï¼š\n\n##### 1. viewportè®¾ç½®\n\n```html\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\">\n```\n\nå…¶ä¸­width=device-widthç”¨äºè®¾ç½®viewportçš„å®½åº¦ç­‰äºå±å¹•çš„å®½åº¦ï¼Œinitial-scale=1.0, maximum-scale=1.0çš„ä½œç”¨åŒwidth=device-widthä¸€æ ·\n\nä¹‹æ‰€ä»¥è¿˜è¦åŒæ—¶è®¾ç½®è¿™ä¸¤è€…ï¼Œæ˜¯å› ä¸ºå½“å®ƒä»¬å•ç‹¬ä½¿ç”¨æ—¶ï¼Œè¡¨ç°ä¸å¤Ÿå®Œç¾ï¼Œå³å•ç‹¬ä½¿ç”¨æ—¶ï¼Œæµè§ˆå™¨ä¼šæœ‰å…¼å®¹æ€§é—®é¢˜ã€‚å¦å¤–å½“ä¸¤è€…å€¼ä¸åŒæ—¶ï¼Œæµè§ˆå™¨å–æœ€å¤§è€…ã€‚\n\n##### 2. åŠ¨æ€è®¾ç½®<html>å…ƒç´ çš„font-sizeå€¼ã€‚ä¸€èˆ¬æœ‰ä¿©å§¿åŠ¿ï¼š\n\n- åˆ©ç”¨cssçš„**media query**æ¥è®¾ç½®ï¼Œå¥½å¤„æ˜¯éƒ½æ˜¯åœ¨æ ·å¼è¡¨é‡Œï¼Œå¥½ç®¡ç†ï¼›\n- åˆ©ç”¨**javascriptåŠ¨æ€æ“ä½œdomå±æ€§æ¥è®¡ç®—åŸºå‡†å€¼**ï¼›\n\næ ·å¼è®¾ç½®\n\n```css\n@media (min-device-width : 375px) and (max-device-width : 667px) and (-webkit-min-device-pixel-ratio : 2){\n    html{font-size: 37.5px;}\n}\n```\n\nè„šæœ¬è®¾ç½®\n\n```javascript\ndocument.getElementsByTagName('html')[0].style.fontSize = window.innerWidth / 10 + 'px';\n```\n\n> è¿™é‡Œé™¤ä»¥10ï¼Œæ˜¯ä¸ºäº†æ§åˆ¶æ•°å­—ä¸è‡³äºå¤ªå¤§ï¼Œä¾¿äºåè¾¹è®¡ç®—ï¼Œæ˜¯éšä¾¿å®šä¹‰çš„ã€‚å³å®šä¹‰å±å®½ä¸ºï¼š10remï¼Œ10rem * font-size = è®¾è®¡å®½åº¦\n\n##### 3. ç¼–å†™ç»Ÿä¸€çš„è®¡é‡å•ä½å€¼\n\nåœ¨ç¼–å†™CSSå…ƒç´ æ—¶ï¼Œwidth/heightï¼Œmarginï¼Œpaddingç­‰æ—¶ï¼Œä½¿ç”¨**rem**ä½œä¸ºå•ä½ã€‚æ¢ç®—æ–¹å¼å¦‚ä¸Šæ–‡æåˆ°çš„é‚£æ ·ã€‚å¯ä»¥å‚è€ƒä»¥ä¸‹å…¬å¼ï¼š\n\n**å…·ä½“å±æ€§å€¼** = **è®¾è®¡ç¨¿ä¸Šçš„æ ‡æ³¨** / **è®¾è®¡ç¨¿çš„å®½åº¦**\n\nå½“ç„¶å¦‚æœä½ æ˜¯ä½¿ç”¨è¯¸å¦‚Lessè¿™æ ·çš„åŠ¨æ€æ ·å¼è¡¨è¯­è¨€çš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸‹è¾¹è¯´çš„æ“ä½œã€‚è¿™æ ·å°±è®¡ç®—å‡ºè®¾è®¡ç¨¿ä¸Šçš„å…ƒç´ å’Œè®¾è®¡ç¨¿çš„æ¯”ä¾‹äº†ã€‚\n\n### åœ¨Lessä¸­çš„åº”ç”¨\n\nä¸ºäº†ç»Ÿä¸€å°ºå¯¸è®¡ç®—ï¼Œå¯ä»¥é€ ä¸€ä¸ªæ–°çš„å•ä½ï¼Œæ¯”å¦‚ï¼šwem\n\n```javascript\nmodule.exports = {\n    /**\n     * åŸºç¡€å°ºå¯¸æ¢ç®—ã€‚(eg in less: wem(1px))\n     * @param less\n     * @param pluginManager\n     * @param functions\n     */\n    install(less, pluginManager, functions) {\n        functions.add('wem', function(data, base) {\n            const bem = base ? base.value : 36;\n            return less.dimension(data.value / bem, 'rem');\n        });\n    },\n};\n```\n\nåœ¨å…¬å…±çš„lessæ–‡ä»¶ä¸­ï¼Œå¯ä»¥å¼•ç”¨ä»¥ä¸Šæ’ä»¶ï¼š\n\n```less\n@plugin \"less-plugin\";\n\n// å¤–éƒ¨çš„ä½¿ç”¨æ–¹å¼ï¼Œç›´æ¥ç”¨è®¾è®¡ç¨¿å°ºå¯¸\n@contentWidth: wem(360);\n@padding: wem(10);\n```\n\næ­¤æ—¶çš„360ä¸ºè®¾è®¡ç¨¿çš„å®½åº¦ï¼Œlessæ’ä»¶ä¸­çš„é»˜è®¤36æ˜¯ä»¥è®¾è®¡ç¨¿360pxä¸ºå‡†çš„ï¼Œå¦‚æœä½ æ˜¯640pxï¼Œæ¢æˆ64å³å¯\n\n### å»¶ä¼¸\n\n#### DPR\n\nè®¾å¤‡åƒç´ æ¯”ï¼ˆdevice pixel radioï¼‰ï¼Œè®¾å¤‡åƒç´ æ¯”ï¼ˆdprï¼‰ = è®¾å¤‡åƒç´ ï¼ˆåˆ†è¾¨ç‡ï¼‰/è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼ˆå±å¹•å°ºå¯¸ï¼‰ã€‚ç”¨äººè¯è¯´ï¼Œå°±æ˜¯å¸¸è¯´çš„2å€å›¾ã€3å€å›¾ä¸­çš„é‚£ä¸ªæ•°å­—å€æ•°\n\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è®¾ç½®`initial-scale=1.0`å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¯¹äºdprå¤§äº1çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç²¾ç»†åŒ–ä¸€æ³¢æ“ä½œï¼Œå¯ä»¥ç”¨**window.devicePixelRatio**è·å–å½“å‰è®¾å¤‡çš„dprï¼Œç„¶ååŠ¨æ€è®¾ç½®`viewport`\n\n```javascript\nlet drp = window.devicePixelRatio;\nmeta.setAttribute('content', 'initial-scale=' + 1/dpr + ', maximum-scale=' + 1/dpr + ', minimum-scale=' + 1/dpr + ', user-scalable=no');\n```\n\nå¦‚æ­¤ï¼Œé…åˆremï¼Œå°±å¯ä»¥å®Œå…¨æŒ‰è®¾è®¡ç¨¿æ ‡æ³¨æ¥äº†ï¼Œä¹Ÿä¸ç”¨å†é™¤ä»¥2ã€é™¤ä»¥3ã€‚å¥½å¤„æ˜¯ï¼š\n\n- è§£å†³äº†å›¾ç‰‡é«˜æ¸…çš„é—®é¢˜ï¼›\n- è§£å†³äº†border 1pxçš„é—®é¢˜ã€‚æ¯”å¦‚è®¾ç½®äº†viewportçš„scaleä¸º0.5ï¼Œåœ¨2å€å±ä¸‹ï¼Œ1pxçš„borderå°±è¢«ç¼©æ”¾æˆ0.5pxï¼Œæ›´ä¸ºç»†è…»ï¼›\n\n#### VW  VH VM\n\nè§†å£å•ä½ï¼ˆViewport unitsï¼‰ï¼Œä¹‹å‰å†™Vueæ—¶å¶ç„¶å‘ç°çš„ã€‚æ˜¯ç›¸å¯¹äºè§†çª—çš„å®½é«˜åº¦ï¼Œå€¼ä¸º100ã€‚VMï¼ˆVMinï¼‰ï¼Œå³ï¼šå–å†³äºå“ªä¸ªæ›´å°\n\nå¯¹äºç§»åŠ¨ç«¯è€Œè¨€ï¼Œæœ€é‡è¦çš„æ˜¯å¦‚ä½•å¤šç»ˆç«¯å…¼å®¹ã€‚ä»¥ä¸Šä»‹ç»çš„å“åº”å¼ä¹Ÿå¥½ã€REMä¹Ÿå¥½éƒ½å„æœ‰åƒç§‹ï¼Œè€ŒREMä½¿å¾—CSSå’ŒJSè€¦åˆåœ¨äº†ä¸€èµ·ã€‚**VW**å’Œ**VH**çš„è¯ç”Ÿè§£å†³äº†è¿™ä¸€éš¾é¢˜ï¼Œç›®å‰æ¥çœ‹ï¼Œæ˜¯æœ€è¶‹äºå®Œç¾çš„åšæ³•ã€‚å…·ä½“åšæ³•å‚è€ƒä»¥ä¸‹èµ„æ–™ï¼š\n\n### å‚è€ƒèµ„æ–™ï¼š \n\n- [ç§»åŠ¨webé€‚é…åˆ©å™¨-rem](http://www.alloyteam.com/2016/03/mobile-web-adaptation-tool-rem/)\n- [æ˜é‡‘ï¼šç§»åŠ¨ç«¯/webç«¯é€‚é…æ–¹æ¡ˆ](https://juejin.im/post/5cbdee71f265da03b57b5866)\n- [è§†åŒºç›¸å…³å•ä½vw, vh..ç®€ä»‹ä»¥åŠå¯å®é™…åº”ç”¨åœºæ™¯](https://www.zhangxinxu.com/wordpress/2012/09/new-viewport-relative-units-vw-vh-vm-vmin/)\n- [vh,vwå•ä½ä½ çŸ¥é“å¤šå°‘ï¼Ÿ](https://juejin.im/entry/59b00e46f265da2491513bcc)\n- [åˆ©ç”¨è§†å£å•ä½å®ç°é€‚é…å¸ƒå±€](https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/)\n\n#### åœ¨çº¿DEMO\n\n- [REMå¸ƒå±€ - æ·˜å®èšåˆ’ç®—](https://jhs.m.taobao.com/m/index.htm#!all)\n- [è§†å£å•ä½å¸ƒå±€](https://jdc.jd.com/demo/ting/vw_layout.html)\n\n","tags":["å‰ç«¯","webx"],"categories":["æŠ€æœ¯"]},{"title":"Preactå…¥å‘ç¬”è®°ä¸€","url":"/tech-notes/Preact-learning-notes1-1548753818.html","content":"\n### ç®€è¿°\n\n**Preact**ï¼Œè¯»ï¼š`['pri:Ã¦kt]`ï¼Œè€Œé`æ‰¹React`ã€‚è·ŸPure Reactä¹Ÿæ‰¯ä¸ä¸Šä»€ä¹ˆå…³ç³»ã€‚\n\næ˜¯ç”±è°·æ­Œçš„ä¸€~~ç¾¤~~å¤§å…„å¼Ÿå¼€å‘å’Œç»´æŠ¤çš„ä¼˜åŒ–ç‰ˆ`React`ã€‚è¿™å¹¶éé€ ä¸ªè½®å­è¦å–ä»£FBçš„`React`ï¼Œé€šè¿‡ä¸€äº›èµ„æ–™å’Œå®è·µï¼Œå‘ç°è¿™ä¸ªè½®å­å¹¶ä¸ç®€å•ã€‚å…·ä½“å¯ä»¥é“¾æ¥åˆ°å®˜ç½‘ï¼Œä¸­æ–‡è¯´æ˜è¶³å¤Ÿå‹å¥½ï¼Œä½œè€…çœŸæ˜¯å¤ªèµäº†ã€‚\n\nå®˜æ–¹ï¼š[Preactå®˜ç½‘](https://preactjs.com/)\né¡¹ç›®åœ°å€ï¼š[Preact](https://github.com/developit/preact)\n\n![](/img/2019/15487547031177.jpg)\n\n\n### å®è·µç¬”è®°ï¼Œç¬¬ä¸€éƒ¨åˆ†\n\nè¿™ä¹Ÿå¹¶éæ˜¯è¿‘æœŸçš„æ–°é²œäº‹ç‰©ï¼Œåªæ˜¯æˆ‘ä¸ªäººåˆšæ¥è§¦ç½¢äº†ã€‚ä»è¿™ä¸€ä¸ªæœˆçš„ä½¿ç”¨çœ‹æ¥ï¼Œè¿™ä¸ªç¡®å®æ¯”Reactç®€å•ä¸€äº›ã€‚æ¯”å¦‚æ ¸å¿ƒåº“ç›´æ¥å»æ‰äº†`PropTypes`è¿™ç§ä¸œè¥¿ï¼Œå¯¹`Render`ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ­é…`TypeScript`å’Œ`Less`ä½¿ç”¨ï¼Œçˆ½çš„ä¹ˆæ³•...\n\n#### ä¸€. è¿™é‡Œè®°å½•ä¸‹å¼€å‘ç¯å¢ƒçš„é…ç½®ï¼Œä¸»è¦ä¾èµ–æƒ…å†µï¼š\n\n- Preact: ^8.2.6\n- typescript: ^3.2.4\n- Less: ^3.9.0\n- Webpack: ^4.29.0\n\n```json\n\"scripts\": {\n        \"dev\": \"NODE_ENV=development webpack-dev-server --config scripts/webpack.config.js\",\n        \"build\": \"NODE_ENV=production webpack --config scripts/webpack.config.js\",\n        \"ts-build\": \"tsc --pretty --outDir ./modules\",\n        \"ts-watch\": \"tsc -w --pretty --outDir ./modules\",\n        \"pm2-dev\": \"pm2 start npm --name prdemo -- run dev && npm run ts-watch\",\n        \"pm2-clear\": \"pm2 delete prdemo\"\n    },\n    \"husky\": {\n        \"hooks\": {\n            \"pre-commit\": \"lint-staged\"\n        }\n    },\n    \"lint-staged\": {\n        \"linters\": {\n            \"*.{js,jsx,md,json}\": [\n                \"prettier --write\",\n                \"git add\"\n            ],\n            \"*.{ts,tsx}\": [\n                \"prettier --write\",\n                \"tslint --fix\",\n                \"git add\"\n            ],\n            \"*.css\": [\n                \"stylelint --fix\",\n                \"git add\"\n            ],\n            \"*.less\": [\n                \"stylelint --fix --syntax=less\",\n                \"git add\"\n            ]\n        },\n        \"ignore\": [\n            \"./modules/**\"\n        ]\n    },\n    \"eslintConfig\": {\n        \"extends\": \"eslint-config-aerian\"\n    },\n    \"eslintIgnore\": [\n        \"build/*\"\n    ],\n    \"stylelint\": {\n        \"extends\": \"stylelint-config-standard\",\n        \"rules\": {\n            \"indentation\": 4,\n            \"number-leading-zero\": null,\n            \"at-rule-no-unknown\": [\n                true,\n                {\n                    \"ignoreAtRules\": [\n                        \"plugin\"\n                    ]\n                }\n            ],\n            \"selector-pseudo-class-no-unknown\": [\n                true,\n                {\n                    \"ignorePseudoClasses\": [\n                        \"global\"\n                    ]\n                }\n            ]\n        }\n    },\n    \"dependencies\": {\n        \"preact\": \"^8.2.6\"\n    },\n    \"devDependencies\": {\n        \"@types/jest\": \"^23.3.13\",\n        \"@types/node\": \"^8.10.38\",\n        \"copy-webpack-plugin\": \"^5.0.0\",\n        \"css-loader\": \"^2.1.0\",\n        \"file-loader\": \"^3.0.1\",\n        \"html-webpack-plugin\": \"^3.2.0\",\n        \"husky\": \"^1.3.1\",\n        \"jest\": \"^24.0.0\",\n        \"less\": \"^3.9.0\",\n        \"less-loader\": \"^4.1.0\",\n        \"lint-staged\": \"^8.1.1\",\n        \"mini-css-extract-plugin\": \"^0.5.0\",\n        \"mkdirp\": \"^0.5.1\",\n        \"preact-async-route\": \"^2.2.1\",\n        \"preact-render-spy\": \"^1.3.0\",\n        \"preact-router\": \"^2.6.1\",\n        \"prettier\": \"^1.16.1\",\n        \"recursive-copy\": \"^2.0.10\",\n        \"style-loader\": \"^0.23.1\",\n        \"stylelint\": \"^9.10.1\",\n        \"stylelint-config-standard\": \"^18.2.0\",\n        \"ts-jest\": \"^23.10.5\",\n        \"ts-loader\": \"^5.3.3\",\n        \"tslint\": \"^5.12.1\",\n        \"tslint-config-prettier\": \"^1.17.0\",\n        \"tslint-consistent-codestyle\": \"^1.15.0\",\n        \"tslint-eslint-rules\": \"^5.4.0\",\n        \"tslint-react\": \"^3.6.0\",\n        \"typescript\": \"^3.2.4\",\n        \"typings-for-css-modules-loader\": \"^1.7.0\",\n        \"uglifyjs-webpack-plugin\": \"^2.1.1\",\n        \"url-loader\": \"^1.1.2\",\n        \"webpack\": \"^4.29.0\",\n        \"webpack-cli\": \"^3.2.1\",\n        \"webpack-dev-server\": \"^3.1.14\"\n    }\n```\n\nä¹‹æ‰€ä»¥åŠ äº†`pm2`ï¼Œæ˜¯å› ä¸ºæœ‰ä¸¤ä»½`TypeScript`æºç éœ€è¦watchï¼Œ`Webpack`æœ¬èº«watchå ç”¨ä¸€ä¸ªconsoleçª—å£ï¼Œtscè‡ªå·±ä¹Ÿè¦æœ‰ã€‚å¦‚æœä¸€ä¸ªå‘½ä»¤å¯åŠ¨ï¼Œå°±ä¼šå¯¼è‡´ä¸€ä¸ªå¡åœ¨å¦ä¸€ä¸ªä¹‹å‰ï¼Œå¯¼è‡´å¦ä¸€ä¸ªæ— æ³•å¯åŠ¨.....æ‰€ä»¥ç´¢æ€§æŠŠwebpackç›´æ¥æ”¾åˆ°äº†åå°ã€‚å…¶æœ¬èº«ä½œä¸ºServeræœåŠ¡ï¼Œä¹Ÿç®—åˆç†ã€‚ä¸è¿‡æ­£å¸¸æƒ…å†µï¼Œä¸ä¼šåƒæˆ‘è¿™ä¹ˆå˜æ€......\n\n#### äºŒ. TSC\n\n```json\n{\n    \"compilerOptions\": {\n        \"charset\": \"utf8\",\n        \"sourceMap\": true,\n        \"rootDir\": \"./src/\",\n        \"outDir\": \"./modules\",\n        \"skipLibCheck\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"target\": \"es5\",\n        \"module\": \"es6\",\n        \"lib\": [\"es6\", \"es7\", \"dom\"],\n        \"allowJs\": false,\n        \"jsx\": \"react\",\n        \"jsxFactory\": \"h\",\n        \"strict\": true,\n        \"declaration\": true,\n        \"moduleResolution\": \"node\",\n        \"noImplicitAny\": false,\n        \"esModuleInterop\": false,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"preserveConstEnums\": true\n    },\n    \"include\": [\"./src/**/*\"],\n    \"exclude\": [\n        \"docs\",\n        \"modules\",\n        \"typings\",\n        \"node_modules\"\n    ]\n}\n```\n\næ³¨æ„`jsxFactory`ä½¿ç”¨çš„æ˜¯`h`ï¼Œè¿™ä¸ª`h`æ˜¯`Preact`çš„æ ¸å¿ƒä¹‹ä¸€\n\n#### ä¸‰. Lessçš„ä¸€ç‚¹é—®é¢˜\n\n1ï¼Œæ­£å¸¸ä½¿ç”¨importå¼•ç”¨lessæ—¶ï¼ŒIDEä¼šæŠ¥é”™æç¤º`Cannot find module './style.less'.`ã€‚ç›´æ¥åŠ `@ts-ignore`å¯ä»¥å¿½ç•¥ï¼Œä½†ä¸æ˜¯å¥½æ–¹æ³•\n\n```\n// @ts-ignore\nimport style from './style.less';\n```\n\nå¦‚ä¸Šæ‰€ä»¥ï¼Œè§£å†³æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼šç¬¬ä¸€æ–°å»º`less.d.ts`æ–‡ä»¶ï¼Œç¬¬äºŒåœ¨è¯¥æ–‡ä»¶å†…ç”³æ˜`less`\n\n```\ndeclare module \"*.less\";\n```\n\nç„¶åï¼Œåœ¨åŸºç±»ä¸­å¼•ç”¨ï¼Œæ³¨æ„ä¸æ˜¯importï¼Œè€Œæ˜¯**reference**æŒ‡ä»¤\n\n```\n/// <reference path=\"../../typings/less.d.ts\" />\n```\n\n2ï¼Œç»„ä»¶ä¸Šï¼Œç”¨ç‚¹è¯­æ³•ä½¿ç”¨lessçš„é€‰æ‹©å™¨ã€‚ä½†åˆå¾—æ³¨æ„ï¼Œ`style.className`çš„å€¼æ˜¯éšæœºå­—ç¬¦ä¸²ï¼Œå¹¶éå¯¹è±¡ï¼Œå› æ­¤ä¸èƒ½æ¥ç€ç‚¹ï¼ˆå†…å±‚åµŒå¥—æ‹¿ä¸åˆ°å€¼ï¼‰ï¼Œå³ï¼š`style.className.Name1`éæ³•\n\n```less\na {\n    &.normal {\n        color: #333;\n    }\n    &.active {\n        color: #fff;\n    }\n}\n```\n\nä»¥ä¸Šç”¨æ³•å¦‚ä¸‹ï¼š\n\n```html\n<nav class={isActive ? style.active : style.normal}>{txt}</a>\n```\n\n#### å››. Preactæ— çŠ¶æ€ç»„ä»¶ä½¿ç”¨\n\n```typescript\nimport {FunctionalComponent, h} from 'preact';\nimport style from './style.less';\n\ninterface INavProps {\n    transparent?: boolean,\n    title?: string,\n    onBack?: (index) => void\n    onHome?: (index) => void,\n    onShare?: (index) => void\n}\nexport const Navigator: FunctionalComponent<INavProps> = ({transparent, title, onBack, onHome, onShare}) => {\n    const onBackPress = (e) => {\n        if (onBack) {\n            onBack(e);\n            return;\n        }\n        // TODO.\n    };\n    const onHomePress = (e) => {\n        if (onHome) {\n            onHome(e);\n            return;\n        }\n        // TODO.\n    };\n    const onSharePress = (e) => {\n        if (onShare) {\n            onShare(e);\n            return;\n        }\n        // TODO.\n    };\n    const className = transparent ? style.transparent : style.normal;\n    return (\n        <nav class={className}>\n            <button class={className} onClick={onBackPress} />\n            <span class={className}>{title}</span>\n            <button class={className} onClick={onHomePress} />\n            <button class={className} onClick={onSharePress} />\n        </nav>\n    );\n};\n```\n\n#### äº”. å…¶ä»–æ–¹é¢\n\nç”±äºç€æ‰‹çš„è¿™é¡¹ç›®æœ‰ç‚¹æ€ªï¼Œæ‰€ä»¥è‡ªåˆ¶äº†ä¸€æ¬¾webpackæ’ä»¶ï¼Œå…¶ä¸­æœ‰ç”¨åˆ°äº†`recursive-copy`ã€‚éœ€è¦æŠŠæŒ‡å®šæ–‡ä»¶å¤¹é‡Œçš„éTSå’ŒTSXæ‹·è´åˆ°å¦å¤–çš„ç›®å½•ï¼Œé…ç½®å…¶`filter`æ—¶æ›¾è®©äººè›‹ç–¼ä¸å·².....å…·ä½“è¯·çœ‹[minimatch](https://github.com/isaacs/minimatch#usage)ã€‚ç»“è®ºæ˜¯è¿™ç©æ„è·Ÿä¸€èˆ¬æ­£åˆ™ä¸ä¸€æ ·ï¼Œå½“æ—¶æŒ‰æ­£åˆ™å’‹é…å’‹ä¸å¯¹\n\n```\n// è¿‡æ»¤tså’Œtsx\nconst OPTIONS = {\n    overwrite: true,\n    expand: true,\n    dot: true,\n    filter: ['**/*.!(tsx|ts)'],\n};\n```\n\n### æ‰©å±•é˜…è¯»ï¼š\n\n- [Preactï¼šä¸€ä¸ªå¤‡èƒçš„è‡ªæˆ‘ä¿®å…»](https://juejin.im/post/5a0191f25188254de1699b0b)\n- [TS-Preact](https://dominicstpierre.com/how-to-start-with-typescript-and-preact-a9ea3e0ba4dc)\n- [preact-material-components](https://github.com/prateekbh/preact-material-components)\n\n","tags":["å‰ç«¯","react","typescript"],"categories":["æŠ€æœ¯"]},{"title":"å¼•å…¥Gulpå‹ç¼©æ•´ç«™èµ„æºè¿›ä¸€æ­¥æé«˜å†™ä½œæ•ˆç‡","url":"/tech-notes/use-gulp-to-speed-hexo-1547999542.html","content":"\n### è¿™ç¯‡æ–‡ç« åŸºäº`JSimple`æœ€æ–°ç‰ˆ\n\nä¸Šä¸€ç¯‡çš„æ›´æ–°æ—¥å¿—ï¼š[The-Update-for-JSimple-in-Early2019](https://shuoit.net/tech-notes/the-update-for-jsimple-in-early2019-1547728233.html)\n\nå…¶å®å…³äºæœ¬æ–‡ä¸»é¢˜ï¼ŒGoogleä¸€ä¸‹æ–‡ç« åˆ°å¤„éƒ½æ˜¯ï¼Œç„¶è€Œæˆ‘æ‰¾äº†å‡ ç¯‡éƒ½æ˜¯`gulp3`ï¼Œå¯¹äºæˆ‘è¿™ç§å¿ä¸äº†æ—§ä¹ çš„äººæ¥è¯´å½“ç„¶ä¸è¡Œï¼Œäºæ˜¯ï¼Œæˆ‘ä¸€æŠŠæ¢­çš„å¼„äº†`gulp4`\n\n#### ä¾èµ–æƒ…å†µ\n\n```json\n\"scripts\": {\n    \"prepublish\": \"hexo clean && hexo g && gulp\",\n    \"publish\": \"hexo d && hexo b\"\n  },\n  \"dependencies\": {\n    \"@babel/core\": \"^7.2.2\",\n    \"@babel/preset-env\": \"^7.2.3\",\n    \"gulp\": \"^4.0.0\",\n    \"gulp-babel\": \"^8.0.0\",\n    \"gulp-htmlclean\": \"^2.7.22\",\n    \"gulp-htmlmin\": \"^5.0.1\",\n    \"gulp-imagemin\": \"^5.0.3\",\n    \"gulp-minify-css\": \"^1.2.4\",\n    \"gulp-uglify\": \"^3.0.1\",\n    \"hexo\": \"^3.7.0\",\n    \"hexo-deployer-git\": \"^0.3.1\",\n    \"hexo-generator-archive\": \"^0.1.5\",\n    \"hexo-generator-baidu-sitemap\": \"^0.1.6\",\n    \"hexo-generator-category\": \"^0.1.3\",\n    \"hexo-generator-index\": \"^0.2.1\",\n    \"hexo-generator-search\": \"^2.4.0\",\n    \"hexo-generator-sitemap\": \"^1.2.0\",\n    \"hexo-generator-tag\": \"^0.2.0\",\n    \"hexo-git-backup\": \"^0.1.2\",\n    \"hexo-renderer-ejs\": \"^0.3.1\",\n    \"hexo-renderer-marked\": \"^0.3.2\",\n    \"hexo-renderer-stylus\": \"^0.3.3\",\n    \"hexo-server\": \"^0.3.2\"\n  }\n```\n\næ–°å¢çš„`scripts`æ“ä½œï¼Œæ˜¯åœ¨å†™å®Œæ–‡ç« æ—¶ä¾¿äºæ¢­å“ˆã€‚ä¹‹äºåŒºåˆ†`prepublish`å’Œ`publish`ï¼Œæ˜¯æƒ³æé†’å„ä½ï¼Œä¸Šçº¿ä¹‹å‰å…ˆæ£€æŸ¥ä¸‹ ï¼šï¼‰\n\n#### Gulpä»»åŠ¡\n\nç«™ç‚¹æ ¹ç›®å½•æ–°å»ºï¼š`gulpfile.js`\n\n```javascript\nvar gulp = require('gulp');\nvar minifycss = require('gulp-minify-css');\nvar uglify = require('gulp-uglify');\nvar htmlmin = require('gulp-htmlmin');\nvar htmlclean = require('gulp-htmlclean');\nvar imagemin = require('gulp-imagemin');\n\n// å¼•å…¥babelï¼Œä¸‡ä¸€ç”¨äº†ES6å‘¢\nvar babel = require('gulp-babel');\n\ngulp.task('minify-html', function() {\n    return gulp.src('./public/**/*.html')\n        .pipe(htmlclean())\n        .pipe(htmlmin({\n            removeComments: true,\n            collapseWhitespace: true,\n            collapseBooleanAttributes: true,\n            removeEmptyAttributes: true,\n            removeScriptTypeAttributes: true,\n            removeStyleLinkTypeAttributes: true,\n            minifyJS: true,\n            minifyCSS: true\n        }))\n        .on('error', function(err) {\n            console.log('html Error!', err.message);\n            this.end();\n        })\n        .pipe(gulp.dest('./public'))\n});\ngulp.task('minify-css', function() {\n    return gulp.src('./public/**/*.css')\n        .pipe(minifycss())\n        .pipe(gulp.dest('./public'));\n});\ngulp.task('minify-js', function() {\n    return gulp.src(['./public/js/**/*.js', '!./public/js/**/*.{min,mini}.js'])\n        .pipe(babel())\n        .pipe(uglify())\n        .pipe(gulp.dest('./public/js'));\n});\ngulp.task('minify-images', function() {\n    return gulp.src('./public/img/**/*.*')\n        .pipe(imagemin(\n        [imagemin.gifsicle({'optimizationLevel': 3}),\n        imagemin.jpegtran({'progressive': true}),\n        imagemin.optipng({'optimizationLevel': 8}),\n        imagemin.svgo()],\n        {'verbose': true}))\n        .pipe(gulp.dest('./public/img'))\n});\ngulp.task('default', gulp.parallel('minify-html','minify-css','minify-js','minify-images', function(done){\n    done();\n}));\n```\n \n \n####  Babelå¤§æ³•ï¼Œæ¯•ç«Ÿä½ ä¸èƒ½ä¿è¯åœ¨æ¿€åŠ¨æ—¶ä¸ç”¨ES6ï¼ˆä¸»è¦æ˜¯è¿™è´§uglifyå¯¹æ­¤ä¸å‹å¥½ï¼‰\n \n ç«™ç‚¹æ ¹ç›®å½•æ–°å»ºï¼š`.babelrc`\n \n ```json\n {\n    \"presets\": [\"@babel/env\"]\n }\n ```\n \n \n#### éªŒè¯ä¸€ä¸‹\n\n![](/img/2019/15480009042280.jpg)\n\nå¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±å¾ˆæ²¡é—®é¢˜äº†ï¼ç›®å‰ä¸ºæ­¢ï¼Œæš‚æ—¶æ²¡å‘ç°æœ‰ä¸å¯¹çš„åœ°æ–¹ã€‚å—¯ï¼Œè·ªæ±‚æ‰“è„¸...\n\nğŸ‘€ï¸æé†’æˆ‘è¯¥ä¼‘æ¯äº†ï¼Œå¤§æ–°é—»åˆ°æ­¤ä¸ºæ­¢ã€‚æ˜å¤©ä¸­æ–‡å¤šæ‰“ä¸€ä»½è¤èœå¥–åŠ±è‡ªå·±......æ™šå®‰ ~ ğŸ˜´ï¸\n\n","tags":["hexo","webx"],"categories":["æŠ€æœ¯"]},{"title":"The-Update-for-JSimple-in-Early2019","url":"/tech-notes/the-update-for-jsimple-in-early2019-1547728233.html","content":"\n\n![JSimple-Snapshot-Macbook Pro15](/img/2019/JSimple-Snapshot-Macbook%20Pro15.png)\n\n\n### æ•ˆæœå¦‚ä¸Šï¼Œ æ›´æ–°æ—¥å¿—å¦‚ä¸‹ï¼š\n\n- ä¿®å¤å¤œé—´æ¨¡å¼ä¸‹ï¼Œä¸€ç›´è¢«è¯Ÿç—…çš„ä»£ç é«˜äº®éƒ¨åˆ†ç©ºç™½ï¼›\n- ä¿®å¤è¿”å›é¡¶éƒ¨æŒ‰é’®åœ¨Chromeä¸‹å¤±æ•ˆçš„é—®é¢˜ï¼›\n- æ–°å¢æ–‡ç« ç½®é¡¶åŠŸèƒ½ï¼›\n- æ–°å¢DNSé¢„å–æ¡ç›®ï¼Œå°½å¯èƒ½ä¸ºç«™ç‚¹æé€Ÿï¼›\n- æ›¿æ¢æœç´¢æ¨¡å—ï¼Œä½¿ç”¨æ–°çš„æœ¬åœ°æœç´¢ï¼Œå†…å®¹å…³é”®è¯ä¹Ÿå¯é«˜äº®ï¼›\n- ä¼˜åŒ–404æè¿°é¡µè‹¥å¹²ï¼›\n- æ›¿æ¢ç»Ÿè®¡æ¨¡å—ä¸º**Google Analysis**ï¼›\n- æ–°å¢æ–‡ç« ï¼Œåˆ†ç±»ï¼Œæ ‡ç­¾ç­‰å¤„**Google AdSense**ï¼Œä¸ºå¤§å®¢æˆ·æä¾›æ–¹ä¾¿çš„æµé‡å¥—ç°æ“ä½œï¼›\n- æ–°å¢å›¾ç‰‡æ‡’åŠ è½½æ“ä½œï¼›\n- æ–°å¢ä½œè€…ç»Ÿä¸€é…ç½®ï¼Œå³ä¼˜å…ˆè¯»æ–‡ç« ä½œè€…ï¼Œå…¶æ¬¡ä¸»é¢˜ä½œè€…ï¼›\n- å›½é™…åŒ–(i18N)ä¼˜åŒ–ï¼›\n- å»æ‰ä¸‘é™‹çš„æ»šåŠ¨æ¡ï¼›\n- ä¼˜åŒ–æ–‡å­—æ ·å¼ã€å¯¹å…¶æ–¹å¼ã€å±å®½è‹¥å¹²ï¼›\n- ä¼˜åŒ–é…ç½®å­—æ®µï¼Œå»æ‰ä¸å¿…è¦çš„é…ç½®é¡¹ï¼›\n- é¡µè„šé“¾æ¥ä¼˜åŒ–ï¼Œå¢åŠ ç½‘ç«™åœ°å›¾ï¼›\n- åˆå¹¶èµ„æºæ–‡ä»¶ï¼Œå‡å°‘httpè¯·æ±‚ï¼ˆæ­é…Gulpæ•ˆæœæ›´å¥½ï¼‰ï¼›\n\n### ä¸‹è¾¹å¯¹éƒ¨åˆ†æ¨¡å—åˆ†åˆ«è¯´æ˜\n\n#### 1. æœç´¢\n\nç”±äºæ—§ç‰ˆæœ¬ï¼ˆ`< 0.0.7`ï¼‰çš„æœç´¢ï¼Œæœ‰æ ·å¼é—®é¢˜ï¼Œä¸”æ— æ³•æ£€ç´¢æ–‡ç« å†…å®¹ï¼Œå…³é”®è¯ä¹Ÿæ— æ³•é«˜äº®ã€‚æ­¤æ¬¡æ›´æ–°å¼•å…¥`Next`ä¸»é¢˜çš„`Local-Search`ã€‚\n\n`JSimple`å¯¹æ­¤è¿›è¡Œäº†äºŒæ¬¡ä¿®æ”¹ï¼Œæ”¹è¿›äº†æœç´¢å‡½æ•°ä¸åˆç†æˆ–è€…æœ‰æ½œåœ¨é—®é¢˜çš„åœ°æ–¹ã€‚æ–°å¢é”®ç›˜æµæ“ä½œã€‚**`æ­£å¸¸æµè§ˆæ—¶ï¼ŒæŒ‰Fé”®å¯è¿…é€Ÿå”¤èµ·æœç´¢ï¼›å†æŒ‰ESCå¯å…³é—­æœç´¢`**ã€‚~~ç†æƒ³çš„äº¤äº’ä¸‹ï¼Œåº”è¯¥ä½¿ç”¨æ–¹å‘é”®æ§åˆ¶æ£€ç´¢ç»“æœçš„é€‰æ‹©ï¼Œæ— å¥ˆæ”¹åŠ¨è¾ƒå¤§ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´ç²¾åŠ›æŠ•å…¥ï¼Œæš‚ä¸”æ”¾å¼ƒæ²»ç–—~~\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœç´¢éœ€è¦å¼•å…¥ï¼š`hexo-generator-search`åº“ï¼Œå®ƒå°†ä¸ºæ£€ç´¢å†…å®¹æä¾›æ•°æ®ä¿éšœ\n\n#### 2. ç½®é¡¶\n\n`Hexo`æ˜¯é™æ€ç«™ï¼Œæ²¡æ³•åšåˆ°ç±»ä¼¼`WP`é‚£æ ·åå°é…ç½®ä¸€ä¸‹å°±èƒ½é¡¶ã€‚å› æ­¤è¿™ä¸ªæ“ä½œåªèƒ½åœ¨ç”Ÿæˆé™æ€HTMLæ—¶åšæ”¹å˜ã€‚\n\næ–°ç‰ˆæœ¬ç›®å½•ä¸­ï¼Œå¢åŠ äº†`patch`æ“ä½œï¼Œå…¶ä¸­`generator.js`å°±æ˜¯ç½®é¡¶é€»è¾‘å¤„ç†ã€‚éœ€è¦å°†å…¶æ›¿æ¢åˆ°å¯¹åº”ç›®å½•ä¸­ï¼Œç½®é¡¶æ–¹èƒ½ç”Ÿæ•ˆã€‚\n\nå¦å¤–ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ˜¯å¯¹æ–‡ç« å¢åŠ äº†`timestamp`å­—æ®µï¼Œç”¨åœ¨é…ç½®æ–‡ç« åœ°å€æ—¶ã€‚ä¸€èˆ¬å®‰è£…ä¸»é¢˜åï¼Œæ‰§è¡Œä¸€ä¸‹ï¼š`./run.sh`å³å¯ã€‚å½“`node_modules`ä¸æ…åˆ é™¤æˆ–è¿ç§»ç«™ç‚¹åï¼Œé¡µéœ€è¦æ‰§è¡Œä¸€æ¬¡ã€‚\n\n#### 3. å¹¿å‘Š\n\n> ç­–ç•¥å¦‚ä¸‹\n\n1. é¦–é¡µåˆ—è¡¨é—´ï¼šä½¿ç”¨è‡ªåŠ¨å¹¿å‘Šï¼Œä¸€èˆ¬ä¼šå‡ºç°åœ¨åˆ†ç±»åˆ—è¡¨ä¸­é—´ã€‚è€ƒè™‘åˆ°é¦–é¡µåŠ è½½é€Ÿåº¦ä¸ä½“éªŒåŠå±•ç¤ºé‡ï¼Œç‰¹ä½¿ç”¨è‡ªåŠ¨å¹¿å‘Šå–å¹³è¡¡ï¼Œå³ï¼šéšç¼˜å±•ç¤ºã€‚\n2. å½’æ¡£é¡µï¼šé¦–éƒ¨æ¨ªå‘è‡ªé€‚åº”å¹¿å‘Š\n3. æ ‡ç­¾é¡µï¼šå°¾éƒ¨æ¨ªå‘è‡ªé€‚åº”å¹¿å‘Š\n4. æ–‡ç« é¡µï¼šåˆ†å¸ƒä¸¤ä¾§ï¼Œä»¥åŠæœ«å°¾ã€‚ \n\nä¸ºä»€ä¹ˆç”¨`AdSense`ï¼Œä¸ªäººåŸºäºä»¥ä¸‹å‡ ç‚¹ï¼š\n\n1. åŸŸåæ— éœ€å¤‡æ¡ˆå°±èƒ½ç”¨ï¼›\n2. è¦†ç›–é¢å¹¿ï¼Œå¦‚æœä½ æ˜¯é’ˆå¯¹è¿™ä¸ªåœ°çƒçš„è¯»è€…ï¼Œé‚£ç›®å‰æ²¡æœ‰æ¯”å®ƒåˆé€‚çš„ï¼›\n3. ç¾å…ƒåˆ°å¸ï¼Œæ”¶ç›Šå¯è§‚ï¼›\n4. å¹¿å‘Šè´¨é‡ç›¸å¯¹äººæ€§åŒ–å’Œåº•çº¿åŒ–ï¼›\n\nå½“ç„¶ï¼Œå¦‚æœè§‚äººä¸å–œæ¬¢`Googleå¥—è£…`ï¼Œè¯·å…¶è‡ªåŠ›æ›´ç”Ÿ...\n\n#### 4. åŠ é€Ÿ\n\næœ¬æ¬¡å°†å¯ä»¥åˆå¹¶çš„èµ„æºï¼Œå†™åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚å¯¹`JQuery`çš„å¼•ç”¨ä¸å†æ˜¯ä»CDNæ‹‰ã€‚å¼•å…¥`DNS-Prefetch`æ“ä½œï¼Œå°½å¯æé«˜å“åº”é€Ÿåº¦ã€‚\n\nå…³äºGulpå‹ç¼©èµ„æºçš„æ“ä½œï¼Œè¯·å‚è€ƒè¿™è¾¹æ–‡ç« ï¼š[å¼•å…¥Gulpå‹ç¼©æ•´ç«™èµ„æºè¿›ä¸€æ­¥æé«˜å†™ä½œæ•ˆç‡](https://shuoit.net/tech-notes/use-gulp-to-speed-hexo-1547999542.html)\n\n#### 5. å°†æ¥\n\n+ ~~Disqusæ–°å¢å±€éƒ¨åˆ·æ–°æ“ä½œ~~\n+ ~~æœç´¢ç»“æœæ”¯æŒæ–¹å‘é”®é€‰æ‹©~~\n+ ~~æ›´çˆ½çš„ç§»åŠ¨ç«¯è§†è§‰åŠäº¤äº’~~\n\n\næ‹–äº†ä¸€ä¸ªå¤§ç¤¼æ‹œï¼Œç½®é¡¶äº†ä¸€å¤§å‘¨ï¼Œç»ˆäºã€Œè±¡å¾æ€§ã€çš„è¡¥å®Œäº†.... ğŸ˜…ğŸ˜…ğŸ˜…\n\n![](/img/2019/15486045964350.jpg)\n\n\n","tags":["hexo","webx"],"categories":["æŠ€æœ¯"]},{"title":"è‡ªæ‰§è¡ŒåŒ¿åå‡½æ•°IIFE","url":"/tech-notes/iife-notes-1546923599.html","content":"\njså¤§æ³•ä¹Ÿç©äº†å¥½å‡ å¹´ã€‚ä½†ä»Šå¤©è¯»åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œæåˆ°äº†ä¸€ä¸ªè¯ï¼š**`IIFE`**ï¼Œç«‹é©¬å‚»çœ¼äº†ï¼Œè¿™ä»€ä¹ˆé¬¼...\n\näºæ˜¯è°·æ­Œäº†ä¸€æ¢­...åŸæ¥å°±æ˜¯ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼ã€‚**`Immediately-Invoked Function Expression`**\n\nä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šå®šä¹‰æ—¶å°±ä¼šç«‹å³æ‰§è¡Œçš„  JavaScript å‡½æ•°ã€‚ä»¥ä¸‹æ¥è‡ª`mozilla`çš„æƒå¨è§£é‡Š\n\n> è¿™æ˜¯ä¸€ä¸ªè¢«ç§°ä¸º è‡ªæ‰§è¡ŒåŒ¿åå‡½æ•° çš„è®¾è®¡æ¨¡å¼ï¼Œä¸»è¦åŒ…å«ä¸¤éƒ¨åˆ†ã€‚\n> > ç¬¬ä¸€éƒ¨åˆ†æ˜¯åŒ…å›´åœ¨ åœ†æ‹¬å·è¿ç®—ç¬¦() é‡Œçš„ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°æ‹¥æœ‰ç‹¬ç«‹çš„è¯æ³•ä½œç”¨åŸŸã€‚è¿™ä¸ä»…é¿å…äº†å¤–ç•Œè®¿é—®æ­¤ IIFE ä¸­çš„å˜é‡ï¼Œè€Œä¸”åˆä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸï¼›\n> > ç¬¬äºŒéƒ¨åˆ†å†ä¸€æ¬¡ä½¿ç”¨ () åˆ›å»ºäº†ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ŒJavaScript å¼•æ“åˆ°æ­¤å°†ç›´æ¥æ‰§è¡Œå‡½æ•°ã€‚\n\nåœ¨ Javascript ä¸­ï¼Œåœ†æ‹¬å·**()**æ˜¯ä¸€ç§è¿ç®—ç¬¦ï¼Œè·Ÿåœ¨å‡½æ•°åä¹‹åï¼Œè¡¨ç¤ºè°ƒç”¨è¯¥å‡½æ•°ã€‚æ¯”å¦‚ï¼Œ`print()`å°±è¡¨ç¤ºè°ƒç”¨`print`å‡½æ•°ã€‚\n\n### è¯ä¸å¤šè¯´ï¼Œçœ‹ä»£ç \n\n```javascript\n/**\n * 1. å½“ä¸€ä¸ªå‡½æ•°å˜æˆIIFEæ—¶ï¼Œå…¶å†…éƒ¨çš„å˜é‡ä¸èƒ½ä»å¤–éƒ¨è®¿é—®\n */\n(function(){\n    var name = 'Jack';\n})();\n\n// å¤–éƒ¨ä¸èƒ½è®¿é—®å˜é‡ name\nconsole.log(name); // undefined\n\n/**\n * 2. å°† IIFE åˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼Œä¸æ˜¯å­˜å‚¨ IIFEæœ¬èº«ï¼Œè€Œæ˜¯å­˜å‚¨å…¶æ‰§è¡Œåè¿”å›çš„ç»“æœ\n */\nvar result = (function(){\n    var name = 'Jack';\n    return name + ' love Rose';\n})();\n\n// æ­¤æ—¶ï¼ŒIIFEå°±æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œä¸æ˜¯å‡½æ•°\nconsole.log(result); // Jack love Rose\n```\n\n### ç»“è®ºåŠç”¨é€”\n\n\n- éœ€è¦æœ‰æ‹¬å·åŒ…èµ·æ¥ï¼Œä¸”ä¸¤ä¸ªIIFEè¿ç€å†™æ—¶ï¼Œéœ€è¦åŠ åˆ†å·ï¼›\n- çœç•¥å‡½æ•°å‘½åï¼Œé¿å…æ±¡æŸ“å…¨å±€å˜é‡ï¼›\n- IIFEå†…éƒ¨å½¢æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œå¯ä»¥å°è£…ä¸€äº›å¤–éƒ¨æ— æ³•è¯»å–çš„ç§æœ‰å˜é‡ï¼›\n\n#### ä¸€ä¸ªå°çŸ¥è¯†ç‚¹\n\n```javascript\n// case1\nfor (var i = 0; i < 5; i++) {\n    setTimeout(function() {\n        console.log(i);\n    }, 1000 * i)\n}\n// case2\nfor (let i = 0; i < 5; i++) {\n    setTimeout(function() {\n        console.log(i);\n    }, 1000 * i)\n}\n```\n\nä¸Šé¢çš„case1å’Œcase2ï¼Œç»“æœåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿåœ¨çœ‹ä¸‹é¢ï¼š\n\n```javascript\n// case3\nfor (var i = 0; i < 5; i++) {\n    (function(i) {\n        setTimeout(function() {\n            console.log(i);\n        }, 1000 * i);\n    })(i);\n}\n```\n\n> case2å’Œcase3å‡æ‰“å‡ºï¼š0,1,2,3,4ã€‚è€Œcase1ï¼Œåˆ™ï¼š5,5,5,5,5\n\n\nå—¯ï¼Œç¥å¥‡ç°è±¡ä¹‹ï¼šlet-foræ­é…...å—ä½œç”¨åŸŸçš„åº”ç”¨\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"Typescriptå…¥å‘ç¯‡2","url":"/tech-notes/ts-study-part2-1546832521.html","content":"\n### è§„èŒƒç›¸å…³\n\n> é¢˜å¤–è¯ï¼Œä»Šå¤©çªç„¶æ„è¯†åˆ°æ–‡ç« è‹±æ–‡æ ‡é¢˜å¥½åƒæœ‰ç‚¹æ€ª...`ts-study`ï¼Œå½“æ—¶ä¸ºå•¥ä¸å†™æˆ`ts-learning`å‘¢ï¼Œæ˜æ˜¾æ„Ÿè§‰åè€…è¯»èµ·æ¥æ›´çˆ½å£å•ŠğŸ˜‚ï¸\n\nèµ„æ–™ï¼š\n\n- [å…¥å‘ç¯‡1ï¼ˆå‰ç½®æ“ä½œï¼‰](https://shuoit.net/tech-notes/ts-study-part1-1528259629.html)\n- [è‡ªå®šä¹‰ tslint & eslint è¯¦ç»†è§„åˆ™](https://juejin.im/post/5b3859a36fb9a00e4d53fc85)\n- [å®˜æ–¹è¯­æ³•åŸºç¡€](https://www.tslang.cn/docs/handbook/basic-types.html)\n- [Typescript Guidelines](https://semlinker.com/ts-intro-and-guide/)\n- [TypeScript Handbookï¼ˆä¸­æ–‡ç‰ˆï¼‰](https://zhongsp.gitbooks.io/typescript-handbook/)\n- [æ·±å…¥ç†è§£ TypeScript](https://jkchao.github.io/typescript-book-chinese/)\n- [awesome-typescript](https://github.com/semlinker/awesome-typescript)\n\n\n\n\n### ç¼–ç ç›¸å…³\n\n> ç”±äºå®˜æ–¹åŠå…¶ä»–èµ„æ–™åœ¨è¿™æ–¹é¢éå¸¸è¯¦ç»†äº†ï¼Œæœ¬æ–‡ä¸ä½œåŸºç¡€å†…å®¹çš„èµ˜è¿°ã€‚è¿™é‡Œå‡å®šè¯»è€…å·²ç»å­¦ä¹ äº†åŸºç¡€çš„è¯­æ³•ï¼Œå¦‚`åŸºç¡€ç±»å‹`ã€`å˜é‡å£°æ˜ç­‰`......\n\n#### 1. æ–°å»º`ts`æ–‡ä»¶\n\nå¯ä»¥é€‰æ‹©åœ¨é¡¹ç›®çš„æ ¹ç›®å½•å»ºç«‹`src`ç›®å½•ï¼Œç„¶åæ–°å»º`index.ts`æ–‡ä»¶\n\n```typescript\ntype CallBack = (value?: string) => void;\n\ninterface Config {\n    name: string\n    age: number\n    todo?: CallBack\n}\n\nexport default class Person {\n\n    init: Config\n\n    constructor(init?: Config) {\n        if (init) {\n            this.init = init;\n            this.init.todo = init.todo || ((value?: string) => {\n                console.log(value || 'This person have been created...But nothing todo')\n            })\n        }\n    }\n\n    public todoSomething() {\n        // this.init.todo();\n        this.init.todo('Hello World. Welcome to learn TypeScript');\n    }\n}\n```\n\n\n#### 2. é…ç½®ç¼–è¯‘é€‰é¡¹`tsc`ã€æ–‡æ¡£ç”Ÿæˆã€å¤´æ–‡ä»¶ç­‰\n\n```json\n\"scripts\": {\n    \"tsc\": \"tsc\",\n    \"dev\": \"npm run tsc -w\",\n    \"types\": \"tsc -d --emitDeclarationOnly --allowJs false --declarationDir ./@types\",\n    \"build\": \"build options...\",\n    \"prepush\": \"npm run tsc && npm run types\",\n    \"prepublish\": \"npm run prepush && npm run build\",\n    \"typingsdoc\": \"npx typedoc --out ./typings/doc  ./src/**/*.ts  --module umd\"\n}\n```\n\nå…¶ä¸­è¿™å—çš„é…ç½®ï¼Œåœ¨[part1](https://shuoit.net/tech-notes/ts-study-part1-1528259629.html)æåˆ°è¿‡ï¼Œ[åŒ…æ‹¬åŒæ—¶ç”Ÿæˆå¤´æ–‡ä»¶å¹¶å…è®¸jsæ–‡ä»¶è¾“å…¥](https://shuoit.net/tech-notes/Allow--declaration-with--allowJs-1546511333.html)\n\nè¿™é‡ŒæŠŠæ–°å¢åŠ çš„ï¼Œç®€è¦è¯´æ˜ä¸‹ï¼š\n\n- dev: ç›‘å¬.tsæ–‡ä»¶æ”¹åŠ¨ï¼Œå®æ—¶ç¼–è¯‘ã€‚å³å¢åŠ `-w`å‚æ•°å¯é¿å…æ‰‹åŠ¨ç¼–è¯‘\n- prepush: åˆå¹¶äº†ä¸¤ä¸ªå‘½ä»¤ï¼Œå¹¶ä¸”`git push`æ—¶ï¼Œä¼šè¢«è§¦å‘ã€‚ä»¥æ­¤å¯å¼ºåˆ¶æ¨é€å‰ç¼–è¯‘æœ€æ–°ä»£ç \n- prepublish: åŒæ ·åˆå¹¶ä¸¤ä¸ªå‘½ä»¤ï¼Œåœ¨å³å°†å‘å¸ƒä¸Šçº¿æ—¶ä½¿ç”¨\n- typingsdoc: ç”ŸæˆApiæ–‡æ¡£ã€‚å…³äºè¿™ä¸ªï¼Œä¸æ¸…æ¥šçš„è¯»è€…è¯·çœ‹è¿™ç¯‡æ–‡ç« ï¼š[Typedocä½¿ç”¨ç¬”è®°](https://shuoit.net/tech-notes/typedoc-notes-1544152560.html)\n\n#### 3. tslintåŠtsconfig\n\n```json\n// tslint.json\n{\n  \"defaultSeverity\": \"error\",\n  \"extends\": [\n    \"tslint:recommended\",\n    \"tslint-config-prettier\"\n  ],\n  \"rules\": {\n    \"encoding\": true,\n    \"no-console\": false,\n    \"object-literal-sort-keys\": false,\n    \"interface-name\": [true, \"never-prefix\"],\n    \"no-unused-expression\": [true, \"allow-fast-null-checks\"],\n    \"only-arrow-functions\": false,\n    \"no-duplicate-imports\": true,\n    \"no-mergeable-namespace\": true,\n    \"import-spacing\": true,\n    \"interface-over-type-literal\": true,\n    \"new-parens\": true,\n    \"no-shadowed-variable\": [\n      true,\n      {\n        \"class\": true,\n        \"enum\": true,\n        \"function\": true,\n        \"interface\": false,\n        \"namespace\": true,\n        \"typeAlias\": false,\n        \"typeParameter\": false\n      }\n    ],\n    \"variable-name\": false\n  }\n}\n\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"charset\": \"utf8\",\n    \"sourceMap\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"target\": \"es5\",\n    \"moduleResolution\": \"node\",\n    \"module\": \"umd\",\n    \"outDir\": \"./built\",\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"allowJs\": true\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"built\",\n  ]\n}\n```\n\n#### 4. æµ‹è¯•ç¼–è¯‘\n\næ‰§è¡Œ`npm run prepush`å’Œ`npm run typingsdoc`åã€‚æ ¹ç›®å½•ä¸‹ï¼Œåº”è¯¥å¤šäº†ä¿©ç›®å½•ï¼š\n\n![](/img/2019/15469365443647.jpg)\n\nApiæ–‡æ¡£ç›®å½•\n\n![](/img/2019/15469365901446.jpg)\n\n\nå¦‚æœéµç…§ç¬¬ä¸€ç¯‡çš„é…ç½®ï¼ŒåŠ è¿‡`prettier`å¤§æ³•ã€‚ä¼šå‘ç°`src`ä¸‹çš„æºæ–‡ä»¶ä¹Ÿè¢«ç¾ç¾çš„è°ƒæ•´äº†ä»£ç é£æ ¼\n\nç›®å‰ï¼Œæš‚æ—¶å°±è¿™äº›ã€‚åè¾¹åœ¨æ•´ç†ï¼Œæ€»ç»“ï¼ï¼ï¼\n\n","tags":["typescript"],"categories":["æŠ€æœ¯"]},{"title":"TSç¼–è¯‘ä¹‹ä¸€æŠŠæ¢­ç”Ÿæˆ@typeså’Œjs","url":"/tech-notes/Allow--declaration-with--allowJs-1546511333.html","content":"\n### å…ˆäº†è§£ä¸‹æƒ…å†µ\n\nå¦‚æœ`tsconfig.json`ä¸­ï¼ŒåŒæ—¶é…ç½®äº†å¦‚ä¸‹æ“ä½œï¼š\n\n```json\n{\n  \"compilerOptions\": {\n    \"charset\": \"utf8\",\n    \"sourceMap\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"target\": \"es5\",\n    \"moduleResolution\": \"node\",\n    \"module\": \"umd\",\n    \"outDir\": \"./dist\",\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"diagnostics\": true,\n    \"allowJs\": true,// å…è®¸ç¼–è¯‘javascriptæ–‡ä»¶\n    \"declaration\": true,//ç”Ÿæˆç›¸åº”çš„ .d.tsæ–‡ä»¶ï¼ˆç±»ä¼¼Objcä¸­çš„.hæ–‡ä»¶ï¼‰\n    \"declarationDir\": \"./@types\"//å•ç‹¬ä¸ºå¤´æ–‡ä»¶æŒ‡å®šå­˜æ”¾çš„ä½ç½®\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ]\n}\n```\n\nä»è¿™é‡Œå¼€å§‹ï¼ŒallowJså¦‚æœä¸ºtrueï¼Œåˆ™declarationå°±ä¸åº”è¯¥å­˜åœ¨ã€‚å¦åˆ™ä½ å°†ä¼šçœ‹åˆ°ç¼–è¯‘æ—¶å¦‚ä¸‹çš„æŠ¥é”™...\n\n> Option 'allowJs' cannot be specified with option 'declaration'.\n\n![](/img/2019/15465174447511.jpg)\n\nçœ‹ç›®å½•ï¼Œå¥½åƒéœ€è¦çš„ä¹Ÿéƒ½ç”Ÿæˆäº†ï¼\n\n![](/img/2019/15465177839896.jpg)\n\nä½†æ˜¯ä½œä¸ºä¸€ä¸ªä¼˜ç§€å‘ç¨‹åºå‘˜ï¼Œèƒ½çœ¼çççœ‹åˆ°ç¼–è¯‘æŠ¥é”™è€Œä¸ç®¡å˜›ï¼Œå½“ç„¶ä¸èƒ½ï¼ï¼ï¼äºæ˜¯å»æ’¸`github`ï¼Œå‘ç°æ—©åœ¨2016å¹´ï¼Œå¾®è½¯é‚£è¾¹å°±çŸ¥é“è¿™äº‹ï¼š[issues-7546](https://github.com/Microsoft/TypeScript/issues/7546)ï¼Œä½†ä¸ºæ¯›ç°åœ¨è¿˜å­˜åœ¨è¿™ä¸ªé—®é¢˜....\n\näºæ˜¯çœ‹ä»–ä»¬è®¨è®º~~äº’æ€¼~~ï¼Œæ— æ„ä¸­çœ‹åˆ°å·´åŸºæ–¯å¦ä¸€å…„å¼Ÿçš„å§¿åŠ¿ã€‚æœæ–­è¯•äº†ä¸‹ï¼Œå“ï¼Œåˆ«è¯´ï¼Œè¡Œäº†....\n\n![](/img/2019/15465180905253.jpg)\n\n\n### æˆ‘æŠŠä¸Šè¾¹çš„æ“ä½œæ•´ç†äº†ä¸‹ï¼Œå˜æˆäº†ä¸€æŠŠæ¢­ï¼Œè¯·çœ‹\n\n```json\n\"scripts\": {\n    \"tsc\": \"tsc\",\n    \"types\": \"tsc -d --emitDeclarationOnly --allowJs false --declarationDir ./@types\",\n    \"prepublish\": \"npm run tsc && npm run types\"\n},\n```\n\näºæ˜¯ï¼Œä¹‹åä½ éœ€è¦æ‰§è¡Œ`npm run prepublish`å°±å¯ä»¥äº†ã€‚å‰ææ˜¯æŠŠä¸‹è¾¹è¿™ä¸¤å¥ä»`tsconfig.json`ä¸­å¹²æ‰\n\n```json\n{\n    \"declaration\": true,\n    \"declarationDir\": \"./@types\"\n}\n```\n\nå¦‚æœè¯»è€…æœ‰æ›´æˆç†Ÿçš„æ–¹æ¡ˆï¼Œéº»çƒ¦å‘ŠçŸ¥ã€‚æ„Ÿè°¢ï¼\n\n\n\n\n","tags":["typescript"],"categories":["æŠ€æœ¯"]},{"title":"TypeDocæ’ä»¶å¼€å‘å°è®°","url":"/tech-notes/how-to-create-plugin-for-typedoc-1545808023.html","content":"\n### å…³äºTypeDocæ˜¯ä¸ªä»€ä¹ˆé¬¼åŠå…¶ä½¿ç”¨ï¼Œå¯ä»¥é˜…è¯»ä¹‹å‰é‚£ç¯‡æ–‡ç« \n\n[typedocä½¿ç”¨ç¬”è®°](https://shuoit.net/tech-notes/typedoc-notes-1544152560.html)\n\n## ä»¥ä¸‹è®°å½•TOCäºŒçº§èœå•æ’ä»¶çš„å¼€å‘\n\nå…ˆæ˜ç¡®ä½ è‡ªå·±çš„éœ€æ±‚ï¼Œä½ è¦åšä»€ä¹ˆï¼Ÿç°æœ‰çš„æ’ä»¶æœ‰æ²¡æœ‰èƒ½æ»¡è¶³ä½ çš„ï¼Œå¦‚æœæœ‰ç±»ä¼¼çš„ï¼Œæ”¹æ”¹æ˜¯å¦èƒ½ç”¨ï¼Ÿå¦‚æœæ¯›éƒ½æ²¡æœ‰ï¼Œé‚£å°±ä»å¤´å†™å§ï¼\n\né€ è½®å­æœ‰ä¸€å®šä»£ä»·ï¼Œå®˜ç½‘å¦‚æœæ²¡æœ‰è‰¯å¥½çš„æ•™ç¨‹æŒ‡å¯¼ï¼Œé‚£å°†ä¼šå¾ˆä»¤äººç¥ä¼¤ã€‚è€ŒTypeDocå°±æ˜¯è¿™æ ·ï¼Œè‡³å°‘æˆ‘è°·æ­Œäº†å¥½ä¹…ï¼Œæ²¡æ‰¾åˆ°ç±»ä¼¼æ•™ç¨‹çš„ä¸œè¥¿ï¼Œç´¢æ€§ä¸€æŠŠæ¢­çš„å»çœ‹äº†å¥½å¤šæ’ä»¶çš„æºç å®ç°ã€‚è¿˜å¥½æ˜ç™½å¥—è·¯...\n\næ’ä»¶çš„ä½œç”¨æ— å¤–ä¹æ˜¯å¯¹åŸæœ‰çš„ç³»ç»Ÿåšäº†äº›è®¸æ‰©å±•ã€‚å…¶åŸç†åœ¨äºæŸä¸ªæ—¶åˆ»åšæŸäº›æ‹¦æˆªï¼Œç„¶åæ„é€ å¿…è¦çš„æ•°æ®ï¼Œç„¶åå†æ ¹æ®ä¸»é¢˜æ¨¡æ¿è¿›è¡Œæ–‡ä»¶è¾“å‡ºæ¸²æŸ“ã€‚æ¯”å¦‚æˆ‘ä»¬è¦æ”¹é€ TOCæ¨¡å—ï¼Œä½¿å…¶æ”¯æŒäºŒçº§æ ç›®ï¼š\n\n### 1. GitHubæ‰¾åˆ°TypeDocæºç ï¼Œæ‰¾åˆ°TOCæ¨¡å—æ‰€åœ¨\n\n[TocPlugin.ts](https://github.com/TypeStrong/typedoc/blob/master/src/lib/output/plugins/TocPlugin.ts)\n\n```\n\ninitialize() {\n    this.listenTo(this.owner, {\n        [PageEvent.BEGIN]: this.onRendererBeginPage\n    });\n}\n\nprivate onRendererBeginPage(page: PageEvent) {        \n    // ä»¥ä¸Šçœç•¥.... å¯ä»¥çœ‹åˆ°è¿™é‡Œï¼Œå³è¾¹åŸæœ‰çš„TOCç›®å½•æ ‘å°±æ˜¯ä»è¿™é‡Œç”Ÿæˆæ•°æ®ã€‚è€Œæˆ‘ä»¬è¦æ”¹çš„å¯èƒ½ä¹Ÿåœ¨è¿™é‡Œ\n    TocPlugin.buildToc(model, trail, page.toc, tocRestriction);\n}\n\n```\n\n### 2. ç ”ç©¶å…¶ä»–æ’ä»¶çš„å…¥å£æ–‡ä»¶index.jsï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°\n\næ‰€æœ‰æ’ä»¶éƒ½æœ‰ç±»ä¼¼çš„æ³¨å†Œæ–¹æ³•ï¼Œå³ï¼šä½ çš„æ’ä»¶åç§°ï¼ŒåŠŸèƒ½éœ€è¦æŒ‚æ¥åˆ°æ–‡æ¡£ç³»ç»Ÿã€‚å½“å¼€å§‹ç”Ÿæˆæ•°æ®æ—¶ï¼Œæ”¶åˆ°äº‹ä»¶åå¼€å§‹æ„é€ éœ€è¦çš„æ•°æ®ç»“æ„\n\n```\n\nconst P = require('./plugin');\n\nmodule.exports = function(PluginHost) {\n\tconst app = PluginHost.owner;\n\t\n\t// å¦‚æœå·²ç»æ³¨å†Œè¿‡äº†ï¼Œå°±åˆ«å†é‡å¤æ³¨å†Œ\n\tif (app.converter.hasComponent(P.PLUGIN_NAME)) {\n\t\treturn;\n\t}\n\tif (app.renderer.hasComponent(P.PLUGIN_NAME)) {\n\t\treturn;\n\t}\n\n  // æ­¤å¤„å£°æ˜æ’ä»¶åç§°\n\tapp.options.addDeclaration({ name: P.PLUGIN_NAME, short: P.PLUGIN_SHORT_NAME });\n\n  // ç›‘å¬æ•°æ®å˜åŒ–\n\tapp.converter.addComponent(P.PLUGIN_NAME, P.TocGroupPlugin);\n\n  // ç›‘å¬é¡µé¢æ¸²æŸ“\n\tapp.renderer.addComponent(P.PLUGIN_NAME, P.TocGroupPlugin);\n};\n\n```\n\n### 3. åšå¿…è¦çš„ç›‘å¬åŠæ•°æ®æ¨¡å‹æ„é€ \n\nç ”ç©¶TOCä¸»é¢˜æ¨¡æ¿å¯ä»¥çœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶å®æœ€ç»ˆè¯»çš„å°±æ˜¯tocè¿™ä¸ªå˜é‡é‡Œçš„childrenã€‚è€Œè¦æ”¹é€ çš„å°±æ˜¯æŠŠæ ‡ç­¾å†…å®¹å†åŒ…ä¸€å±‚ï¼Œå¡åˆ°è¿™ä¸ªå˜é‡é‡Œã€‚å¼„æˆäºŒç»´æ•°ç»„å³å¯ã€‚\n\n![](/img/2018/15458121120623.jpg)\n\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**ä¸€å®šè¦åœ¨`initialize`æ–¹æ³•é‡Œæ­£ç¡®çš„ç›‘å¬äº‹ä»¶ã€‚å¦åˆ™æ‹¿ä¸åˆ°ä½ è¦çš„å€¼**ã€‚æ­£ç¡®ç›‘å¬çš„å‰æè¿˜å¿…é¡»æ˜¯åœ¨`index.js`é‡Œæ­£ç¡®æ³¨å†Œã€‚\n\næ¯”å¦‚è¦å¤„ç†`PageEvent`äº‹ä»¶ï¼Œå°±è¦ç›‘å¬`rendered`ç±»å‹ï¼›å¤„ç†`Converter`äº‹ä»¶ï¼Œå°±è¦ç›‘å¬`converter`ç±»å‹ã€‚\n\n#### è·å–æ–‡æ¡£ä¸­æŒ‡å®šæ³¨è§£åç§°å’Œå†…å®¹\n\n```javascript\n\n// 1. initializeé‡Œç›‘å¬ï¼š [Converter.EVENT_RESOLVE_BEGIN]: this.onBeginResolve,\n// 2. onBeginResolveå›è°ƒä¸­æ‹¿åˆ°Contextï¼Œæ ¹æ®éœ€æ±‚å–æˆ–å­˜æ•°æ®\nconst groupedData = [];\nconst deprecatedData = new Set();\nconst mapedTocData = {};\nconst reflections = context.project.reflections;\nfor (const key in reflections) {\n    const ref = reflections[key];\n    const comment = ref.comment;\n    const homePath = `modules/_index_.${context.project.name.replace(/\\-/g, '')}.html`;\n\n    if (!comment || !comment.tags) continue;\n\n    for (const tag of comment.tags) {\n    // add deprecated item names\n    if (DEPRECATED_REGEXP.test(`@${tag.tagName}`)) deprecatedData.add(ref.name);\n    // add special tags\n    if (this.regexp.test(`@${tag.tagName}`)) {\n        groupedData.push(ref.name);\n        const groupKey = tag.text.split(/\\r\\n?|\\n/)[0];\n        if (!mapedTocData[groupKey]) mapedTocData[groupKey] = [];\n            mapedTocData[groupKey].push(ref.name);\n\t\t\t\t break;\n        }\n    }\n}\n\n// ä»¥ä¸Šæ„é€ çš„æ•°æ®éœ€è¦å­˜åˆ°Contextä¸­ï¼Œè¯•è¿‡æ’ä»¶çš„æˆå‘˜å˜é‡ï¼Œä½†æ˜¯åœ¨å…¶ä»–äº‹ä»¶å›è°ƒä¸­æ‹¿ä¸åˆ°æˆå‘˜å˜é‡çš„å€¼ï¼Œäº‹ä»¶å…³ç³»æ²¡æœ‰æ·±æ‰’....\ncontext.project[PLUGIN_NAME] = { groupedData, deprecatedData, mapedTocData, homePath };\n\n```\n\n#### æ„é€ æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®\n\nè¯·ç›´æ¥å‚è€ƒè¿™é‡Œä»£ç ï¼š[buildGroupTocContent](https://github.com/tangkunyin/typedoc-plugin-toc-group/blob/master/plugin.ts)\n\n\n### 4. æµ‹è¯•åŠŸèƒ½\n\nå°†æ’ä»¶ç›®å½•ä¸‹çš„æ–‡ä»¶ç»„ç»‡å¥½ï¼Œé…ç½®ç¼–è¯‘å‘½ä»¤ã€‚ç„¶åæ‹·è´åˆ°`node_modules`ä¸‹ï¼Œæ‰§è¡Œ`typedoc`æ„å»ºæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨åŠ è½½æ’ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼š\n\n> Loaded plugin xxx/node_modules/typedoc-plugin-toc-group\n\nå¦‚æœæ§åˆ¶å°èƒ½æ‰“å°ç±»ä¼¼çš„è¿™æ¡å‘½ä»¤ï¼Œé‚£æ­å–œï¼Œä½ çš„æ–°æ’ä»¶å·²ç»æˆåŠŸåŠ è½½äº†ã€‚ç„¶åå‰©ä¸‹çš„å°±æ˜¯åå¤è°ƒè¯•ã€‚ç›´åˆ°å®ç°ä½ è¦çš„åŠŸèƒ½å³å¯ã€‚\n\n\n### 5. å®šåˆ¶ä¸»é¢˜\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®ç»“æ„æœ‰äº†ï¼Œé¡µæ¸²æŸ“å‡ºä½ è¦çš„ç»“æœäº†ã€‚ä½†æ˜¯å¯èƒ½é•¿ç›¸ä¸å¤ªå¥½çœ‹ã€‚è¿™æ—¶ä½ å°±è¦å®šåˆ¶ä¸€ä¸‹é»˜è®¤çš„ä¸»é¢˜äº†ã€‚æ€è·¯å°±æ˜¯çŒœæµ‹ä½ çš„åŠŸèƒ½æ‰€åœ¨çš„æ–‡ä»¶ï¼Œç„¶åå»æ”¹é€ ä»–ã€‚æ¯”å¦‚ä¸Šé¢æˆªå›¾é‚£ä¸ªã€‚\n\næ”¹å®Œäº†ä¹‹åï¼Œä½ å¯ä»¥é€‰æ‹©æäº¤åˆ°npmï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°è‡ªå·±é¡¹ç›®ä¸­ï¼Œç”¨è·¯å¾„çš„æ–¹å¼å»å¼•ç”¨ã€‚\n\n### 6. æ€»ç»“ä¸€ä¸‹\n\n1. æ˜ç¡®éœ€æ±‚ï¼ŒçŒœæµ‹ä¸ä½ åŠŸèƒ½ç›¸å…³çš„ä»£ç åœ¨å“ªé‡Œï¼Œå»çœ‹æºç ï¼›\n2. ç ”ç©¶å…¶ä»–æ’ä»¶æˆ–ä¸»é¢˜çš„ç›®å½•ç»“æ„ï¼Œæ­å»ºè‡ªå·±çš„æ’ä»¶æˆ–ä¸»é¢˜ç›®å½•ç»“æ„ï¼›\n3. å…¥å£æ–‡ä»¶æ³¨å†Œäº‹ä»¶ï¼Œç›‘å¬äº‹ä»¶ã€‚æ‹¿åˆ°æ³¨è§£ä¸Šçš„å†…å®¹ï¼›\n4. å½“é¡µé¢å¼€å§‹æ¸²æŸ“æ—¶ï¼Œæ ¹æ®æ³¨è§£å»è§£æã€æ‹¼å‡‘ä½ è¦çš„æ•°æ®ç»“æ„ï¼›\n5. å°†åŸæ¥çš„æ•°æ®ç»“æ„ä»å†…éƒ¨æ”¹æ‰ï¼ˆæ³¨æ„åˆ«æ”¹çš„å¤ªç¦»è°±å¦åˆ™åŠ è½½ä¼šå´©æºƒï¼‰ï¼›\n6. æ•°æ®æ²¡é—®é¢˜åï¼Œå®šåˆ¶ä¸»é¢˜ã€‚æ”¹æˆä½ å–œæ¬¢çš„æ ·å­ï¼›\n\nå°±å†™åˆ°è¿™é‡Œï¼Œæœ‰ä¸æ˜ç™½äº†ã€‚å¯ä»¥æ–‡ç« åç•™è¨€ï¼Œæˆ–è€…ç›´æ¥å»çœ‹æˆ‘å†™çš„è¿™ä¸ªä¸»é¢˜ã€‚\n\n\n","tags":["typescript"],"categories":["æŠ€æœ¯"]},{"title":"æµ…è°ˆJsæ¨¡å—åŒ–","url":"/tech-notes/javascript-module-notes-1544172600.html","content":"\nå…³äºJSæ¨¡å—åŒ–çš„é—®é¢˜ï¼Œä¸€ç›´è¢«å¿½è§†ï¼Œä»Šå¤©é‡æ¥æ‹¿å‡ºæ¥è°ˆè°ˆï¼š`CommonJS`ï¼Œ`AMD`ï¼Œ`UMD`ï¼Œä»¥åŠ`Harmony`ç­‰...\n\n> æ²¡æœ‰æ¨¡å—åŒ–ä¹‹å‰çš„æ“ä½œï¼š**scriptæ ‡ç­¾å¼•å…¥jsæ–‡ä»¶ï¼Œç›¸äº’ç½—åˆ—ï¼Œä½†æ˜¯è¢«ä¾èµ–çš„æ”¾åœ¨å‰é¢ï¼Œå¦åˆ™ä½¿ç”¨å°±ä¼šæŠ¥é”™**ã€‚å‘½åç©ºé—´æ˜¯ç”±å•ä¸€çš„å…¨å±€å¯¹è±¡æ¥æè¿°çš„ï¼Œå¦‚`JQuery`çš„`$`ã€‚\n\n\n#### CommonJS\n\nä¸»è¦ç”¨äºNodeJSåç«¯ï¼Œé‡‡ç”¨åŒæ­¥çš„æ–¹å¼åŠ è½½æ–‡ä»¶ï¼Œå®ƒæœ‰å››ä¸ªé‡è¦çš„ç¯å¢ƒå˜é‡ä¸ºæ¨¡å—åŒ–çš„å®ç°æä¾›æ”¯æŒï¼šmoduleã€exportsã€requireã€globalã€‚å®é™…ä½¿ç”¨æ—¶ï¼Œç”¨module.exportså®šä¹‰å½“å‰æ¨¡å—å¯¹å¤–è¾“å‡ºçš„æ¥å£ï¼ˆä¸æ¨èç›´æ¥ç”¨exportsï¼‰ï¼Œç”¨requireåŠ è½½æ¨¡å—ã€‚\n\nç‰¹ç‚¹ï¼š\n\n1. æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†ï¼Œä»¥åå†åŠ è½½ï¼Œå°±ç›´æ¥è¯»å–ç¼“å­˜ç»“æœã€‚è¦æƒ³è®©æ¨¡å—å†æ¬¡è¿è¡Œï¼Œå¿…é¡»æ¸…é™¤ç¼“å­˜ã€‚\n2. æ¨¡å—åŠ è½½ä¼šé˜»å¡æ¥ä¸‹æ¥ä»£ç çš„æ‰§è¡Œï¼Œéœ€è¦ç­‰åˆ°æ¨¡å—åŠ è½½å®Œæˆæ‰èƒ½ç»§ç»­æ‰§è¡Œâ€”â€”åŒæ­¥åŠ è½½ã€‚\n\n\n#### AMD\n\nåœ¨æœåŠ¡ç«¯ï¼Œæ¨¡å—æ–‡ä»¶éƒ½å­˜åœ¨æœ¬åœ°ç£ç›˜ï¼Œè¯»å–éå¸¸å¿«ï¼Œæ‰€ä»¥è¿™æ ·åšä¸ä¼šæœ‰é—®é¢˜ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨ç«¯ï¼Œé™äºç½‘ç»œåŸå› ï¼Œ**CommonJSä¸é€‚åˆæµè§ˆå™¨ç«¯æ¨¡å—åŠ è½½ï¼Œæ›´åˆç†çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¼‚æ­¥åŠ è½½**ï¼Œå³ï¼š**ADMï¼šå¼‚æ­¥æ¨¡å—å®šä¹‰ï¼ŒAsynchronous Module Definition**ã€‚\n\nAMDè§„èŒƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚\n\nä¸€ç‚¹ä¼˜ç‚¹ï¼šé€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ã€å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—ï¼›\nä¸€ç‚¹ç¼ºç‚¹ï¼šä¸èƒ½æŒ‰éœ€åŠ è½½ã€å¼€å‘æˆæœ¬å¤§ã€‚\n\n#### CMD\n\nCMDæ˜¯åœ¨AMDåŸºç¡€ä¸Šæ”¹è¿›çš„ä¸€ç§è§„èŒƒï¼Œå’ŒAMDä¸åŒåœ¨äºå¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºå¤„ç†ä¸åŒï¼ŒCMDæ˜¯å°±è¿‘ä¾èµ–ï¼Œè€ŒAMDæ˜¯å‰ç½®ä¾èµ–ã€‚æ­¤è§„èŒƒå…¶å®æ˜¯åœ¨sea.jsæ¨å¹¿è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ã€‚\n\n```javascript\n\n/** AMDå†™æ³• **/\ndefine([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"], function(a, b, c, d, e, f) { \n     // ç­‰äºåœ¨æœ€å‰é¢å£°æ˜å¹¶åˆå§‹åŒ–äº†è¦ç”¨åˆ°çš„æ‰€æœ‰æ¨¡å—\n    a.doSomething();\n    if (false) {\n        // å³ä¾¿æ²¡ç”¨åˆ°æŸä¸ªæ¨¡å— bï¼Œä½† b è¿˜æ˜¯æå‰æ‰§è¡Œäº†\n        b.doSomething()\n    } \n});\n\n/** CMDå†™æ³• **/\ndefine(function(require, exports, module) {\n    var a = require('./a'); //åœ¨éœ€è¦æ—¶ç”³æ˜ï¼Œå¾ˆæ˜æ˜¾CMDå¯ä»¥åšåˆ°æŒ‰éœ€åŠ è½½\n    a.doSomething();\n    if (false) {\n        var b = require('./b');\n        b.doSomething();\n    }\n});\n\n```\n\n#### UMD\n\n**é€šç”¨æ¨¡å—å®šä¹‰ï¼ˆUMDï¼ŒUniversal Module Definitionï¼‰**ã€‚å…¼å®¹AMDå’ŒcommonJSè§„èŒƒçš„åŒæ—¶ï¼Œè¿˜å…¼å®¹å…¨å±€å¼•ç”¨çš„æ–¹å¼ã€‚å¯è¿è¡Œåœ¨æµè§ˆå™¨æˆ–æœåŠ¡å™¨ç¯å¢ƒã€‚\n\næ— å¯¼å…¥å¯¼å‡ºè§„èŒƒï¼Œå®ç°åŸç†å¦‚ä¸‹ï¼š\n\n1. å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒNode.jsæ¨¡å—æ ¼å¼ï¼ˆexportsæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨Node.jsæ¨¡å—æ ¼å¼ã€‚\n2. å†åˆ¤æ–­æ˜¯å¦æ”¯æŒAMDï¼ˆdefineæ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå­˜åœ¨åˆ™ä½¿ç”¨AMDæ–¹å¼åŠ è½½æ¨¡å—ã€‚\n3. å‰ä¸¤ä¸ªéƒ½ä¸å­˜åœ¨ï¼Œåˆ™å°†æ¨¡å—å…¬å¼€åˆ°å…¨å±€ï¼ˆwindowæˆ–globalï¼‰ã€‚\n\n```javascript\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        //AMD\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        //Node, CommonJSä¹‹ç±»çš„\n        module.exports = factory(require('jquery'));\n    } else {\n        //æµè§ˆå™¨å…¨å±€å˜é‡(root å³ window)\n        root.returnExports = factory(root.jQuery);\n    }\n}(this, function ($) {\n    //æ–¹æ³•\n    function myFunc(){};\n    //æš´éœ²å…¬å…±æ–¹æ³•\n    return myFunc;\n}));\n\n```\n\n#### ES6 Module\n\næ—¨åœ¨æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚\n\nå…¶æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼šexportå’Œimportã€‚exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚importå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œåœ¨ç¼–è¯‘æ—¶å°±å¼•å…¥æ¨¡å—ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œæ‰€ä»¥æ— æ³•å®ç°æ¡ä»¶åŠ è½½ã€‚ä¹Ÿæ­£å› ä¸ºè¿™ä¸ªï¼Œä½¿å¾—é™æ€åˆ†ææˆä¸ºå¯èƒ½ã€‚\n\nES6æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚\n\nç‰¹ç‚¹ï¼š\n\n1. æŒ‰éœ€åŠ è½½ï¼ˆç¼–è¯‘æ—¶åŠ è½½ï¼‰\n2. importå’Œexportå‘½ä»¤åªèƒ½åœ¨æ¨¡å—çš„é¡¶å±‚ï¼Œä¸èƒ½åœ¨ä»£ç å—ä¹‹ä¸­ï¼ˆå¦‚ï¼šifè¯­å¥ä¸­ï¼‰,import()è¯­å¥å¯ä»¥åœ¨ä»£ç å—ä¸­å®ç°å¼‚æ­¥åŠ¨æ€æŒ‰éœ€åŠ¨æ€åŠ è½½\n\nè¯­æ³•ï¼š\n\n1. å¯¼å…¥ï¼šimport {æ¨¡å—åAï¼Œæ¨¡å—åB...} from 'æ¨¡å—è·¯å¾„'\n2. å¯¼å‡ºï¼šexportå’Œexport default\n3. import('æ¨¡å—è·¯å¾„').then()æ–¹æ³•\n\n> æ³¨æ„ï¼šexportåªæ”¯æŒå¯¹è±¡å½¢å¼å¯¼å‡ºï¼Œä¸æ”¯æŒå€¼çš„å¯¼å‡ºï¼Œexport defaultå‘½ä»¤ç”¨äºæŒ‡å®šæ¨¡å—çš„é»˜è®¤è¾“å‡ºï¼Œåªæ”¯æŒå€¼å¯¼å‡ºï¼Œä½†æ˜¯åªèƒ½æŒ‡å®šä¸€ä¸ªï¼Œæœ¬è´¨ä¸Šå®ƒå°±æ˜¯è¾“å‡ºä¸€ä¸ªå«åšdefaultçš„å˜é‡æˆ–æ–¹æ³•ã€‚\n\nè§„èŒƒï¼š\n\n```javascript\n\n/*é”™è¯¯çš„å†™æ³•*/\n// å†™æ³•ä¸€\nexport 1;\n\n// å†™æ³•äºŒ\nvar m = 1;\nexport m;\n\n// å†™æ³•ä¸‰\nif (x === 2) {\n  import MyModual from './myModual';\n}\n\n/*æ­£ç¡®çš„ä¸‰ç§å†™æ³•*/\n// å†™æ³•ä¸€\nexport var m = 1;\n\n// å†™æ³•äºŒ\nvar m = 1;\nexport {m};\n\n// å†™æ³•ä¸‰\nvar n = 1;\nexport {n as m};\n\n// å†™æ³•å››\nvar n = 1;\nexport default n;\n\n// å†™æ³•äº”\nif (true) {\n    import('./myModule.js')\n    .then(({export1, export2}) => {\n      // ...Â·\n    });\n}\n\n// å†™æ³•å…­\nPromise.all([\n  import('./module1.js'),\n  import('./module2.js'),\n  import('./module3.js'),\n])\n.then(([module1, module2, module3]) => {\n   Â·Â·Â·\n});\n\n```\n\n\n\n#### System\n\nsystemjsæ˜¯æ¨¡å—åŠ è½½å™¨ï¼Œå¯ä»¥å¯¼å…¥ä»»ä½•æµè¡Œæ ¼å¼çš„æ¨¡å—ï¼ˆCommonJSã€UMDã€AMDã€ES6ï¼‰ã€‚å®ƒæ˜¯å·¥ä½œåœ¨ES6æ¨¡å—åŠ è½½polyfill ä¹‹ä¸Šï¼Œå®ƒèƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†å’Œæ£€æµ‹æ‰€ä½¿ç”¨çš„æ ¼å¼ã€‚ systemjs ä¹Ÿèƒ½ä½¿ç”¨æ’ä»¶è½¬æ¢es6ï¼ˆ ç”¨ Babel æˆ–è€… Traceurï¼‰æˆ–è€…è½¬æ¢TypeScript å’Œ CoffeeScriptä»£ç ã€‚ä½ åªéœ€è¦åœ¨å¯¼å…¥ä½ çš„æ¨¡å—ä¹‹å‰ä½¿ç”¨ System.config({ ... }) è¿›è¡Œç³»ç»Ÿé…ç½®ã€‚\n\n[Dynamic ES module loader](https://github.com/systemjs/systemjs)\n\n\n\n\n#### Harmony\n\næœªæ¥çš„æ¨¡å—ï¼Œç›®å‰ä»å¤„äºå»ºè®¾æ€§é˜¶æ®µã€‚\n\næ”¯æŒåŸºäºè¿œç¨‹æ¥æºçš„æ¨¡å—ï¼Œå¦‚ï¼š\n\n```javascript\n\nmodule cakeFactory from \"http://addyosmani.com/factory/cakes.js\";\ncakeFactory.oven.makeCupcake( \"sprinkles\" );\ncakeFactory.oven.makeMuffin( \"large\" );\n\n```\n\n\n#### ç›¸å…³èµ„æ–™ï¼š\n\n[https://segmentfault.com/a/1190000012419990](https://segmentfault.com/a/1190000012419990)\n\n[http://justineo.github.io/singles/writing-modular-js/](http://justineo.github.io/singles/writing-modular-js/)\n\n[https://juejin.im/post/5b4420e7f265da0f4b7a7b27#comment](https://juejin.im/post/5b4420e7f265da0f4b7a7b27#comment)\n\n[https://juejin.im/post/5aaa37c8f265da23945f365c](https://juejin.im/post/5aaa37c8f265da23945f365c)\n\n[http://wiki.jikexueyuan.com/project/javascript-design-patterns/es-harmony.html](http://wiki.jikexueyuan.com/project/javascript-design-patterns/es-harmony.html)\n\n\n\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"Npxä½¿ç”¨","url":"/tech-notes/what-is-the-npx-1544153760.html","content":"\n`npx`æ˜¯`npm v5.2.0`å¼•å…¥çš„ä¸€æ¡å‘½ä»¤ï¼Œå¼•å…¥è¿™ä¸ªå‘½ä»¤çš„ç›®çš„æ˜¯ä¸ºäº†æå‡å¼€å‘è€…ä½¿ç”¨åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½“éªŒã€‚\n\n\nä¸¾ä¾‹ï¼šä½¿ç”¨**create-react-app**åˆ›å»ºä¸€ä¸ªreacté¡¹ç›®ã€‚\n\nè€æ–¹æ³•ï¼š\n```\nnpm install -g create-react-app\ncreate-react-app my-app\n```\n\nnpxæ–¹å¼ï¼š\n```\nnpx create-react-app my-app\n```\n\nè¿™æ¡å‘½ä»¤ä¼šä¸´æ—¶å®‰è£… create-react-app åŒ…ï¼Œå‘½ä»¤å®Œæˆåcreate-react-app ä¼šåˆ æ‰ï¼Œä¸ä¼šå‡ºç°åœ¨ global ä¸­ã€‚ä¸‹æ¬¡å†æ‰§è¡Œï¼Œè¿˜æ˜¯ä¼šé‡æ–°ä¸´æ—¶å®‰è£…ã€‚\n\nä¹Ÿå°±æ˜¯è¯´ npx ä¼šè‡ªåŠ¨æŸ¥æ‰¾å½“å‰ä¾èµ–åŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šå» PATH é‡Œæ‰¾ã€‚å¦‚æœä¾ç„¶æ‰¾ä¸åˆ°ï¼Œå°±ä¼šå¸®ä½ å®‰è£…ï¼\n\nnpx ç”šè‡³æ”¯æŒè¿è¡Œè¿œç¨‹ä»“åº“çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š\n```\nnpx github:piuccio/cowsay hello\n```\n\nä¸»è¦ç‰¹ç‚¹ï¼š\n\n1. ä¸´æ—¶å®‰è£…å¯æ‰§è¡Œä¾èµ–åŒ…ï¼Œä¸ç”¨å…¨å±€å®‰è£…ï¼Œä¸ç”¨æ‹…å¿ƒé•¿æœŸçš„æ±¡æŸ“ã€‚\n2. å¯ä»¥æ‰§è¡Œä¾èµ–åŒ…ä¸­çš„å‘½ä»¤ï¼Œå®‰è£…å®Œæˆè‡ªåŠ¨è¿è¡Œã€‚\n3. è‡ªåŠ¨åŠ è½½node_modulesä¸­ä¾èµ–åŒ…ï¼Œä¸ç”¨æŒ‡å®š$PATHã€‚\n4. å¯ä»¥æŒ‡å®šnodeç‰ˆæœ¬ã€å‘½ä»¤çš„ç‰ˆæœ¬ï¼Œè§£å†³äº†ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„å‘½ä»¤çš„é—®é¢˜ã€‚\n\n\n","tags":["ç å¸¸è§„"],"categories":["æŠ€æœ¯"]},{"title":"Typedocä½¿ç”¨ç¬”è®°","url":"/tech-notes/typedoc-notes-1544152560.html","content":"\n**TypeDoc æ˜¯ä¸€æ¬¾æ”¯æŒ TypeScript çš„æ–‡æ¡£ç”Ÿæˆå·¥å…·ã€‚**\n\nå®‰è£…ã€ä½¿ç”¨æ–¹ä¾¿ã€‚æœ€åç”Ÿæˆçš„æ˜¯é™æ€çš„ HTML æ–‡ä»¶ï¼Œç•Œé¢ç®€æ´ã€‚\n\næä¾›å¤šä¸ªå¯é€‰çš„é…ç½®ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è‡ªå®šä¹‰ç•Œé¢æ ·å¼ã€‚\n\næºç åœ°å€ï¼š[TypeDoc](https://github.com/TypeStrong/typedoc)\n\næ–‡æ¡£åœ°å€ï¼š[TypeDoc Documentation](https://typedoc.org/api/index.html)\n\n![](/img/2018/15445225439852.jpg)\n\n\n### ä¼˜é›…çš„ä½¿ç”¨æ–¹å¼\n\n```javascript\n\n// 1. é…ç½®åˆ°package.jsonä¸­ï¼Œå…¶ä¸­ä½¿ç”¨npxå‘½ä»¤ï¼Œæ— éœ€å•ç‹¬å®‰è£…typedocåº“\n// 2. transform.jsé‡Œå¯ä»¥å°†ç›®æ ‡æ–‡æ¡£çš„ç‰¹æ®Šå…³é”®å­—æ›¿æ¢ã€‚åšä¸€äº›å‰ç½®å¤„ç†\n\n\"scripts\": {\n    \"typingsdoc\": \"node typings/transform.js && npx typedoc --out ./typings/doc  ./typings  --module umd\"\n},\n\n```\n\n\n### ä¸¤ä¸ªå¥½ç”¨çš„æ’ä»¶\n\n[typedoc-plugin-single-line-tags](https://github.com/christopherthielen/typedoc-plugin-single-line-tags)\n\nä»¥ä¸Šæ’ä»¶å¯ä»¥ç”¨ä¸€ä¸ªæ³¨è§£ï¼Œå°†æè¿°å±•ç¤ºä¸ºä¸€è¡Œã€‚è€Œéå¤šè¡Œï¼Œæ¯”å¦‚ä¸€ä¸ªç§æœ‰ç±»ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ª@privateï¼Œç„¶åå¢åŠ ä¸€æ®µè¯´æ˜\n\n\n[typedoc-plugin-external-module-name](https://github.com/christopherthielen/typedoc-plugin-external-module-name)\n\nå½“æœ‰å¤šä¸ªæ¨¡å—ï¼Œåˆ†ä¸ºä¸åŒæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„æ’ä»¶å°†æ¨¡å—åŒºåˆ†å‡ºæ¥ã€‚åšç±»ä¼¼çš„äºŒçº§æ ç›®ã€‚\n\n\n### å…³äºåŒä¸€Moduleæ–‡æ¡£çš„äºŒçº§åˆ†ç±»\n\n1. ä½¿ç”¨ä¸Šé¢çš„æ’ä»¶ï¼ŒæŒ‰æ–‡ä»¶åŒºåˆ†ï¼›\n2. ä½¿ç”¨è¿™ä¸ªæ’ä»¶æå®šï¼š[typedoc-plugin-toc-group](https://github.com/tangkunyin/typedoc-plugin-toc-group)\n\n\n> è‡³äºæ’ä»¶çš„å¼€å‘ï¼Œè¯·ç§»æ­¥è¿™ç¯‡æ–‡ç« ï¼š\n\n\n[TypeDocæ’ä»¶å¼€å‘å°è®°](https://shuoit.net/tech-notes/how-to-create-plugin-for-typedoc-1545808023.html)\n\n\n","tags":["ç å¸¸è§„","typescript"],"categories":["æŠ€æœ¯"]},{"title":"JSå’ŒTSæ··ç¼–","url":"/tech-notes/mixed-coding-between-js-and-ts-1532415903.html","content":"\nä»¥åœ¨react-nativeä¸­äºŒè€…æ··ç¼–ä¸ºä¾‹ï¼Œemm...\n\n","tags":["javascript","typescript"],"categories":["æŠ€æœ¯"]},{"title":"Flutterå’ŒRaxåˆæ¢","url":"/tech-notes/flutter-and-rax-hello-1531130418.html","content":"\n## Flutterç¯‡\n\n### ç¯å¢ƒå®‰è£…ï¼ˆmacOSï¼‰\n\n#### å‚è€ƒ`Flutter`ä¸­æ–‡ç½‘çš„æ•™ç¨‹ï¼š[https://flutterchina.club/setup-macos/](https://flutterchina.club/setup-macos/)\n\nä»¥ä¸Šæµç¨‹åŸºæœ¬ä¸Šæ˜¯ä¸€æŠŠæ¢­çš„å°±è£…å¥½äº†ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯**PUB_HOSTED_URL**å’Œ**FLUTTER_STORAGE_BASE_URL**è¿™ä¿©å¾—å†™è¿›ç¯å¢ƒå˜é‡é…ç½®é‡Œï¼Œå¦‚ä¸‹ï¼š\n\n```\n# 1ï¼Œæˆ‘ç›´æ¥åŠ åˆ°äº†ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼Œéœ€è¦åŠ åˆ°è‡ªå·±å®¶ç›®å½•ä¸‹åŒç†\nvim /etc/profile\n\n# 2ï¼Œå¤åˆ¶ä»¥ä¸‹é…ç½®\n# Flutter SDK https://flutterchina.club/setup-macos/\nPUB_HOSTED_URL=https://pub.flutter-io.cn\nFLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn\nPATH=~/dev-lib/flutter/bin:$PATH\n\nexport PATH PUB_HOSTED_URL FLUTTER_STORAGE_BASE_URL\n\n# 3ï¼Œä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\n\nsource /etc/profile\n\n```\n\n#### æ ¡éªŒå…¶ä»–ä¾èµ–\n\næ‰§è¡Œï¼š`flutter doctor`ï¼Œè¯¥å‘½ä»¤æ£€æŸ¥æ‚¨çš„ç¯å¢ƒå¹¶åœ¨ç»ˆç«¯çª—å£ä¸­æ˜¾ç¤ºæŠ¥å‘Šï¼Œæ‰€ä»¥ç¼ºä»€ä¹ˆï¼Œç›´æ¥å¤åˆ¶å‘½åç»§ç»­å®‰è£…å³å¯ï¼Œç›´åˆ°æˆ‘è¿™æ ·å°±è¡Œäº†ï¼š\n\n![](/img/2018/15311311861503.jpg)\n\n### å¼€å§‹æ’¸ä»£ç ï¼Œé¦–å…ˆé…ç½®IDEï¼ˆæ­¤å¤„ä»¥VS Codeä¸ºä¾‹ï¼‰\n\n#### é…ç½®æ–¹å¼å¦‚ä¸‹\n\n[Visual Studio Code (VS Code) Dartå®‰è£…](https://flutterchina.club/get-started/editor/#vscode)\n\n\n#### å¯åŠ¨æ¨¡æ‹Ÿå™¨\n\n![](/img/2018/15311314047697.jpg)\n\nè¿™é‡Œç”¨iOSæ¨¡æ‹Ÿå™¨æ¼”ç¤ºï¼Œæ‰§è¡Œï¼š`flutter emulators --launch apple_ios_simulator`ã€‚ç„¶åæ¨¡æ‹Ÿå™¨å°±è¢«æ­£å¸¸å¯åŠ¨\n\n#### æ‰“å¼€VS Codeå¹¶åˆ›å»ºDemoå·¥ç¨‹ï¼ŒæŒ‰F5å\n\n![Simulator Screen Shot - iPhone 8 Plus - 2018-07-09 at 18.20.54](/img/2018/Simulator%20Screen%20Shot%20-%20iPhone%208%20Plus%20-%202018-07-09%20at%2018.20.54.png)\n\n### è‡³æ­¤ï¼Œ`Flutter`çš„`Hello-World`å·¥ç¨‹å°±è·‘èµ·æ¥äº†ï¼Œä¹‹åéœ€è¦åšçš„å°±æ˜¯å»å­¦ä¹ è¯­æ³•å¼€å§‹æ’¸ä»£ç \n\n\n## Raxç¯‡\n\n> å…ˆæ¥åŒºåˆ†ä¸€ä¸‹æ¦‚å¿µï¼šWeexå’ŒRax\n> > å‰è€…æ˜¯ä¸€ä¸ªå®¹å™¨ï¼ˆè¿è¡Œæ—¶ç¯å¢ƒï¼‰ï¼Œåè€…æ˜¯ä¸€ä¸ªè·¨å®¹å™¨çš„æ¸²æŸ“å¼•æ“ã€‚å³ï¼šRaxå¯ä»¥è·‘åœ¨Weexé‡Œï¼Œä½†Weexä¸èƒ½è·‘åœ¨Raxä¸­ã€‚\n> > ä¸¤è€…æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚Weexå¯ä»¥ç®€å•ç†è§£ä¸ºï¼š`Vue-Native`ã€‚æ‹¿çŸ¥ä¹æ®µå‹çš„è¯æ¦‚æ‹¬å°±æ˜¯ï¼šâ€œçœ‹äº†ä¸€ä¸‹å¥½åƒæ˜¯æ·˜å®å†™ react-web é‚£å‡ ä¸ªäººå¼„çš„ï¼Œæˆ‘çŒœä»–ä»¬æ˜¯è¦ç”¨ weex ä½†æ˜¯åˆå–œæ¬¢ react é‚£å¥—æ€æƒ³ï¼Œæ‰€ä»¥æ•´äº†ä¸ªç±» react çš„ä¸œè¥¿ï¼Œå¯ä»¥ç›´æ¥åœ¨ weex é‡Œé¢æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨ç±»ä¼¼ react-native çš„æ–¹å¼æ¥å†™ weex äº†â€\n\nå…·ä½“ä¹Ÿå¯ä»¥çœ‹çœ‹è¿™é‡Œï¼š[Rax ç³»åˆ—æ•™ç¨‹ï¼ˆnative æ‰«ç›²ï¼‰](http://taobaofed.org/blog/2018/02/06/rax-native-guide/)\n\n### å®‰è£…\n\n[Raxå¿«é€Ÿå¼€å§‹](https://alibaba.github.io/rax/guide/getting-started)\n\n```\n# 1. å®‰è£…å‘½ä»¤è¡Œ\nnpm install -g rax-cli\n\n# 2. åˆå§‹åŒ–é¡¹ç›®\nrax init hello-rax\n\n# 3. å¯åŠ¨ \nnpm run start\n```\n\n### è·‘èµ·æ¥\n\n#### Webç«¯\n\né€šè¿‡æ§åˆ¶å°ç”Ÿæˆçš„äºŒç»´ç ï¼Œç›´æ¥è®¿é—®\n\n#### Nativeç«¯\n\n1. å…ˆå®‰è£…Weex: `npm install -g weex-toolkit`\n\nå†åœ¨Raxç›®å½•ä¸­åˆ›å»ºWeexç¯å¢ƒï¼š\n\n![](/img/2018/15312064317112.jpg)\n\n2. é€šè¿‡**weex create**åˆ›å»ºçš„å·¥ç¨‹ï¼Œæ²¡æœ‰iOSå’ŒAndroidå·¥ç¨‹æ¨¡æ¿ï¼Œæ­¤æ—¶éœ€è¦å®‰è£…**weex**åº”ç”¨æ¨¡æ¿\n\n```\n// iOS (éœ€è¦æ‰‹åŠ¨æ‰§è¡Œpod install)\nweex platform add ios\n\n// å®‰å“\nweex platform add android\n```\n\n3. æ‰“å¼€`WeexDemo.xcworkspace`ï¼Œä¿®æ”¹`BUNDLE_URL`å¹¶è¿è¡Œ`playground`\n\n![](/img/2018/15312115498098.jpg)\n\n4. å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼Œå°±å¯ä»¥çœ‹åˆ°`Rax`è·‘èµ·æ¥äº†\n\n![](/img/2018/15312116337280.jpg)\n\n\n\n## æ€»ç»“\n\n1. å¤§è…¿æ–¹ï¼šFlutteræŠ±Googleï¼ŒRaxæŠ±Alibaba;\n2. æ˜“ç”¨æ€§ï¼šFlutterå®Œçˆ†Raxã€‚Raxåˆ›å»ºååªæœ‰ç¼–ç ç¯å¢ƒï¼Œè¿è¡Œç¯å¢ƒè¿˜å¾—å†è£…Weexï¼Œè€ŒWeexåˆæ˜¯ä¸€ä¸ªç¥å¥‡çš„ä¸œè¥¿ï¼Œå¯¹Nativeä¸ç†Ÿçš„ï¼Œå¯èƒ½ä¼šæ¯”è¾ƒæ‰æ€¥ï¼›\n3. é€šç”¨æ€§ï¼šFlutterç›®å‰ä¸»è¦ç”¨æ¥åšç§»åŠ¨ç«¯ï¼ŒWebç«¯ä¸è¡Œã€‚Raxåˆ™é€šåƒï¼ŒåŒ…æ‹¬Webï¼›\n4. Weexå’ŒRNå¯¹æ¯”ï¼š[Weexå’ŒRNå¯¹æ¯”](https://zhuanlan.zhihu.com/p/21677103)\n\n","tags":["flutter","å‰ç«¯","è·¨ç«¯"],"categories":["æŠ€æœ¯"]},{"title":"è·¨ç«¯æ¡Œé¢åº”ç”¨è§£å†³æ–¹æ¡ˆä¸å¼€å‘","url":"/tech-notes/cross-platform-desktop-1528555686.html","content":"\n### æ–¹æ¡ˆ\n\n#### Electron\n\n> åœ¨å®¢æˆ·ç«¯ç¨‹åºé‡Œé¢åŠ å…¥ webkit åšä¸ºå¼•æ“æ¸²æŸ“å­˜åœ¨æœ¬åœ° web é¡µé¢ã€‚ä½¿ç”¨è¿™ç§è§£å†³æ–¹æ¡ˆå…¸å‹çš„é¡¹ç›®æœ‰ Atom, Github Desktop, Slack, visualstudio. è¿™äº›éƒ½æ˜¯å¤§å…¬å¸çš„åšå‡ºæ¥çš„æˆæœï¼Œç›®å‰çœ‹èµ·æ¥ Electron æ˜¯è§£å†³ GUI è·¨å¹³å°å¾ˆæµè¡Œçš„æ–¹æ¡ˆï¼Œè¿™å¾—ç›Šäºäº V8 çš„é«˜æ€§èƒ½ï¼Œä¹Ÿå’Œ nodejs ç¤¾åŒºå‘å±•å¾—å¦‚ç«å¦‚è¼ç¦»ä¸å¼€å…³ç³»ã€‚nodejs å‡ ä¹å¿«å˜æˆäº†é€‚ç”¨äºä»»æ„åœ°æ–¹ä¸‡é‡‘æ²¹ä¸€æ ·çš„ç¼–ç¨‹è¯­è¨€ã€‚å¯æ˜¯åœ¨å®¢æˆ·ç«¯æ½œå…¥ä¸€ä¸ª webkit æ— è®ºå¦‚ä½•éƒ½ä¼šéå¸¸ç¬¨é‡ï¼Œä¹Ÿéš¾ä»¥åšåˆ°è½»é‡ã€‚ä½ å¯èƒ½å†™ä¸€ä¸ªç®€å•çš„ hello world å¼¹çª—æœ€åæ‰“åŒ…çš„ç¨‹åºéƒ½éœ€è¦ 100Mã€‚ Electron ä¸é€‚åˆè½»é‡çº§çš„ç¨‹åºï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªé•¿æœŸçš„ GUI è§£å†³æ–¹æ¡ˆã€‚å®ƒåªé€‚ç”¨äºä½ åªæƒ³åšå‡ºä¸€ä¸ªå‡‘åˆå¯ç”¨çš„è·¨å¹³å°åº”ç”¨ã€‚ Electron åº”ç”¨æ›´åƒæ˜¯ç®€å•çš„æŠŠ HTML/CSS/JS æ¬åˆ°ä¸€ä¸ªä¸éœ€è¦è¾“å…¥ç½‘å€çš„æµè§ˆå™¨é‡Œé¢ã€‚\n\n\n#### React Native Desktop\n\n> Qt åœ¨ä¸åŒçš„å¹³å°ä¸Šé¢æŠŠ GUI ç›´æ¥ç”»å‡ºæ¥ã€‚Qt å‘å±•äº†è¿™ä¹ˆå¤šå¹´ï¼Œä¸€ç›´å¤„äºéå¸¸å†·æ¸…çš„çŠ¶æ€ï¼Œä¹Ÿå¾ˆå°‘è§ç€ä¸€äº›å¤§å‹çš„å®¢æˆ·ç«¯æ˜¯ç”¨ Qt åšå‡ºæ¥çš„ã€‚Qt ä¹Ÿéå¸¸åºå¤§ï¼Œå¹¶ä¸æ¯”åŸºäº webkit çš„ Electron è½»é‡ã€‚C++ çš„ä½¿ç”¨å’Œå­¦ä¹ æˆæœ¬éƒ½éå¸¸é«˜ï¼Œåšç•Œé¢ä¸€è‡´æ€§è¿œè¿œä¹Ÿä¸å¦‚ webã€‚é™¤éä¸å¾—å·²ï¼Œç°åœ¨å‡ ä¹ä¸ä¼šç”¨ Qt åšä¸ºè·¨å¹³å° GUI çš„è§£å†³æ–¹æ¡ˆã€‚C++ è‡ªèº«è·¨å¹³å°ä»£ä»·ä¹Ÿéå¸¸é«˜ã€‚\n\n#### Electrino\n\n> **Electron**çš„ä¼˜åŒ–ç‰ˆï¼Œä½¿ç”¨ç³»ç»Ÿçš„æµè§ˆå™¨å¼•æ“ï¼Œå¤§å¤§é™ä½äº†æ‰“åŒ…ååº”ç”¨çš„ä½“ç§¯ã€‚ç„¶ç›®å‰ä¸æ”¯æŒWindowsã€‚æœ‰äººç›¸ä¿¡æ€»æœ‰ä¸€å¤©ä¼šå–ä»£**Electron**ï¼Œå¯æƒœé—æ†¾çš„æ—¶è¯¥é¡¹ç›®GitHubå·²ç»ä¸€å¹´å¤šæ²¡æœ‰æ›´æ–°äº†ã€‚ã€‚ã€‚\n\n#### Proton-Native\n\n> ç”¨Reactçš„æ€è·¯å°è£…äº†**libui-node**ï¼Œåº•å±‚çš„èƒ½åŠ›å°±æ˜¯**libui**ï¼Œä¸è¿‡ç›®å‰ä¸å¤ªæˆç†Ÿï¼Œå®ç°å•†ä¸šåŒ–é¡¹ç›®æ¯”è¾ƒè´¹åŠ²ã€‚\n\n\n#### React-Native\n\n> æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ã€‚[react-native-macos](https://github.com/ptmt/react-native-macos)å’Œ[react-native-windows](https://github.com/Microsoft/react-native-windows)è¿™ä¿©åº“æ‰©å±•äº†**React-Naitve**ï¼Œä½¿å¾—ä½ å¯ä»¥å¼€å‘macOSå’ŒWindowsç›¸å¯¹å®Œç¾çš„Nativeåº”ç”¨ï¼Œç›®å‰æ¥è®²å°±ä»–åˆé€‚äº†ã€‚\n\n\n### èµ„æ–™\n\nhttp://www.leyafo.com/post/2017-07-18-cross-platform-gui-solution-2017/\nhttps://josephg.com/blog/electron-is-flash-for-the-desktop/\nhttps://github.com/atom/atom/issues/14199\nhttps://www.zhihu.com/question/267324734\n\n\n","tags":["å‰ç«¯","è·¨ç«¯"],"categories":["æŠ€æœ¯"]},{"title":"Typescriptå…¥å‘ç¯‡1","url":"/tech-notes/ts-study-part1-1528259629.html","content":"\n![](/img/2018/15459066435251.jpg)\n\n\n## ä»¥ä¸Šæ˜¯æ¥è‡ªå®˜æ–¹çš„ä¸­æ–‡å®šä¹‰ï¼ˆæ‰¾äº†åŠå¤©Logoï¼Œå‘ç°å¹¶æ²¡æœ‰...ä¿©å¤§å†™å­—æ¯å¤ªéš¾çœ‹ï¼‰\n\n### 1. å‰ç½®å·¥ä½œ\n\nåœ¨å¼€å§‹æ„å»ºTSé¡¹ç›®å‰ï¼Œå»ºè®®å…ˆæŠŠç¼–ç ç¯å¢ƒè°ƒæ•´okï¼Œå³ï¼š**ç»Ÿä¸€ä»£ç è§„èŒƒåŠç»“æ„ï¼Œä¿è¯æäº¤çš„æ˜¯é«˜è´¨é‡çš„ã€åŒæ—¶å°½é‡é¿å…ä½çº§é”™è¯¯**ï¼Œæœ€èµ·ç çœ‹èµ·æ¥çˆ½ï¼Œè®©åˆ«äººçŸ¥é“ä½ ä¸æ˜¯ä¸€ä¸ªéšä¾¿çš„äºº...\n\n> æ¥ä¸‹æ¥ï¼Œè®°å½•ä¸€ä¸‹**prettier**ã€**eslint|tslint**ã€**husky**ã€**lint-staged**å¥—è£…çš„ä½¿ç”¨ã€‚\n\n#### ä¾èµ–æƒ…å†µ\n\n```javascript\n// .eslintrc.jsonå†…\n{\n\t\"extends\": [\n\t\t\"standard\",\n\t\t\"plugin:prettier/recommended\"\n\t],\n\t\"parserOptions\": {\n\t\t\"ecmaVersion\": 7,\n\t\t\"sourceType\": \"module\",\n\t\t\"ecmaFeatures\": {\n\t\t\t\"jsx\": true\n\t\t}\n\t},\n\t\"parser\": \"babel-eslint\",\n\t\"env\": {\n\t\t\"es6\": true,\n\t\t\"browser\": true,\n\t\t\"node\": true\n\t},\n\t\"plugins\": [\"react\", \"jsx-a11y\", \"import\"],\n\t\"rules\": {\n\t\t\"prettier/prettier\": \"error\",\n\t\t\"class-methods-use-this\": 0,\n\t\t\"import/no-named-as-default\": 0,\n\t\t\"react/jsx-filename-extension\": [\n\t\t\t\"error\",\n\t\t\t{\n\t\t\t\t\"extensions\": [\".js\", \".jsx\"]\n\t\t\t}\n\t\t]\n\t}\n}\n\n// .prettierrcå†…ï¼ˆæ³¨æ„è¿™ä¸ªæ–‡ä»¶æ²¡æœ‰åç¼€ã€‚æ®è¯´æ˜¯åŠ åç¼€VSCodeä¸è®¤ï¼Œæœ¬äººåçˆ±JBå…¨å®¶æ¡¶ï¼Œæ‰€ä»¥æ²¡è¯•è¿‡...ï¼‰\n{\n  \"printWidth\": 180,\n  \"tabWidth\": 4,\n  \"useTabs\": false,\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"jsxSingleQuote\": false,\n  \"trailingComma\": \"all\",\n  \"bracketSpacing\": false,\n  \"jsxBracketSameLine\": true,\n  \"arrowParens\": \"always\"\n}\n\n// package.jsonå†…\n{\n    \"devDependencies\": {\n        \"typescript\": \"^3.2.2\",\n        \"typedoc\": \"^0.13.0\",\n        \"babel-eslint\": \"^10.0.1\",\n        \"eslint\": \"^5.11.1\",\n        \"eslint-config-prettier\": \"^3.3.0\",\n        \"eslint-config-standard\": \"^12.0.0\",\n        \"eslint-plugin-import\": \"^2.14.0\",\n        \"eslint-plugin-jsx-a11y\": \"^6.1.2\",\n        \"eslint-plugin-standard\": \"^4.0.0\",\n        \"eslint-plugin-react\": \"^7.12.0\",\n        \"eslint-plugin-node\": \"^8.0.0\",\n        \"eslint-plugin-prettier\": \"^3.0.1\",\n        \"eslint-plugin-promise\": \"^4.0.1\",\n        \"prettier\": \"^1.15.3\",\n        \"husky\": \"^1.3.1\",\n        \"lint-staged\": \"^8.1.0\"\n    },\n    \"husky\": {\n        \"hooks\": {\n            \"pre-commit\": \"lint-staged\"\n        }\n    },\n    \"lint-staged\": {\n        \"src/**/*.{jsx,txs,ts,js,json,css,md}\": [\n            \"prettier --write\",\n            \"eslint --fix\",\n            \"git add\"\n        ]\n    }\n}\n```\n\nä»¥ä¸Šç¯å¢ƒé…å¥½åï¼Œå¯ä»¥è¯•ç€åœ¨`src`ä¸‹å»ºä¸€ä¸ª`*.js`æ–‡ä»¶ã€‚éšä¾¿å†™ç‚¹ä¸œè¥¿ï¼Œç„¶åå’±ä»¬æäº¤ä»£ç ï¼Œçœ‹çœ‹å‘ç”Ÿäº†å•¥~\n\n![](/img/2018/15460683493736.jpg)\n\n\nå—·å—·ï¼Œå¦‚æ­¤çŠ€åˆ©æ˜¯ä¸æ˜¯ã€‚ä»¥ä¸Šæ˜¯é’ˆå¯¹ESçš„ï¼Œæ¥çœ‹ä¸‹TSå¤§æ³•çš„~\n\n- æ–°å¢ä¿©æ–‡ä»¶ï¼š**tslint.json**å’Œ**tsconfig.json**ï¼Œå‰è€…æ˜¯è§„èŒƒçº¦æŸæ–‡ä»¶ï¼Œåè€…æ˜¯tsç¼–è¯‘å‚æ•°é…ç½®\n\n```javascript\n// tslint.json\n{\n    \"defaultSeverity\": \"error\",\n    \"extends\": [\n        \"tslint:recommended\",\n        \"tslint-config-prettier\"\n    ]\n}\n\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"declaration\": false,\n    \"target\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"allowJs\": true,\n    \"module\": \"umd\",\n    \"outDir\": \"./dist\",\n    \"experimentalDecorators\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n\n// package.json\n{\n    \"tslint\": \"^5.12.0\",\n    \"tslint-config-prettier\": \"^1.17.0\"\n}\n\n// å…¶ä¸­scriptså†…éœ€è¦é…ä¸Štsc\n\"scripts\": {\n    \"build\": \"tsc\",\n    \"prepare\": \"npm run build\"\n}\n```\n\nå…³äºè¿™ä¸ªæ¶æ‰‹æ¶çš„æºç ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼š[TypeScript](https://github.com/tangkunyin/hello-fe/tree/master/TypeScript)\n\n\nåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œå¥½åƒå…³äºå†™TSçš„äº‹æƒ…å¹¶æ²¡æœ‰è®°å½•ã€‚åšäº†å¤ªå¤šå‰ç½®å·¥ä½œï¼Œå†…å®¹æ”¾åˆ°[part2](https://shuoit.net/tech-notes/ts-study-part2-1546832521.html)å§...\n\nå¦å¤–ï¼Œå¨å¨ä¸€å¥ï¼Œ**EditorConfig**å¯ä»¥ä¸ç”¨äº†ï¼ˆè¦äº†ä¹Ÿæ˜¯å¤šä½™ï¼‰\n\n> å‚è€ƒèµ„æ–™ï¼š\n\n[ä½¿ç”¨ESLint+Prettieræ¥ç»Ÿä¸€å‰ç«¯ä»£ç é£æ ¼](https://juejin.im/post/5b27a326e51d45588a7dac57)\n\n[ä¸“æ²»ä»£ç æ´ç™–ç³»åˆ—](https://juejin.im/post/5a791d566fb9a0634853400e)\n\n","tags":["å‰ç«¯","typescript"],"categories":["æŠ€æœ¯"]},{"title":"Vueå­¦ä¹ ç¬”è®°","url":"/tech-notes/vue-study-notes-1528027974.html","content":"\n### ä¸€ï¼Œå»ºç«‹ä¸€ä¸ªVueå·¥ç¨‹ï¼š\n\n![](/img/2018/15280280857568.jpg)\n\nç„¶åå°±å®Œäº†....\n\n### äºŒï¼Œæ‰“å¼€è¿™ä¸ªåŠŸèƒ½ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œï¼šnpm run dev ï¼Œå°±å¯ä»¥çœ‹åˆ°æ­£å¸¸çš„ç½‘é¡µ\n\n### ä¸‰ï¼Œå•æ–‡ä»¶ç»„ä»¶çš„å†™æ³•ä¸ç”¨æ³•ï¼š\n\n1. æ–°å»ºä¸€ä¸ªvueæ–‡ä»¶ï¼Œå†™å¥½å†…å®¹ï¼›\n2. éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼Œå…¶ä¸­æ³¨æ„ @ ä¸º Vueè‡ªå¸¦çš„ï¼Œè¡¨ç¤ºsrcã€‚å¦‚ä»¥ä¸‹å¼•ç”¨æ–¹å¼ï¼š\n![](/img/2018/15280281314771.jpg)\n\n3. ä½¿ç”¨Lessæ”¯æŒï¼Œpackage.jsonä¸­æ·»åŠ ï¼šlesså’Œless-loaderï¼Œç„¶åæ–‡ä»¶å¤¹ï¼šbuild->webpack-base-config.jsä¸­æ·»åŠ å¦‚ä¸‹ï¼š\n```javascript\n{\n  test: /\\.less$/,\n  loader: 'style-loader!css-loader!less-loader'\n}\n```\n\n![](/img/2018/15280281796136.jpg)\n\n\n## æš‚æ—¶ç©å„¿åˆ°è¿™é‡Œï¼Œæœ‰éœ€è¦ä¼šç»§ç»­æŠ˜è…¾...\n\nä»£ç ï¼š [Hello-FE](https://github.com/tangkunyin/Hello-FE)\n\n","tags":["javascript","vue2"],"categories":["æŠ€æœ¯"]},{"title":"React16çš„ä¸€äº›é—®é¢˜åŠå¯¹ç­–","url":"/tech-notes/react16-usage-1528027632.html","content":"\n### 1ï¼Œå¦‚æœrenderä¸­çš„ç»„ä»¶ä»¥å±æ€§çš„æ–¹å¼å¼•ç”¨äº†å½“å‰ç±»çš„å‡½æ•°ï¼Œä¸”åœ¨constructorä¸­bindè¿™ä¸ªå‡½æ•°ï¼Œä¼šé€ æˆè¿™ä¸ªå‡½æ•°ä»…åˆ·æ–°ä¸€æ¬¡ï¼Œå¦‚ï¼š\n\n![](/img/2018/15280277890966.jpg)\n\n![](/img/2018/15280277972569.jpg)\n\n![](/img/2018/15280278031260.jpg)\n\n#### è§£å†³æ–¹å¼ï¼šåœ¨Renderä¸­bindï¼Œåœ¨SCUä¸­å†æ‹¦æˆªï¼Œæ§åˆ¶å®é™…Renderæ¬¡æ•°\n\n![](/img/2018/15280278204992.jpg)\n\n##  åŸå› æ˜¯ï¼šæš‚æ—¶ä¸çŸ¥é“ï¼ï¼ï¼ \n\næ‚è„¸.png\næ‚è„¸.png\næ‚è„¸.png\n\n\n","tags":["å‰ç«¯","javascript","react"],"categories":["æŠ€æœ¯"]},{"title":"ReactNativeå¯¼èˆªçš„è§£å†³æ–¹æ¡ˆ","url":"/tech-notes/react-navigation-1528027186.html","content":"\n### ä¸€ã€çº¯JSçš„è§£å†³æ–¹æ¡ˆï¼šReact Navigation\n\næ˜“ç”¨ã€è·¨å¹³å°ã€è‰¯å¥½çš„çŠ¶æ€ç®¡ç†\næ•™ç¨‹ï¼š\n\n> https://www.jianshu.com/p/2f575cc35780\n> https://www.jianshu.com/p/b877115fff1b\n\næ¦‚å†µï¼ŒReact Navigationåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š\n```\nStackNavigatorï¼šç±»ä¼¼é¡¶éƒ¨å¯¼èˆªæ¡ï¼Œç”¨æ¥è·³è½¬é¡µé¢å’Œä¼ é€’å‚æ•°ï¼›\nTabNavigatorï¼šç±»ä¼¼åº•éƒ¨æ ‡ç­¾ï¼Œç”¨æ¥åŒºåˆ†æ¨¡å—ï¼›\nDrawerNavigatorï¼šæŠ½å±‰ï¼Œç±»ä¼¼ä»APPä¾§æ»‘å‡ºä¸€ä¸ªé¡µé¢\n```\n\n#### 1ã€æ³¨æ„äº‹é¡¹ï¼š\n\n> iOSå’ŒAndroidå¹³å°çš„tabsé»˜è®¤è¡Œä¸ºä¸ä¸€è‡´ï¼Œè¡¨ç°åœ¨iOSæ­£å¸¸ï¼Œå®‰å“çš„tabåœ¨é¡¶éƒ¨ä¸”å¤„äºå¯æ»‘åŠ¨çŠ¶æ€ï¼Œä¸€ç»Ÿæ±Ÿå±±æ–¹æ³•å¦‚ä¸‹ï¼š\n\n```javascript\nconst Navigation = TabNavigator(\n Â  Â {\n Â  Â  Â  Â tab1: { screen: screen1 },\n Â  Â  Â  Â tab2: { screen: screen2 },\n Â  Â },\n Â  Â // customize app tab bars\n Â  Â {\n Â  Â  Â  Â tabBarPosition: 'bottom',\n Â  Â  Â  Â tabBarComponent: TabBarBottom, // å®‰å“é»˜è®¤æ˜¯é¡¶éƒ¨ï¼Œä¸è®¾ç½®è¯¥é¡¹å¯èƒ½å¯¼è‡´tabIconä½ç½®é”™è¯¯\n Â  Â  Â  Â swipeEnabled: false, // å®‰å“é»˜è®¤å¯æ»‘åŠ¨\n Â  Â  Â  Â lazy: true,\n Â  Â  Â  Â initialRouteName: 'Offline',\n Â  Â  Â  Â tabBarOptions: {\n Â  Â  Â  Â  Â  Â indicatorStyle: {\n Â  Â  Â  Â  Â  Â  Â  Â height: 0, // android ä¸­TabBarä¸‹é¢ä¼šæ˜¾ç¤ºä¸€æ¡çº¿ï¼Œé«˜åº¦è®¾ä¸º 0 åå°±ä¸æ˜¾ç¤ºçº¿äº†\n Â  Â  Â  Â  Â  Â },\n Â  Â  Â  Â  Â  Â style: {\n Â  Â  Â  Â  Â  Â  Â  Â height: 49,\n Â  Â  Â  Â  Â  Â  Â  Â backgroundColor: 'white'\n Â  Â  Â  Â  Â },\n Â  Â  Â  Â  Â  Â labelStyle: {\n Â  Â  Â  Â  Â  Â  Â  Â marginBottom: 3\n Â  Â  Â  Â  Â  Â },\n Â  Â  Â  Â  Â  Â iconStyle: {\n Â  Â  Â  Â  Â  Â  Â  Â height: 24,\n Â  Â  Â  Â  Â  Â  Â  Â width: 24,\n Â  Â  Â  Â  Â  Â  Â  Â margin: 0\n Â  Â  Â  Â  Â  Â },\n Â  Â  Â  Â  Â  Â showIcon: true, // æ˜¯å¦æ˜¾ç¤ºå›¾æ ‡ï¼Œå®‰å“é»˜è®¤å…³é—­\n Â  Â  Â  Â  Â  Â // labelå’Œiconçš„å‰æ™¯è‰² æ´»è·ƒçŠ¶æ€ä¸‹ï¼ˆé€‰ä¸­ï¼‰\n Â  Â  Â  Â  Â  Â activeTintColor: '#4ECBFC',\n Â  Â  Â  Â  Â  Â // labelå’Œiconçš„å‰æ™¯è‰² ä¸æ´»è·ƒçŠ¶æ€ä¸‹(æœªé€‰ä¸­)\n Â  Â  Â  Â  Â  Â inactiveTintColor: '#aaa',\n Â  Â  Â  Â  Â  Â // labelå’Œiconçš„èƒŒæ™¯è‰² æ´»è·ƒçŠ¶æ€ä¸‹\n Â  Â  Â  Â  Â  Â activeBackgroundColor: 'white',\n Â  Â  Â  Â  Â  Â // labelå’Œiconçš„èƒŒæ™¯è‰² ä¸æ´»è·ƒçŠ¶æ€ä¸‹\n Â  Â  Â  Â  Â  Â inactiveBackgroundColor: 'white',\n Â  Â  Â  Â  Â  Â // ä¸é€æ˜åº¦ä¸ºæŒ‰é€‰é¡¹å¡(iOSå’ŒAndroid < 5.0)\n Â  Â  Â  Â  Â  Â pressOpacity: 0.3,\n Â  Â  Â  Â  Â  Â scrollEnabled: falseï¼Œ // æ˜¯å¦å¯ç”¨å¯æ»šåŠ¨çš„é€‰é¡¹å¡ï¼Œå®‰å“ç‰¹æœ‰\n Â  Â  Â  Â }\n Â  Â }\n);\n```\n\n**å®‰å“tabbaræ–‡å­—ä¼šä¸‹ç§»ï¼Œå› ä¸ºå®‰å“æ¯”iOSå¤šä¸€ä¸ªå±æ€§ï¼Œå°±æ˜¯iconStyleï¼Œé€šè¿‡è®¾ç½®labelStyleå’ŒiconStyleä¸¤ä¸ªæ ·å¼ï¼Œå¯ä»¥è°ƒæ•´æ•´ç†åˆç†æ€§ã€‚**\n\n#### 2ã€å®‰å“å¯¼èˆªæ æ–‡å­—é»˜è®¤å±…å·¦è°ƒæ•´\nè‡ªå®šä¹‰å¯¼èˆªæ ·å¼ï¼Œé‡å†™ï¼š\n\n> headerTitleStyle\n\n#### 3ã€è®©å®‰å“å®ç°pushåŠ¨ç”»\n\n```javascript\n// å…ˆå¼•å…¥è¿™ä¸ªæ–¹æ³•\nimport CardStackStyleInterpolator from 'react-navigation/src/views/CardStackStyleInterpolator';\nâ€‹\n// åœ¨StackNavigatoré…ç½®headerModeçš„åœ°æ–¹ï¼Œä½¿ç”¨transitionConfigæ·»åŠ \n{\n Â  Â headerMode: 'screen',\n Â  Â transitionConfig:()=>({\n Â  Â  Â  Â screenInterpolator:CardStackStyleInterpolator.forHorizontal,\n Â  Â })\n}\n\n```\n\n### äºŒã€iOSå¹³å°ä¸“ç”¨çš„ï¼šNavigatorIOS\n\næä¾›UINavigationViewControllerç±»çš„æ–¹æ³•ã€‚å…¶ä¸­Navigatorå·²ç»è¢«æ­£å¼åºŸå¼ƒï¼ï¼ˆäºRN44è¢«æŠ›å¼ƒï¼‰\n\n> æ›¿ä»£æ–¹æ¡ˆï¼šreact-native-deprecated-custom-components\n\n### ä¸‰ã€Nativeå¤–è§‚å’Œä½“éªŒçš„è·¨ç«¯æ–¹æ¡ˆï¼šnative-navigation,Â react-native-navigation.\n\nå…¶ä¸­å‰è€…æœ‰AirBnbå›¢é˜Ÿå¼€å‘ï¼Œ1.xå‰å¤„äºä¸ç¨³å®šç‰ˆæœ¬ã€‚ä¸å»ºè®®æŠ•å…¥æ­£å¼ç”¨é€”ã€‚\nåè€…ç”±WiXå›¢é˜Ÿæä¾›ã€‚ç›®å‰åŠŸèƒ½å·²ç»ç›¸å¯¹å®Œæ•´ï¼ŒåŠŸèƒ½å®Œå…¨ã€‚å¿…é¡»åœ¨RN 0.43ä»¥åæ‰å¯ä»¥ç”¨ã€‚\nå¦‚æœæ˜¯æ··åˆå¼€å‘ï¼Œæ¯”å¦‚RNæ¨¡å—åªä½œä¸ºä¸€ä¸ªTABåµŒå…¥ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘è¿™ç§æ–¹æ¡ˆã€‚\n\n> å…·ä½“èµ„æ–™å¦‚ä¸‹ï¼šhttps://wix.github.io/react-native-navigation/#/\n\n","tags":["å‰ç«¯","react-native"],"categories":["æŠ€æœ¯"]},{"title":"pm2æ§åˆ¶å¤šä¸ªReactNativeæ§åˆ¶å°","url":"/tech-notes/pm2-rn-combine-1528026635.html","content":"\n### ä¸€ã€pm2å°è¯•ç‰›åˆ€\n\n#### 1ã€å®‰è£…PM2ï¼š[pm2](https://github.com/Unitech/pm2)\n> npm install pm2 -g\n\n#### 2ã€å¸¸ç”¨å‘½ä»¤ï¼š\n> pm2 ls\n![](/img/2018/15280267906540.jpg)\n\n> pm2 monit\n\n![](/img/2018/15280268329791.jpg)\n\n#### 3ã€ å¸¸ç”¨çš„æœåŠ¡å¯åŠ¨å‘½ä»¤ï¼š\n```\n// ä»æŸä¸ªæ–‡ä»¶ä½œä¸ºæœåŠ¡å…¥å£å¯åŠ¨\npm2 start app.js\nâ€‹\n// å¯åŠ¨æ‰€æœ‰å®šä¹‰åœ¨packge.jsonä¸­çš„æœåŠ¡\npm2 start package.json\nâ€‹\n// å¯åŠ¨ä¸€ä¸ªNodeåº”ç”¨ç¨‹åº\npm2 start npm -- start\n```\n\n### äºŒã€ReactNativeé»˜è®¤ç«¯å£ä¿®æ”¹\n\n> é»˜äººæƒ…å†µä¸‹ï¼ŒReactNativeçš„PackageManagerç«¯å£æ˜¯8081ã€‚\n\n#### 1ã€ä¸´æ—¶ä¿®æ”¹ç«¯å£ï¼ˆè¿™ä¸ªå‘½ä»¤æ˜¯2017å¹´8æœˆ1å·ä»¥åå¢åŠ çš„åŠŸèƒ½ï¼‰\n> // ç›‘å¬9999\n> react-native start --port 9999\n\n#### 2ã€æ°¸ä¹…ä¿®æ”¹\n\nplanAï¼š\n> æ‰‹åŠ¨ä¿®æ”¹æ‰€æœ‰æ¶‰åŠç«¯å£çš„æ–‡ä»¶ï¼Œå…·ä½“æ–‡ä»¶å¯è°·æ­Œ\n\nplanBï¼š\n\n> https://github.com/ktonon/react-native-port-patcher\n> scriptä¸­åŠ postinstallï¼ŒdevDependencesåŠ \n\n```\n\"postinstall\": \"react-native-port-patcher --new-port 9092\"\n\"react-native-port-patcher\": \"^1.0.2\"\n```\n\nå®‰è£…ä»¥åï¼Œæ‰§è¡Œï¼š yarn install | npm install \næ‰“å¼€Xcodeåï¼Œé‡æ–°ç¼–è¯‘ï¼Œå°±å¯ä½¿ç”¨æ–°çš„ç«¯å£\n\n### ä¸‰ã€pm2æ§åˆ¶å¤šä¸ªReactNativeæœåŠ¡\n\n#### å¯åŠ¨ä¸€ä¸ªåä¸ºxxNameçš„è¿›ç¨‹ï¼Œå¯å¤šä¸ªä¸€èµ·ã€‚å…¶ä¸­`start`ä¸º`scripts`ä¸­å®šä¹‰çš„å‘½ä»¤\n\n```\npm2 start npm --name xxName -- run start\n```\nâ€‹\n#### è¿™ç§æ–¹å¼ä¼šå¯åŠ¨ä¸€ä¸ªåä¸ºnpmçš„è¿›ç¨‹ï¼Œå¦‚æœä¸åŒºåˆ«åç§°ï¼Œåˆ™å¦å¤–ä¸€ä¸ªæ— æ³•å¯åŠ¨\n\n```\npm2 start npm -- start\n```\n\n\n![](/img/2018/15280271298874.jpg)\n\n\n","tags":["javascript","ç å¸¸è§„","react-native"],"categories":["æŠ€æœ¯"]},{"title":"åˆ›å»ºReactNativeé¡¹ç›®çš„ä¼˜é›…æ–¹å¼","url":"/tech-notes/create-rn-in-better-way-1528026020.html","content":"\n### å…ˆè¯´ä¸ä¼˜é›…çš„æ–¹å¼ï¼Œå³ï¼šreact-native init xxx\n\nå¯ä»¥åœ¨initæ—¶åŠ ä¸Šæ¨¡æ¿å‚æ•°ï¼Œå³ï¼š\n\n> react-native init xxx --template youui Â // è¿™ä¸ªæ„æ€å°±æ˜¯ç”Ÿæˆyouuiå¼€å‘æ ·æ¿ï¼ˆè„šæ‰‹æ¶ï¼‰\n\nè¿™ç§æ–¹å¼ä¼šç”ŸæˆXCodeåŠAndroid Studioå·¥ç¨‹ã€‚é€šè¿‡XCodeç­‰å·¥å…·å¯ä»¥ç›´æ¥è¿è¡Œæ¨¡æ‹Ÿå™¨æˆ–çœŸæœºã€‚\n\n### ä¼˜é›…çš„æ–¹å¼\n\n#### 1ã€å®˜æ–¹æ¨èçš„QuickStartï¼Œå³CRNAï¼šcreate-react-native-app\n![](/img/2018/15280262453183.jpg)\n\n**CRNAæ–¹å¼ä¼šç”Ÿæˆä¸€ä¸ªå¸¦Expoçš„ç¯å¢ƒï¼Œä½†ä¸ä¼šæœ‰XCodeå’ŒAndroid Studioå·¥ç¨‹ã€‚ä¹Ÿä¸ä¼šæœ‰å„ç§ç›®å½•é…ç½®ã€‚é€šè¿‡Expoå®¢æˆ·æ‰«ææ§åˆ¶å°äºŒç»´ç å¯åŠ¨åº”ç”¨ã€‚\n**\n\n#### 2ã€Igniteç”Ÿæˆé¡¹ç›®\n\nIGNITEçš„å®˜æ–¹åœ°å€ï¼šhttps://github.com/infinitered/ignite\n\n> IGNITEæ˜¯ä¸€ä¸ªReact Nativeçš„è„šæ‰‹æ¶ç”Ÿæˆå™¨ï¼ˆäº†è§£RORçš„å¯ä»¥ç†è§£ä¸ºrailså‘½ä»¤ï¼‰ï¼Œé€šè¿‡ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªç»“æ„å®Œæ•´çš„ã€å¯å·¥ä½œçš„ç©ºç™½react nativeé¡¹ç›®ï¼Œåç»­çš„å¼€å‘å°±æ˜¯å‘è¿™ä¸ªé¡¹ç›®æ·»ç –åŠ ç“¦ï¼Œè¿™æ¯”ä»å¤´æ„å»ºä¸€ä¸ªRNé¡¹ç›®èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚è€Œä¸”IGNITEé»˜è®¤é›†æˆçš„å¾ˆå¤šåº“ä¹Ÿéƒ½æ˜¯ä¸äºŒä¹‹é€‰ï¼ŒåŒ…å«äº†å‰äººçš„ç»éªŒã€‚\n\n**ignite new ä¹‹åä¼šç”Ÿæˆæ ‡å‡†çš„å¼€å‘ç»“æ„ã€‚åŒ…æ‹¬Reactotroné…ç½®ç­‰ã€‚ç»“æ„æ¯”è¾ƒé‡ï¼Œç‰ˆæœ¬ä¹Ÿä¸è§å¾—æ˜¯æœ€æ–°çš„ï¼**\n\n#### 3ã€Expoæ–¹å¼\n\nä¸€ã€æ¦‚å¿µ\næ™®åŠè‹±æ–‡è¯»æ³•ï¼šÂ ['É›kspoÊŠ]ï¼Œæœ¬èº«æ˜¯å±•è§ˆä¼šçš„æ„æ€ã€‚\n\næ¥çœ‹å®˜æ–¹çš„è§£é‡Šï¼šhttps://docs.expo.io/versions/latest/index.html\n\n> Expo is a set of tools, libraries and services which let you build native iOS and Android apps by writing JavaScript\n\n```\nExpoæ˜¯ä¸€ç»„å·¥å…·ã€åº“å’ŒæœåŠ¡ï¼Œå¯ä»¥é€šè¿‡ç¼–å†™JavaScriptæ¥æ„å»ºæœ¬åœ°çš„ioså’ŒAndroidåº”ç”¨ç¨‹åº\nExpo Appsæ˜¯åŒ…å«äº†Expo SDKçš„react native Apps,SDKæ˜¯ä¸€ä¸ªnative-and-jsçš„åº“ï¼Œå®ƒåŒ…æä¾›å¯¹è®¾å¤‡ç³»ç»Ÿçš„è®¿é—®åŠŸèƒ½ï¼Œåƒç…§ç›¸æœºã€è”ç³»äººã€æœ¬åœ°å­˜å‚¨å’Œå…¶ä»–ç¡¬ä»¶ï¼‰ã€‚è¿™æ„å‘³ç€ä½ ä¸éœ€è¦ä½¿ç”¨Xcodeæˆ–Androidçš„ç¯å¢ƒï¼Œæˆ–å†™ä»»ä½•ä»£ç ä¹Ÿä½¿å¾—ä½ çš„pure-JSé¡¹ç›®éå¸¸ä¾¿æºï¼Œå› ä¸ºå®ƒå¯ä»¥è¿è¡Œåœ¨ä»»ä½•è‡ªç„¶ç¯å¢ƒåŒ…å«Expo SDKã€‚\nExpoè¿˜æä¾›UIç»„ä»¶æ¥å¤„ç†å„ç§åº”ç”¨ç¨‹åºï¼Œå‡ ä¹æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å°†è¢«è¦†ç›–ï¼Œä½†å®ƒä¸ä¼šçªç ´react native Coreçš„æ ¸å¿ƒä»£ç ï¼Œä¾‹å¦‚å›¾æ ‡ã€æ¨¡ç³Šè§†å›¾ï¼Œç­‰ç­‰ã€‚\næœ€åï¼ŒExpo SDKæä¾›äº†è®¿é—®æœåŠ¡ï¼Œè¿™äº›æœåŠ¡è™½ç„¶å¾ˆéš¾ç®¡ç†ï¼Œä½†å‡ ä¹æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦å®ƒã€‚å…¶ä¸­æœ€å—æ¬¢è¿çš„æ˜¯ï¼šExpoå¯ä»¥ä¸ºæ‚¨ç®¡ç†æ‚¨çš„èµ„äº§ï¼Œå®ƒå¯ä»¥ä¸ºæ‚¨å¤„ç†æ¨é€é€šçŸ¥ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ„å»ºå‡†å¤‡éƒ¨ç½²åˆ°åº”ç”¨ç¨‹åºå•†åº—çš„æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶\n```\n\nFaceBookçš„è§£é‡Šå¦‚ä¸‹ï¼š\n\nhttps://facebook.github.io/react-native/docs/more-resources.html ExpoÂ is a development environment plus application that focuses on letting you build React Native apps in the Expo development environment, without ever touching Xcode or Android Studio. If you wish React Native was even more JavaScripty and webby, check out Expo.\n\n![](/img/2018/15280264067172.jpg)\n\n\näºŒã€å’ŒIgniteç­‰æ¨¡æ¿çš„åŒºåˆ«ï¼Ÿ\n\nIgniteæ˜¯ä¸€ä¸ªè„šæ‰‹æ¶ç”Ÿæˆå·¥å…·ï¼Œæä¾›ä¾¿æ·çš„æ¨¡æ¿ã€‚åŒºåˆ«äºExpoï¼Œå®ƒæ²¡æœ‰ç±»ä¼¼ç¯å¢ƒã€æœåŠ¡çš„æ¦‚å¿µã€‚æŸç§æ„ä¹‰ä¸Šè·ŸCRNAæ˜¯ä¸€ç§ä¸œè¥¿ã€‚è€Œåè€…ä¸»è¦æ˜¯æä¾›å¦ä¸€ç§RNå¼€å‘ç¯å¢ƒï¼Œæ¯”å¦‚Windowsä¸‹å¼€å‘æµç¨‹ç­‰ã€‚Igniteå¯ä»¥ä½œä¸ºæ¨¡æ¿æ‰©å±•ï¼ŒåŠ å…¥åˆ°Expoå·¥ç¨‹é‡Œ\n\n\n![](/img/2018/15280264415058.jpg)\n\n### å…³äºæ‰“é€ è‡ªå·±çš„è„šæ‰‹æ¶\n\nhttps://zhuanlan.zhihu.com/p/32190298\n\n### å¦å¤–æœ‰ä¸€ç¯‡å…³äºï¼šReact Native Appåº”ç”¨æ¶æ„è®¾è®¡\n\nç»å¯¹æ˜¯å¹²è´§ï¼š[React Native Appåº”ç”¨æ¶æ„è®¾è®¡](https://zhuanlan.zhihu.com/p/30617441)\n\n\n","tags":["å‰ç«¯","javascript","react-native"],"categories":["æŠ€æœ¯"]},{"title":"Npmå®‰è£…å®Œåçš„å›è°ƒå¤„ç†","url":"/tech-notes/npm-script-postinstall-1528025660.html","content":"\n### æ¯”å¦‚åœ¨ReactNativeä¸­ï¼Œå®‰è£…å®Œä¾èµ–ä¹‹åï¼Œéœ€è¦æ”¹ç«¯å£ã€åˆ æ‰æŸäº›æ–‡ä»¶....\n\n> å¤šä¸ªæ“ä½œä¸èƒ½åœ¨package.jsonä¸­å®šä¹‰æ•°ç»„ï¼Œä½†å¯ä»¥é‡æ–°å®šä¹‰ä¸€ä¸ªè„šæœ¬ï¼Œåœ¨è„šæœ¬ä¸­å®šä¹‰æ“ä½œé›†åˆï¼š\n\n![](/img/2018/15280257721155.jpg)\n\nshellä¸­è¿™ä¹ˆå†™å°±è¡Œ\n\n```javascript\n#!/bin/bash\n\necho 'Now run custom commands after all package is installed.'\n\necho 'modify react-native package-manager default port'\nreact-native-port-patcher --new-port 9090\n\necho 'fix `Font Awesome` could not be found within the package etc.'\nrm ./node_modules/react-native/local-cli/core/__fixtures__/files/package.json\n```\n\n\n","tags":["javascript","ç å¸¸è§„"],"categories":["æŠ€æœ¯"]},{"title":"WebStormè¯­æ³•é«˜äº®é—®é¢˜","url":"/tech-notes/highlight-webstorm-1528025404.html","content":"\n## ä¸€å®šç¨‹åº¦ä¸Šè§£å†³React-Nativeå¼€å‘è¿‡ç¨‹ä¸­ï¼ŒWebStormè¯­æ³•é«˜äº®çš„é—®é¢˜\n\n###  Cannot resolve symbol â€˜Componentâ€™ & Cannot resolve symbolâ€˜PropTypesâ€™\n\n```\n1.è§£å†³ Cannot resolve symbol 'Component' \n\n  å®‰è£…ä¾èµ–ï¼šnpm install @types/react --save\n  è°ƒç”¨æ–¹æ³•ï¼šimport React, { Component } from 'react'\n\n2.è§£å†³ Cannot resolve symbol 'PropTypes'\n\n  å®‰è£…ä¾èµ–ï¼šnpm install prop-types --save\n  è°ƒç”¨æ–¹æ³•ï¼šimport PropTypes from 'prop-types'\n```\n\nhttps://www.npmjs.com/package/@types/react-native\n\n> npm install --save @types/react-native\n\n","tags":["ç å¸¸è§„"],"categories":["æŠ€æœ¯"]},{"title":"å¦‚æœç”¨Reduxä¸çˆ½çš„è¯é‚£å°±è¯•è¯•MobXå§","url":"/tech-notes/mobx-vs-redux-1528024961.html","content":"\n## Reduxä¹‹çˆ¶çš„å»ºè®®ï¼šunhappy with redux? try mobx...\n\n### ä¸ºä»€ä¹ˆä¸ç”¨Reduxäº†ï¼Œä¸‰ä¸ªå“²å­¦é—®é¢˜ï¼ˆæœªè§£ä¹‹è°œï¼‰ï¼Ÿ\n\n1. Actionå¤ªå¤šå¯¼è‡´ä¸è®°å¾—Actionçš„å‘½ååˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿéšä¾¿ä¸€ä¸ªéœ€æ±‚å°±è¦æ”¹åŠ¨å¤šä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªå°å¿ƒå†™é”™å­—ç¬¦ï¼Œå°±å¤Ÿä½ æŸ¥åŠå¤©åŸå› ã€‚åŠæ—¶ä¸“é—¨å†™ä¸ªç®¡ç†å·¥å…·ï¼Œç®¡ç†èµ·æ¥ä¹Ÿéå¸¸ç—›è‹¦ï¼›\n2. Actionçš„æµå‘åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ\n3. ç»ç§ç§å¤„ç†å’Œåå¤ä¼ é€’ï¼Œå†™reduceræ—¶ï¼Œä¸æ‰“ä¸ªlogoçœŸçš„ä¸çŸ¥é“æ‹¿åˆ°ä»€ä¹ˆæ•°æ®ç»“æ„\n\n\n> ä¸­æ–‡æ–‡æ¡£ï¼šhttps://suprise.github.io/mobx-cn/\n\n![](/img/2018/15280251601947.jpg)\n\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"MobXæ€æƒ³çš„å®ç°åŸç†","url":"/tech-notes/mobx-core-study-1528024413.html","content":"\n### Mobx æœ€å…³é”®çš„å‡½æ•°åœ¨äº autoRunï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå®ƒå¯ä»¥è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼š\n\n```javascript\nconst obj = observable({\n    a: 1,\n    b: 2\n})\n\nautoRun(() => {\n    console.log(obj.a)\n})\n\nobj.b = 3 // ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿ\nobj.a = 2 // observe å‡½æ•°çš„å›è°ƒè§¦å‘äº†ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š2\n```\n\næˆ‘ä»¬å‘ç°è¿™ä¸ªå‡½æ•°éå¸¸æ™ºèƒ½ï¼Œç”¨åˆ°äº†ä»€ä¹ˆå±æ€§ï¼Œå°±ä¼šå’Œè¿™ä¸ªå±æ€§æŒ‚ä¸Šé’©ï¼Œä»æ­¤ä¸€æ—¦è¿™ä¸ªå±æ€§å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¼šè§¦å‘å›è°ƒï¼Œé€šçŸ¥ä½ å¯ä»¥æ‹¿åˆ°æ–°å€¼äº†ã€‚æ²¡æœ‰ç”¨åˆ°çš„å±æ€§ï¼Œæ— è®ºä½ æ€ä¹ˆä¿®æ”¹ï¼Œå®ƒéƒ½ä¸ä¼šè§¦å‘å›è°ƒï¼Œè¿™å°±æ˜¯ç¥å¥‡çš„åœ°æ–¹ã€‚\n\n### autoRun çš„ç”¨é€”\n\nä½¿ç”¨ autoRun å®ç° mobx-react éå¸¸ç®€å•ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å°†ç»„ä»¶å¤–é¢åŒ…ä¸Š autoRunï¼Œè¿™æ ·ä»£ç ä¸­ç”¨åˆ°çš„æ‰€æœ‰å±æ€§éƒ½ä¼šåƒä¸Šé¢ Demo ä¸€æ ·ï¼Œä¸å½“å‰ç»„ä»¶ç»‘å®šï¼Œä¸€æ—¦ä»»ä½•å€¼å‘ç”Ÿäº†ä¿®æ”¹ï¼Œå°±ç›´æ¥ forceUpdateï¼Œè€Œä¸”ç²¾ç¡®å‘½ä¸­ï¼Œæ•ˆç‡æœ€é«˜ã€‚\n\n### ä¾èµ–æ”¶é›†\n\nautoRun çš„ä¸“ä¸šåè¯å«åšä¾èµ–æ”¶é›†ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡è‡ªç„¶çš„ä½¿ç”¨ï¼Œæ¥æ”¶é›†ä¾èµ–ï¼Œå½“å˜é‡æ”¹å˜æ—¶ï¼Œæ ¹æ®æ”¶é›†çš„ä¾èµ–æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ã€‚\n\n### å®ç°æ­¥éª¤æ‹†è§£\n\nä¸ºäº†å…¼å®¹ï¼ŒMobx ä½¿ç”¨äº† Object.defineProperty æ‹¦æˆª getter å’Œ setterï¼Œä½†æ˜¯æ— æ³•æ‹¦æˆªæœªå®šä¹‰çš„å˜é‡ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨ proxy æ¥è®²è§£ï¼Œè€Œä¸”å¯ä»¥ç›‘å¬æœªå®šä¹‰çš„å˜é‡å“¦ã€‚\n\n#### æ­¥éª¤ä¸€ å­˜å‚¨ç»“æ„\n\nä¼—æ‰€å‘¨çŸ¥ï¼Œäº‹ä»¶ç›‘å¬æ˜¯éœ€è¦é¢„å…ˆå­˜å‚¨çš„ï¼ŒautoRun ä¹Ÿä¸€æ ·ï¼Œä¸ºäº†çŸ¥é“å½“å˜é‡ä¿®æ”¹åï¼Œå“ªäº›æ–¹æ³•åº”è¯¥è¢«è§¦å‘ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­˜å‚¨ç»“æ„ã€‚\n\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æ‰€æœ‰çš„ä»£ç†å¯¹è±¡ï¼Œè®©æˆ‘ä»¬æ— è®ºæ‹¿åˆ°åŸå§‹å¯¹è±¡ï¼Œè¿˜æ˜¯ä»£ç†å¯¹è±¡ï¼Œéƒ½èƒ½å¿«é€Ÿçš„æ‰¾å‡ºæ˜¯å¦æœ‰å¯¹åº”çš„ä»£ç†å¯¹è±¡å­˜åœ¨ï¼Œè¿™ä¸ªåŠŸèƒ½ç”¨åœ¨åˆ¤æ–­ä»£ç†æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦åˆæ³•ï¼Œä»¥åŠåŒä¸€ä¸ªå¯¹è±¡ä¸ä¼šç”Ÿæˆä¸¤ä¸ªä»£ç†ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n\n```javascript\nconst proxies = new WeakMap()\n\nfunction isObservable<T extends object>(obj: T) {\n    return (proxies.get(obj) === obj)\n}\n```\n\né‡ç‚¹æ¥äº†ï¼Œç¬¬äºŒä¸ªè¦å­˜å‚¨çš„æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç›‘å¬ï¼å½“ä»»ä½•å¯¹è±¡è¢«æ”¹å˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å®ƒæ¯ä¸€ä¸ª key å¯¹åº”ç€å“ªäº›ç›‘å¬ï¼ˆè¿™äº›ç›‘å¬ç”± autoRun æ³¨å†Œï¼‰ï¼Œä¹Ÿå°±æ˜¯ï¼Œæœ€ç»ˆä¼šå­˜åœ¨å¤šä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡çš„æ¯ä¸ª key éƒ½å¯èƒ½ä¸å¤šä¸ª autoRun ç»‘å®šï¼Œè¿™æ ·åœ¨æ›´æ–°æŸä¸ª key æ—¶ï¼Œç›´æ¥è§¦å‘ä¸å…¶ç»‘å®šçš„æ‰€æœ‰ autoRun å³å¯ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n\n> const observers = new WeakMap<object, Map<PropertyKey, Set<Observer>>>()\n\nç¬¬ä¸‰ä¸ªå­˜å‚¨ç»“æ„å°±æ˜¯å¾…è§‚å¯Ÿé˜Ÿåˆ—ï¼Œä¸ºäº†ä½¿åŒä¸€ä¸ªè°ƒç”¨æ ˆå¤šæ¬¡èµ‹å€¼ä»…æ‰§è¡Œä¸€æ¬¡ autoRunï¼Œæ‰€æœ‰å¾…æ‰§è¡Œçš„éƒ½ä¼šæ”¾åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸­ï¼Œåœ¨ä¸‹ä¸€æ—¶åˆ»ç»Ÿä¸€æ‰§è¡Œé˜Ÿåˆ—å¹¶æ¸…ç©ºï¼Œæ‰§è¡Œçš„æ—¶å€™ï¼Œå½“å‰æ‰€æœ‰ autoRun éƒ½æ˜¯åœ¨åŒä¸€æ—¶åˆ»è§¦å‘çš„ï¼Œæ‰€ä»¥è®©ç›¸åŒçš„ autoRun ä¸ç”¨è§¦å‘å¤šæ¬¡å³å¯å®ç°æ€§èƒ½ä¼˜åŒ–ã€‚\n\n> const queuedObservers = new Set()\n\nä»£ç å¦‚ä¸‹ï¼š\n\næˆ‘ä»¬è¿˜è¦å†å­˜å‚¨ä¸¤ä¸ªå…¨å±€å˜é‡ï¼Œåˆ†åˆ«æ˜¯æ˜¯å¦åœ¨é˜Ÿåˆ—æ‰§è¡Œä¸­ï¼Œä»¥åŠå½“å‰æ‰§è¡Œåˆ°çš„ autoRunã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n```javascript\nlet queued = false\nlet currentObserver: Observer = null\n```\n\n\n#### æ­¥éª¤äºŒ å°†å¯¹è±¡åŠ å·¥å¯è§‚å¯Ÿ\n\nè¿™ä¸€æ­¥è®²è§£çš„æ˜¯ observable åšäº†å“ªäº›äº‹ï¼Œé¦–å…ˆç¬¬ä¸€ä»¶å°±æ˜¯ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä»£ç†å¯¹è±¡äº†ï¼Œå°±ç›´æ¥è¿”å›ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n```javascript\nfunction observable<T extends object>(obj: T = {} as T): T {\n    return proxies.get(obj) || toObservable(obj)\n}\n```\n\næˆ‘ä»¬ç»§ç»­çœ‹ toObservable å‡½æ•°ï¼Œå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œå®ä¾‹åŒ–ä»£ç†ï¼Œå¹¶æ‹¦æˆª get set ç­‰æ–¹æ³•ã€‚\n\næˆ‘ä»¬å…ˆçœ‹æ‹¦æˆª get çš„ä½œç”¨ï¼šå…ˆæ‹¿åˆ°å½“å‰è¦è·å–çš„å€¼ resultï¼Œå¦‚æœè¿™ä¸ªå€¼åœ¨ä»£ç†ä¸­å­˜åœ¨ï¼Œä¼˜å…ˆè¿”å›ä»£ç†å¯¹è±¡ï¼Œå¦åˆ™è¿”å› result æœ¬èº«ï¼ˆæ²¡æœ‰å¼•ç”¨å…³ç³»çš„åŸºæœ¬ç±»å‹ï¼‰ã€‚\n\nä¸Šé¢çš„é€»è¾‘åªæ˜¯ç®€å•è¿”å›å–å€¼ï¼Œå¹¶æ²¡æœ‰æ³¨å†Œè¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨ currentObserver å­˜åœ¨æ—¶æ‰ä¼šç»™å¯¹è±¡å½“å‰ keyæ³¨å†Œ autoRunï¼Œå¹¶ä¸”å¦‚æœç»“æœæ˜¯å¯¹è±¡ï¼Œåˆä¸å­˜åœ¨å·²æœ‰çš„ä»£ç†ï¼Œå°±è°ƒç”¨è‡ªèº« toObservable å†é€’å½’ä¸€éï¼Œæ‰€ä»¥è¿”å›çš„å¯¹è±¡ä¸€å®šæ˜¯ä»£ç†ã€‚\n\nregisterObserver å‡½æ•°çš„ä½œç”¨æ˜¯å°† targetObj -> key -> autoRun è¿™ä¸ªé“¾è·¯å…³ç³»å­˜åˆ° observers å¯¹è±¡ä¸­ï¼Œå½“å¯¹è±¡ä¿®æ”¹çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æ‰¾åˆ°å¯¹åº” key çš„ autoRunã€‚\n\né‚£ä¹ˆ currentObserver æ˜¯ä»€ä¹ˆæ—¶å€™èµ‹å€¼çš„å‘¢ï¼Ÿé¦–å…ˆï¼Œå¹¶ä¸æ˜¯è®¿é—®åˆ° get å°±è¦æ³¨å†Œ registerObserverï¼Œå¿…é¡»åœ¨ autoRun é‡Œé¢çš„æ‰ç¬¦åˆè¦æ±‚ï¼Œæ‰€ä»¥æ‰§è¡Œ autoRun çš„æ—¶å€™å°±ä¼šå°†å½“å‰å›è°ƒå‡½æ•°èµ‹å€¼ç»™ currentObserverï¼Œä¿è¯äº†åœ¨ autoRun å‡½æ•°å†…éƒ¨æ‰€æœ‰ç›‘å¬å¯¹è±¡çš„ get æ‹¦æˆªå™¨éƒ½èƒ½è®¿é—®åˆ° currentObserverã€‚ä»¥æ­¤ç±»æ¨ï¼Œå…¶ä»– autoRun å‡½æ•°å›è°ƒå‡½æ•°å†…éƒ¨å˜é‡ get æ‹¦æˆªå™¨ä¸­ï¼ŒcurrentObserver ä¹Ÿæ˜¯å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n```javascript\nconst dynamicObject = new Proxy(obj, {\n    // ...\n    get(target, key, receiver) {\n        const result = Reflect.get(target, key, receiver)\n\n        // å¦‚æœå–çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¼˜å…ˆå–ä»£ç†å¯¹è±¡\n        const resultIsObject = typeof result === 'object' && result\n        const existProxy = resultIsObject && proxies.get(result)\n\n        // å°†ç›‘å¬æ·»åŠ åˆ°è¿™ä¸ª key ä¸Š\n        if (currentObserver) {\n            registerObserver(target, key)\n            if (resultIsObject) {\n                return existProxy || toObservable(result)\n            }\n        }\n\n        return existProxy || result\n    }),\n    // ...\n})\n```\n\nsetter è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå¯¹è±¡äº§ç”Ÿäº†å˜åŠ¨ï¼Œå°±ä¼šè§¦å‘ queueObservers å‡½æ•°æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œè¿™äº›å›è°ƒéƒ½åœ¨ getter ä¸­å®šä¹‰å¥½äº†ï¼Œåªéœ€è¦æŠŠå½“å‰å¯¹è±¡ï¼Œä»¥åŠä¿®æ”¹çš„ key ä¼ è¿‡å»ï¼Œç›´æ¥è§¦å‘å¯¹åº”å¯¹è±¡ï¼Œå½“å‰ key æ‰€æ³¨å†Œçš„ autoRun å³å¯ã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n```javascript\nconst dynamicObject = new Proxy(obj, {\n    // ...\n    set(target, key, value, receiver) {\n        // å¦‚æœæ”¹åŠ¨äº† length å±æ€§ï¼Œæˆ–è€…æ–°å€¼ä¸æ—§å€¼ä¸åŒï¼Œè§¦å‘å¯è§‚å¯Ÿé˜Ÿåˆ—ä»»åŠ¡\n        if (key === 'length' || value !== Reflect.get(target, key, receiver)) {\n            queueObservers<T>(target, key)\n        }\n\n        // å¦‚æœæ–°å€¼æ˜¯å¯¹è±¡ï¼Œä¼˜å…ˆå–åŸå§‹å¯¹è±¡\n        if (typeof value === 'object' && value) {\n            value = value.$raw || value\n        }\n\n        return Reflect.set(target, key, value, receiver)\n    },\n    // ...\n})\n```\n\næ²¡é”™ï¼Œä¸»è¦é€»è¾‘å·²ç»å…¨éƒ¨è¯´å®Œäº†ï¼Œæ–°å¯¹è±¡ä¹‹æ‰€ä»¥å¯ä»¥æ£€æµ‹åˆ°ï¼Œæ˜¯å› ä¸º proxy çš„ get ä¼šè§¦å‘ï¼Œè¿™è¦å¤šè°¢ proxy çš„å¼ºå¤§ã€‚\n\nå¯èƒ½æœ‰äººé—® Object.defineProperty ä¸ºä»€ä¹ˆä¸è¡Œï¼ŒåŸå› å¾ˆç®€å•ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°åªèƒ½è®¾ç½®æŸä¸ª key çš„ gettersetter~ã€‚\n\nsymbol proxy reflect è¿™ä¸‰å‰‘å®¢èƒ½åšçš„äº‹è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œè¿™ä»…ä»…æ˜¯å®ç° Object.observe è€Œå·²ï¼Œè¿˜æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½å¯ä»¥æŒ–æ˜ã€‚\n\n> mobx çš„ proxy å®Œæ•´å®ç°ç‰ˆæœ¬å‚è€ƒ https://github.com/nx-js/observer-util é¡¹ç›®ã€‚\n\n\n### è°ˆè°ˆ Redux ä¸ Mobx æ€æƒ³çš„é€‚ç”¨åœºæ™¯\n\n> Redux å’Œ Mobx éƒ½æ˜¯å½“ä¸‹æ¯”è¾ƒç«çƒ­çš„æ•°æ®æµæ¨¡å‹ï¼Œä¸€ä¸ªèƒŒé å‡½æ•°å¼ï¼Œä¼¼ä¹æˆä¸ºäº†å¼€æºç•Œæ ‡é…ï¼Œä¸€ä¸ªåŸºäºé¢å‘å¯¹è±¡ï¼Œä½è°ƒçš„å‰è¡Œã€‚\n\n#### å‡½æ•°å¼ vs é¢å‘å¯¹è±¡\n\n> é¦–å…ˆä»»ä½•é¿å¼€ä¸šåŠ¡åœºæ™¯çš„æŠ€æœ¯é€‰å‹éƒ½æ˜¯è€æµæ°“ï¼Œæˆ‘å…ˆè€ä¸€ä¸‹æµæ°“ï¼Œé¦–å…ˆå‡½æ•°å¼çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚ï¼š\n\n1. æ— å‰¯ä½œç”¨ï¼Œå¯æ—¶é—´å›æº¯ï¼Œé€‚åˆå¹¶å‘ã€‚\n2. æ•°æ®æµå˜æ¢å¤„ç†å¾ˆæ‹¿æ‰‹ï¼Œæ¯”å¦‚ rxjsã€‚\n3. å¯¹äºå¤æ‚æ•°æ®é€»è¾‘ã€ç§‘å­¦è®¡ç®—ç»´çš„å¼€å‘å’Œç»´æŠ¤æ•ˆç‡æ›´é«˜ã€‚\n\nå½“ç„¶ï¼Œè¿åŸå­éƒ½æ˜¯ç”±å¸¦æ­£ç”µçš„åŸå­æ ¸ï¼Œä¸å¸¦è´Ÿç”µçš„ç”µå­ç»„æˆçš„ï¼Œå‡ ä¹ä»»ä½•äº‹åŠ¡éƒ½æ²¡æœ‰ç»å¯¹çš„å¥½åï¼Œé¢å‘å¯¹è±¡ä¹Ÿå­˜åœ¨å¾ˆå¤šä¼˜åŠ¿ï¼Œæ¯”å¦‚ï¼š\n\n1. javascript çš„é¸­å­ç±»å‹ï¼Œè¡¨æ˜å®ƒåŸºäºå¯¹è±¡ï¼Œä¸é€‚åˆå®Œå…¨å‡½æ•°å¼è¡¨è¾¾ã€‚\n2. æ•°å­¦æ€ç»´å’Œæ•°æ®å¤„ç†é€‚åˆç”¨å‡½æ•°å¼ï¼ŒæŠ€æœ¯æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œè€Œä¸šåŠ¡æ¨¡å‹é€‚åˆç”¨é¢å‘å¯¹è±¡ã€‚\n3. ä¸šåŠ¡å¼€å‘å’Œåšç ”ç©¶ä¸åŒï¼Œé€»è¾‘ä¸¥è°¨çš„å‡½æ•°å¼ç›¸å½“å®Œç¾ï¼Œä½†åˆ«æŒ‡æœ›æ¯ä¸ªç¨‹åºå‘˜éƒ½æ„¿æ„æ¶ˆè€—å¤§é‡è„‘ç»†èƒè§£å†³æ—¥å¸¸ä¸šåŠ¡é—®é¢˜ã€‚\n\n#### Redux vs Mobx\n\n> é‚£ä¹ˆå…·ä½“åˆ°è¿™ä¸¤ç§æ¨¡å‹ï¼Œåˆæœ‰ä¸€äº›ç‰¹å®šçš„ä¼˜ç¼ºç‚¹å‘ˆç°å‡ºæ¥ï¼Œå…ˆè°ˆè°ˆ Redux çš„ä¼˜åŠ¿ï¼š\n\n1. æ•°æ®æµæµåŠ¨å¾ˆè‡ªç„¶ï¼Œå› ä¸ºä»»ä½• dispatch éƒ½ä¼šå¯¼è‡´å¹¿æ’­ï¼Œéœ€è¦ä¾æ®å¯¹è±¡å¼•ç”¨æ˜¯å¦å˜åŒ–æ¥æ§åˆ¶æ›´æ–°ç²’åº¦ã€‚\n2. å¦‚æœå……åˆ†åˆ©ç”¨æ—¶é—´å›æº¯çš„ç‰¹å¾ï¼Œå¯ä»¥å¢å¼ºä¸šåŠ¡çš„å¯é¢„æµ‹æ€§ä¸é”™è¯¯å®šä½èƒ½åŠ›ã€‚\n3. æ—¶é—´å›æº¯ä»£ä»·å¾ˆé«˜ï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¦æ›´æ–°å¼•ç”¨ï¼Œé™¤éå¢åŠ ä»£ç å¤æ‚åº¦ï¼Œæˆ–ä½¿ç”¨ immutableã€‚\n4. æ—¶é—´å›æº¯çš„å¦ä¸€ä¸ªä»£ä»·æ˜¯ action ä¸ reducer å®Œå…¨è„±èŠ‚ï¼Œæ•°æ®æµè¿‡ç¨‹éœ€è¦è‡ªè¡Œè„‘è¡¥ã€‚åŸå› æ˜¯å¯å›æº¯å¿…ç„¶ä¸èƒ½ä¿è¯å¼•ç”¨å…³ç³»ã€‚\n5. å¼•å…¥ä¸­é—´ä»¶ï¼Œå…¶å®ä¸»è¦ä¸ºäº†è§£å†³å¼‚æ­¥å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œä¸šåŠ¡é€»è¾‘æˆ–å¤šæˆ–å°‘å‚æ‚ç€ magicã€‚\n6. ä½†æ˜¯çµæ´»åˆ©ç”¨ä¸­é—´ä»¶ï¼Œå¯ä»¥é€šè¿‡çº¦å®šå®Œæˆè®¸å¤šå¤æ‚çš„å·¥ä½œã€‚\n7. å¯¹ typescript æ”¯æŒå›°éš¾ã€‚\n\nMobxï¼š\n\n1. æ•°æ®æµæµåŠ¨ä¸è‡ªç„¶ï¼Œåªæœ‰ç”¨åˆ°çš„æ•°æ®æ‰ä¼šå¼•å‘ç»‘å®šï¼Œå±€éƒ¨ç²¾ç¡®æ›´æ–°ï¼Œä½†å…å»äº†ç²’åº¦æ§åˆ¶çƒ¦æ¼ã€‚\n2. æ²¡æœ‰æ—¶é—´å›æº¯èƒ½åŠ›ï¼Œå› ä¸ºæ•°æ®åªæœ‰ä¸€ä»½å¼•ç”¨ã€‚\n3. è‡ªå§‹è‡³ç»ˆä¸€ä»½å¼•ç”¨ï¼Œä¸éœ€è¦ immutableï¼Œä¹Ÿæ²¡æœ‰å¤åˆ¶å¯¹è±¡çš„é¢å¤–å¼€é”€ã€‚\n4. æ²¡æœ‰è¿™æ ·çš„çƒ¦æ¼ï¼Œæ•°æ®æµåŠ¨ç”±å‡½æ•°è°ƒç”¨ä¸€æ°”å‘µæˆï¼Œä¾¿äºè°ƒè¯•ã€‚\n5. ä¸šåŠ¡å¼€å‘ä¸æ˜¯è„‘åŠ›æ´»ï¼Œè€Œæ˜¯ä½“åŠ›æ´»ï¼Œå°‘ä¸€äº› magicï¼Œå¤šä¸€äº›æ•ˆç‡ã€‚\n6. ç”±äºæ²¡æœ‰ magicï¼Œæ‰€ä»¥æ²¡æœ‰ä¸­é—´ä»¶æœºåˆ¶ï¼Œæ²¡æ³•é€šè¿‡ magic åŠ å¿«å·¥ä½œæ•ˆç‡ï¼ˆè¿™é‡Œ magic æ˜¯æŒ‡ action åˆ†å‘åˆ° reducer çš„è¿‡ç¨‹ï¼‰ã€‚\n7. å®Œç¾æ”¯æŒ typescriptã€‚\n\n\n### åˆ°åº•å¦‚ä½•é€‰æ‹©\n\n\nä»ç›®å‰ç»éªŒæ¥çœ‹ï¼Œæˆ‘å»ºè®®å‰ç«¯æ•°æ®æµä¸å¤ªå¤æ‚çš„æƒ…å†µï¼Œä½¿ç”¨ Mobxï¼Œå› ä¸ºæ›´åŠ æ¸…æ™°ï¼Œä¹Ÿä¾¿äºç»´æŠ¤ï¼›å¦‚æœå‰ç«¯æ•°æ®æµæåº¦å¤æ‚ï¼Œå»ºè®®è°¨æ…ä½¿ç”¨ Reduxï¼Œé€šè¿‡ä¸­é—´ä»¶å‡ç¼“å·¨å¤§ä¸šåŠ¡å¤æ‚åº¦ï¼Œä½†è¿˜æ˜¯è¦åšåˆ°å¯¹å¼€å‘äººå‘˜å°½é‡é€æ˜ï¼Œå¦‚æœå¯ä»¥å»ºè®®ä½¿ç”¨ typescript è¾…åŠ©ã€‚\n\n> https://zhuanlan.zhihu.com/p/25585910\n\nå¦ä¸€ç»„å¯¹æ¯”ï¼š\n\n> https://zhuanlan.zhihu.com/p/25989654\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"Mobxä½¿ç”¨è¯¦è§£åŠæœ€ä½³å®è·µ","url":"/tech-notes/mobx-study-1528023982.html","content":"\n## æ‘˜è‡ªï¼š\n\nä½œè€…ï¼šDominic_Ming\né“¾æ¥ï¼šhttps://juejin.im/post/5a3b1a88f265da431440dc4a\næ¥æºï¼šæ˜é‡‘\n\n### stores ä»£è¡¨ç€UIçŠ¶æ€\n\næ°¸è¿œè®°ä½ï¼Œä½ çš„storesä»£è¡¨ç€ä½ çš„UIçŠ¶æ€ï¼Œè¿™å°±æ„å‘³ç€ï¼Œå½“ä½ å°†ä½ çš„storeså‚¨å­˜ä¸‹æ¥åï¼Œå°±ç®—ä½ å…³äº†ç½‘é¡µï¼Œå†æ¬¡æ‰“å¼€ï¼Œè½½å…¥è¿™ä¸ªstoresï¼Œä½ å¾—åˆ°çš„ç½‘é¡µä¹Ÿåº”è¯¥æ˜¯ç›¸åŒçš„ã€‚è™½ç„¶storeså¹¶ä¸æ˜¯ä¸€ä¸ªæœ¬åœ°æ•°æ®åº“çš„è§’è‰²ï¼Œä½†æ˜¯ä»–ä¾ç„¶å­˜å‚¨ç€ä¸€äº›ç±»ä¼¼äºæŒ‰é’®æ˜¯å¦å¯è§ï¼Œinputé‡Œé¢çš„å†…å®¹ä¹‹ç±»çš„UIçŠ¶æ€ã€‚\n\n```javascript\nclass SearchStore {\n  @observable searchText;\n\n  @action\n  setSearchText = (searchText) => {\n    this.searchText = searchText\n  }\n}\n\n@observer\nclass SearchInput extends React.Component {\n\n  handleInputChanged = (event) => {\n    const { searchStore } = this.props;\n    searchStore.setSearchText(event.target.value);\n  }\n\n  render() {\n    const { searchStore } = this.props;\n    return (\n      <input\n        value={searchStore.searchText}\n        onChange={this.handleInputChanged}\n      />\n    );\n  }\n}\n```\n\n### å°†ä½ çš„REST APIè¯·æ±‚å’Œstoreçš„actionåˆ†ç¦»\nä¸å»ºè®®å°†REST APIè¯·æ±‚çš„å‡½æ•°æ”¾åœ¨storesé‡Œé¢ï¼Œå› ä¸ºè¿™æ ·ä»¥æ¥è¿™äº›è¯·æ±‚ä»£ç å¾ˆéš¾æµ‹è¯•ã€‚ä½ å¯ä»¥å°è¯•æŠŠè¿™äº›è¯·æ±‚å‡½æ•°æ”¾åœ¨ä¸€ä¸ªç±»é‡Œé¢ï¼ŒæŠŠè¿™ä¸ªç±»çš„ä»£ç å’Œstoreæ”¾åœ¨ä¸€èµ·ï¼Œåœ¨storeåˆ›å»ºæ—¶ï¼Œè¿™ä¸ªç±»ä¹Ÿç›¸åº”åˆ›å»ºã€‚ç„¶åå½“ä½ æµ‹è¯•æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¼˜é›…çš„æŠŠæ•°æ®ä»è¿™äº›ç±»é‡Œé¢mockä¸Šå»ã€‚\n\n```javascript\n\nclass TodoApi {\n\n  fetchTodos = () => request.get('/todos')\n}\n\nclass TodoStore {\n\n  @observable todos = [];\n\n  constructor(todoApi) {\n    this.todoApi = todoApi;\n  }\n\n  fetchTodos = async () => {\n    const todos = await this.todoApi.fetchTodos();\n\n    runInAction(() => {\n      this.todos = todos;\n    });\n  }\n}\n\n```\n\n// åœ¨ä½ çš„ä¸»è¦å‡½æ•°é‡Œé¢\n```javascript\nconst todoApi = new TodoApi();\nconst todoStore = new TodoStore(todoApi);\n```\n### æŠŠä½ çš„ä¸šåŠ¡é€»è¾‘æ”¾åœ¨storesé‡Œé¢\nå°½é‡ä¸è¦æŠŠä¸šåŠ¡é€»è¾‘å†™åœ¨ä½ çš„ç»„ä»¶é‡Œé¢ã€‚å½“ä½ æŠŠä¸šåŠ¡é€»è¾‘å†™åœ¨ç»„ä»¶é‡Œé¢çš„æ—¶å€™ï¼Œä½ æ˜¯æ²¡æœ‰åŠæ³•æ¥åŠæ—¶å®šä½é”™è¯¯çš„ï¼Œå› ä¸ºä½ çš„ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨å„ç§ä¸åŒçš„ç»„ä»¶é‡Œé¢ï¼Œè®©ä½ å¾ˆéš¾æ¥é€šè¿‡è¡Œä¸ºæ¥å®šä¹‰åˆ°åº•æ˜¯å“ªäº›ä»£ç æ¶‰åŠçš„è¿™ä¸ªé”™è¯¯ã€‚æœ€å¥½å°±æŠŠä¸šåŠ¡é€»è¾‘æ”¾åœ¨storesçš„æ–¹æ³•é‡Œé¢ï¼Œä»ç»„ä»¶é‡Œé¢è°ƒç”¨ã€‚\n\n### é¿å…ä½¿ç”¨å…¨å±€çš„storeå®ä¾‹\n\nè¯·å°½é‡é¿å…ä½¿ç”¨å…¨å±€çš„storeå®ä¾‹ï¼Œå› ä¸ºè¿™æ ·ä½ å¾ˆéš¾å†™å‡ºæœ‰æ¡ç†è€Œå¯é çš„ç»„ä»¶æµ‹è¯•ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨Provideræ¥æŠŠä½ çš„store injectåˆ°ä½ çš„componentå®ä¾‹çš„propsé‡Œé¢ã€‚è¿™æ ·ä½ å°±å¯ä»¥è½»æ¾çš„mockè¿™äº›storeæ¥æµ‹è¯•äº†ã€‚\n\n```javascript\nconst searchStore = new SearchStore();\n\nconst app = (\n  <Provider searchStore={searchStore}>\n    <SearchInput />\n  </Provider>\n);\n\nReactDom.render(app, container);\n```\n\n### åªæœ‰åœ¨storeé‡Œé¢æ‰å…è®¸æ”¹å˜å±æ€§\n\nè¯·ä¸è¦ç›´æ¥åœ¨ç»„ä»¶é‡Œé¢ç›´æ¥æ“ä½œstoreçš„å±æ€§å€¼ã€‚å› ä¸ºåªæœ‰storeæ‰èƒ½å¤Ÿæ¥ä¿®æ”¹è‡ªå·±çš„å±æ€§ã€‚å½“ä½ è¦æ”¹å˜å±æ€§çš„æ—¶å€™ï¼Œè¯·ä½¿ç”¨ç›¸åº”çš„storeæ–¹æ³•ã€‚ä¸ç„¶çš„è¯ä½ çš„å±æ€§ä¿®æ”¹ä¼šæ•£è½åœ¨å„å¤„ä¸å—æ§åˆ¶ï¼Œè¿™æ˜¯å¾ˆéš¾debugçš„ã€‚\n\n### æ—¶åˆ»è®°å¾—åœ¨ç»„ä»¶å£°æ˜ @observer\n\nåœ¨æ¯ä¸ªç»„ä»¶å£°æ˜çš„æ—¶å€™ä½¿ç”¨@observeræ¥æ›´æ–°ç»„ä»¶çš„çŠ¶æ€ã€‚ä¸ç„¶åœ¨åµŒå¥—ç»„ä»¶é‡Œé¢ï¼Œå­ç»„ä»¶æ²¡æœ‰å£°æ˜çš„è¯ï¼Œæ¯æ¬¡çŠ¶æ€æ›´æ–°æ¶‰åŠåˆ°çš„éƒ½æ˜¯çˆ¶ç»„ä»¶çº§çš„é‡æ–°æ¸²æŸ“ã€‚å½“ä½ éƒ½ä½¿ç”¨äº†@observeræ—¶ï¼Œé‡æ–°æ¸²æŸ“çš„ç»„ä»¶æ•°é‡ä¼šå¤§å¤§é™ä½ã€‚\n\n### ä½¿ç”¨ @computed\nå°±åƒä¸‹é¢ä»£ç çš„ä¾‹å­ï¼Œä½¿ç”¨@computedå±æ€§æ¥å¤„ç†ä¸€äº›æ¶‰åŠå¤šä¸ªå±æ€§çš„é€»è¾‘ã€‚ä½¿ç”¨@computedå¯ä»¥å‡å°‘è¿™æ ·çš„åˆ¤æ–­ç±»ä¸šåŠ¡é€»è¾‘åœ¨ç»„ä»¶é‡Œé¢å‡ºç°çš„é¢‘ç‡ã€‚\n```javascript\nclass ApplicationStore {\n\n  @observable loggedInUser;\n\n  @observable isInAdminMode;\n\n  @computed isAdminButtonEnabled = () => {\n    return this.loggedInUser.role === 'admin' && this.isInAdminMode;\n  }\n}\n```\n\n### ä½ ä¸éœ€è¦ react router æ¥ç®¡ç†çŠ¶æ€\n\nä½ ä¸éœ€è¦ä½¿ç”¨react routerç®¡ç†çŠ¶æ€ã€‚å°±åƒæˆ‘å‰é¢æ‰€è¯´çš„ï¼Œä½ çš„storeå°±ä»£è¡¨äº†åº”ç”¨çš„çŠ¶æ€ã€‚å½“ä½ è®©routeræ¥ç®¡ç†éƒ¨ä»½åº”ç”¨çŠ¶æ€çš„æ—¶å€™ï¼Œè¿™éƒ¨åˆ†çŠ¶æ€å°±ä»storeé‡Œé¢å‰¥ç¦»å¼€æ¥ã€‚æ‰€ä»¥å°½é‡ä½¿ç”¨storeæ¥å‚¨å­˜æ‰€æœ‰çš„UIçŠ¶æ€ï¼Œè¿™æ ·storeçš„å±æ€§å°±æ˜¯ä½ çš„ç•Œé¢æ‰€å¾—ã€‚\n\n### å€¾å‘äºç¼–å†™å¯æ§ç»„ä»¶\n\nå¤šç¼–å†™å¯æ§ç»„ä»¶ï¼Œè¿™æ ·ä¼šå¤§å¤§é™ä½ä½ çš„æµ‹è¯•å¤æ‚åº¦ï¼Œä¹Ÿè®©ä½ çš„ç»„ä»¶æ˜“äºç®¡ç†ã€‚\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"Reduxæ¶æ„å­¦ä¹ ","url":"/tech-notes/redux-study-1528023659.html","content":"\n## æ•´ç†è‡ªï¼š\n\nèµ„æ–™ï¼šhttps://segmentfault.com/a/1190000006742449\n\nhttps://www.zhihu.com/question/41312576/answer/90782136\n\n\n### ä¸€ã€å®šä¹‰\n\nRedux is a predictable state container for JavaScript apps.ï¼Œå…¶ä¸­predictableå’Œstate containerä½“ç°äº†å®ƒçš„ä½œç”¨ã€‚é‚£ä¹ˆå¦‚ä½•æ¥ç†è§£å¯é¢„æµ‹åŒ–çš„å‘¢ï¼Ÿè¿™é‡Œä¼šæœ‰ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹æ–¹é¢çš„æ€æƒ³ï¼Œåœ¨Reduxä¸­reducerå‡½æ•°æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œç›¸åŒè¾“å…¥ä¸€å®šä¼šæ˜¯ä¸€è‡´çš„è¾“å‡ºï¼Œæ‰€ä»¥ç¡®å®šè¾“å…¥çš„stateé‚£ä¹ˆreducerå‡½æ•°è¾“å‡ºçš„stateä¸€å®šæ˜¯å¯ä»¥è¢«é¢„æµ‹çš„ï¼Œå› ä¸ºå®ƒåªä¼šè¿›è¡Œå•çº¯çš„è®¡ç®—ï¼Œä¿è¯æ­£ç¡®çš„è¾“å‡ºã€‚çŠ¶æ€å®¹å™¨åˆæ˜¯ä»€ä¹ˆï¼Ÿè¯´æ˜Reduxæœ‰ä¸€ä¸ªä¸“é—¨ç®¡ç†stateçš„åœ°æ–¹ï¼Œå°±æ˜¯Storeï¼Œå¹¶ä¸”ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å”¯ä¸€çš„ï¼Œåº”ç”¨ä¸­æ‰€æœ‰stateå½¢æˆçš„ä¸€é¢—çŠ¶æ€æ ‘å°±æ˜¯Storeã€‚Reduxç”±Fluxæ¼”å˜è€Œæ¥ï¼Œä½†å— Elm çš„å¯å‘ï¼Œé¿å¼€äº† Flux çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬çœ‹çœ‹å…¶æ•°æ®æµå‘ï¼š\n\n![](/img/2018/15280237110062.jpg)\n\nä¸åŒäºFluxæ¶æ„ï¼ŒReduxä¸­æ²¡æœ‰dispatcherè¿™ä¸ªæ¦‚å¿µï¼Œå¹¶ä¸”Reduxè®¾æƒ³ä½ æ°¸è¿œä¸ä¼šå˜åŠ¨ä½ çš„æ•°æ®ï¼Œä½ åº”è¯¥åœ¨reducerä¸­è¿”å›æ–°çš„å¯¹è±¡æ¥ä½œä¸ºåº”ç”¨çš„æ–°çŠ¶æ€ã€‚ä½†æ˜¯å®ƒä»¬éƒ½å¯ä»¥ç”¨(state, action) => newStateæ¥è¡¨è¿°å…¶æ ¸å¿ƒæ€æƒ³ï¼Œæ‰€ä»¥Reduxå¯ä»¥è¢«çœ‹æˆæ˜¯Fluxæ€æƒ³çš„ä¸€ç§å®ç°ï¼Œä½†æ˜¯åœ¨ç»†èŠ‚ä¸Šä¼šæœ‰ä¸€äº›å·®å¼‚ã€‚\n\n### äºŒã€åŸåˆ™\n1. åº”ç”¨ä¸­æ‰€æœ‰çš„stateéƒ½ä»¥ä¸€ä¸ªobject treeçš„å½¢å¼å­˜å‚¨åœ¨ä¸€ä¸ªå•ä¸€çš„storeä¸­ï¼›\n2. å”¯ä¸€èƒ½æ”¹å˜storeçš„æ–¹æ³•æ˜¯è§¦å‘Actionï¼ŒActionæ˜¯åŠ¨ä½œè¡Œä¸ºçš„æŠ½è±¡ï¼›\n3. ä¸ºäº†æè¿°Actionå¦‚ä½•æ”¹å˜Stateæ ‘ï¼Œéœ€è¦ç¼–å†™reducerå‡½æ•°ï¼›\n\n```javascript\nfunction testReducer(state, action) {\n Â switch (action.type) {\n Â  Â case ACTION_TYPE:\n Â  Â  Â // calc...\n Â  Â  Â return newState;\n Â  Â default: return state;\n Â }\n Â return newState;\n}\n```\n\nstateæ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œæ‰€ä»¥è¿”å›çš„æ–°stateåº”è¯¥æ˜¯åŸºäºè¾“å…¥stateå‰¯æœ¬çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹stateåçš„è¿”å›ã€‚\nå¯è§\n1ã€å•ä¸€æ•°æ®æºï¼Œstore\næ•´ä¸ªåº”ç”¨çš„stateè¢«å­˜æ”¾åœ¨ä¸€æ£µObject treeæ ‘ï¼Œå¹¶ä¸”æ•´ä¸ªobject treeåªå­˜åœ¨å”¯ä¸€çš„ä¸€ä¸ªstoreä¸­ã€‚\n2ã€Stateæ˜¯åªè¯»çš„\nå”¯ä¸€èƒ½æ”¹å˜Stateçš„æ–¹æ³•æ˜¯è§¦å‘Action\n3ã€ä½¿ç”¨çº¯å‡½æ•°æ¥å®ç°Stateå½’å¹¶æ“ä½œï¼Œreducer\nä¼ å…¥å¾…ä¿®æ”¹çš„stateå’Œä¸€ä¸ªå‘ŠçŸ¥reducerå¦‚ä½•ä¿®æ”¹stateçš„actionï¼Œreducerå°†è¿”å›actionè§„åˆ™å¯¹åº”ä¸‹æ“ä½œåçš„æ–°çš„stateã€‚\n\n> reducer(state, action) => new state\n\n\n### ä¸‰ã€æ•°æ®æµ\n\nä¸¥æ ¼çš„å•å‘æ•°æ®æµæ˜¯Reduxè®¾è®¡çš„æ ¸å¿ƒ\nReduxåº”ç”¨æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸéµå¾ªä¸‹é¢4ä¸ªæ­¥éª¤ï¼š\n\nè°ƒç”¨store.dispatch(action), å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œ;\nRedux storeè°ƒç”¨ä¼ å…¥çš„reducerå‡½æ•°ï¼Œå¹¶ä¸”å°†å½“å‰çš„stateæ ‘ä¸actionä¼ å…¥ã€‚reduceræ˜¯çº¯å‡½æ•°ï¼Œåªç”¨äºè®¡ç®—ä¸‹ä¸€ä¸ªstateï¼Œå®ƒåº”è¯¥æ˜¯å®Œå…¨å¯è¢«é¢„æµ‹çš„ï¼Œç›¸åŒçš„è¾“å…¥å¿…å®šä¼šæœ‰ç›¸åŒçš„è¾“å‡ºï¼Œä¸èƒ½æœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œå¦‚APIçš„è°ƒç”¨æˆ–è€…è·¯ç”±è·³è½¬ï¼Œè¿™äº›åº”è¯¥éƒ½æ˜¯åœ¨dispatchå‰äº§ç”Ÿï¼›\næ ¹reducerå°†å¤šä¸ªå­reducerè¾“å‡ºåˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„stateæ ‘ï¼›\nRedux storeä¿å­˜äº†æ ¹reducerè¿”å›çš„å®Œæ•´çš„stateæ ‘ã€‚\næ–°çš„stateæ ‘å°±æ˜¯åº”ç”¨çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œç°åœ¨å°±å¯ä»¥æ ¹æ®æ–°çš„state treeæ¥æ¸²æŸ“UI\n\n1. Reactæœ‰propså’Œstate: propsæ„å‘³ç€çˆ¶çº§åˆ†å‘ä¸‹æ¥çš„å±æ€§ï¼Œstateæ„å‘³ç€ç»„ä»¶å†…éƒ¨å¯ä»¥è‡ªè¡Œç®¡ç†çš„çŠ¶æ€ï¼Œå¹¶ä¸”æ•´ä¸ªReactæ²¡æœ‰æ•°æ®å‘ä¸Šå›æº¯çš„èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åªèƒ½å•å‘å‘ä¸‹åˆ†å‘ï¼Œæˆ–è€…è‡ªè¡Œå†…éƒ¨æ¶ˆåŒ–ã€‚\nç†è§£è¿™ä¸ªæ˜¯ç†è§£Reactå’ŒReduxçš„å‰æã€‚\n2. ä¸€èˆ¬æ„å»ºçš„Reactç»„ä»¶å†…éƒ¨å¯èƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ï¼Œå®ƒè‡ªå·±å·¥ä½œè‰¯å¥½ï¼Œä½ å¯ä»¥é€šè¿‡å±æ€§ä½œä¸ºAPIæ§åˆ¶å®ƒã€‚ä½†æ˜¯æ›´å¤šçš„æ—¶å€™å‘ç°Reactæ ¹æœ¬æ— æ³•è®©ä¸¤ä¸ªç»„ä»¶äº’ç›¸äº¤æµï¼Œä½¿ç”¨å¯¹æ–¹çš„æ•°æ®ã€‚\nç„¶åè¿™æ—¶å€™ä¸é€šè¿‡DOMæ²Ÿé€šï¼ˆä¹Ÿå°±æ˜¯Reactä½“åˆ¶å†…ï¼‰è§£å†³çš„å”¯ä¸€åŠæ³•å°±æ˜¯æå‡stateï¼Œå°†stateæ”¾åˆ°å…±æœ‰çš„çˆ¶ç»„ä»¶ä¸­æ¥ç®¡ç†ï¼Œå†ä½œä¸ºpropsåˆ†å‘å›å­ç»„ä»¶ã€‚\n3. å­ç»„ä»¶æ”¹å˜çˆ¶ç»„ä»¶stateçš„åŠæ³•åªèƒ½æ˜¯é€šè¿‡onClickè§¦å‘çˆ¶ç»„ä»¶å£°æ˜å¥½çš„å›è°ƒï¼Œä¹Ÿå°±æ˜¯çˆ¶ç»„ä»¶æå‰å£°æ˜å¥½å‡½æ•°æˆ–æ–¹æ³•ä½œä¸ºå¥‘çº¦æè¿°è‡ªå·±çš„stateå°†å¦‚ä½•å˜åŒ–ï¼Œå†å°†å®ƒåŒæ ·ä½œä¸ºå±æ€§äº¤ç»™å­ç»„ä»¶ä½¿ç”¨ã€‚\nè¿™æ ·å°±å‡ºç°äº†ä¸€ä¸ªæ¨¡å¼ï¼šæ•°æ®æ€»æ˜¯å•å‘ä»é¡¶å±‚å‘ä¸‹åˆ†å‘çš„ï¼Œä½†æ˜¯åªæœ‰å­ç»„ä»¶å›è°ƒåœ¨æ¦‚å¿µä¸Šå¯ä»¥å›åˆ°stateé¡¶å±‚å½±å“æ•°æ®ã€‚è¿™æ ·stateä¸€å®šç¨‹åº¦ä¸Šæ˜¯å“åº”å¼çš„ã€‚\n4. ä¸ºäº†é¢ä¸´æ‰€æœ‰å¯èƒ½çš„æ‰©å±•é—®é¢˜ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„åŠæ³•å°±æ˜¯æŠŠæ‰€æœ‰stateé›†ä¸­æ”¾åˆ°æ‰€æœ‰ç»„ä»¶é¡¶å±‚ï¼Œç„¶ååˆ†å‘ç»™æ‰€æœ‰ç»„ä»¶ã€‚\n5. ä¸ºäº†æœ‰æ›´å¥½çš„stateç®¡ç†ï¼Œå°±éœ€è¦ä¸€ä¸ªåº“æ¥ä½œä¸ºæ›´ä¸“ä¸šçš„é¡¶å±‚stateåˆ†å‘ç»™æ‰€æœ‰Reactåº”ç”¨ï¼Œè¿™å°±æ˜¯Reduxã€‚è®©æˆ‘ä»¬å›æ¥çœ‹çœ‹é‡ç°ä¸Šé¢ç»“æ„çš„éœ€æ±‚ï¼š\na. éœ€è¦å›è°ƒé€šçŸ¥state (ç­‰åŒäºå›è°ƒå‚æ•°) -> action\nb. éœ€è¦æ ¹æ®å›è°ƒå¤„ç† (ç­‰åŒäºçˆ¶çº§æ–¹æ³•) -> reducer\nc. éœ€è¦state (ç­‰åŒäºæ€»çŠ¶æ€) -> store\nå¯¹Reduxæ¥è¯´åªæœ‰è¿™ä¸‰ä¸ªè¦ç´ ï¼š\na. actionæ˜¯çº¯å£°æ˜å¼çš„æ•°æ®ç»“æ„ï¼Œåªæä¾›äº‹ä»¶çš„æ‰€æœ‰è¦ç´ ï¼Œä¸æä¾›é€»è¾‘ã€‚\nb. reduceræ˜¯ä¸€ä¸ªåŒ¹é…å‡½æ•°ï¼Œactionçš„å‘é€æ˜¯å…¨å±€çš„ï¼šæ‰€æœ‰çš„reduceréƒ½å¯ä»¥æ•æ‰åˆ°å¹¶åŒ¹é…ä¸è‡ªå·±ç›¸å…³ä¸å¦ï¼Œç›¸å…³å°±æ‹¿èµ°actionä¸­çš„è¦ç´ è¿›è¡Œé€»è¾‘å¤„ç†ï¼Œä¿®æ”¹storeä¸­çš„çŠ¶æ€ï¼Œä¸ç›¸å…³å°±ä¸å¯¹stateåšå¤„ç†åŸæ ·è¿”å›ã€‚\nc. storeè´Ÿè´£å­˜å‚¨çŠ¶æ€å¹¶å¯ä»¥è¢«react apiå›è°ƒï¼Œå‘å¸ƒaction.\nå½“ç„¶ä¸€èˆ¬ä¸ä¼šç›´æ¥æŠŠä¸¤ä¸ªåº“æ‹¿æ¥ç”¨ï¼Œè¿˜æœ‰ä¸€ä¸ªbindingå«react-redux, æä¾›ä¸€ä¸ªProviderå’Œconnectã€‚å¾ˆå¤šäººå…¶å®çœ‹æ‡‚äº†reduxå¡åœ¨è¿™é‡Œã€‚\na. Provideræ˜¯ä¸€ä¸ªæ™®é€šç»„ä»¶ï¼Œå¯ä»¥ä½œä¸ºé¡¶å±‚appçš„åˆ†å‘ç‚¹ï¼Œå®ƒåªéœ€è¦storeå±æ€§å°±å¯ä»¥äº†ã€‚å®ƒä¼šå°†stateåˆ†å‘ç»™æ‰€æœ‰è¢«connectçš„ç»„ä»¶ï¼Œä¸ç®¡å®ƒåœ¨å“ªé‡Œï¼Œè¢«åµŒå¥—å¤šå°‘å±‚ã€‚\nb. connectæ˜¯çœŸæ­£çš„é‡ç‚¹ï¼Œå®ƒæ˜¯ä¸€ä¸ªç§‘é‡ŒåŒ–å‡½æ•°ï¼Œæ„æ€æ˜¯å…ˆæ¥å—ä¸¤ä¸ªå‚æ•°ï¼ˆæ•°æ®ç»‘å®šmapStateToPropså’Œäº‹ä»¶ç»‘å®šmapDispatchToPropsï¼‰ï¼Œå†æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆå°†è¦ç»‘å®šçš„ç»„ä»¶æœ¬èº«ï¼‰ï¼š\nmapStateToPropsï¼šæ„å»ºå¥½Reduxç³»ç»Ÿçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ï¼Œä½†æ˜¯ä½ çš„Reactç»„ä»¶å¹¶ä¸çŸ¥é“å®ƒçš„å­˜åœ¨ï¼Œå› æ­¤ä½ éœ€è¦åˆ†æ‹£å‡ºä½ éœ€è¦çš„ReduxçŠ¶æ€ï¼Œæ‰€ä»¥ä½ éœ€è¦ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„å‚æ•°æ˜¯stateï¼Œç®€å•è¿”å›ä½ å…³å¿ƒçš„å‡ ä¸ªå€¼ã€‚\nmapDispatchToPropsï¼šå£°æ˜å¥½çš„actionä½œä¸ºå›è°ƒï¼Œä¹Ÿå¯ä»¥è¢«æ³¨å…¥åˆ°ç»„ä»¶é‡Œï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œå®ƒçš„å‚æ•°æ˜¯dispatchï¼Œé€šè¿‡reduxçš„è¾…åŠ©æ–¹æ³•bindActionCreatorç»‘å®šæ‰€æœ‰actionä»¥åŠå‚æ•°çš„dispatchï¼Œå°±å¯ä»¥ä½œä¸ºå±æ€§åœ¨ç»„ä»¶é‡Œé¢ä½œä¸ºå‡½æ•°ç®€å•ä½¿ç”¨äº†ï¼Œä¸éœ€è¦æ‰‹åŠ¨dispatchã€‚è¿™ä¸ªmapDispatchToPropsæ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸ä¼ è¿™ä¸ªå‚æ•°reduxä¼šç®€å•æŠŠdispatchä½œä¸ºå±æ€§æ³¨å…¥ç»™ç»„ä»¶ï¼Œå¯ä»¥æ‰‹åŠ¨å½“åšstore.dispatchä½¿ç”¨ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦ç§‘é‡ŒåŒ–çš„åŸå› ã€‚\nåšå¥½ä»¥ä¸Šæµç¨‹Reduxå’ŒReactå°±å¯ä»¥å·¥ä½œäº†ã€‚\n\nç®€å•åœ°è¯´å°±æ˜¯ï¼š\n1.é¡¶å±‚åˆ†å‘çŠ¶æ€ï¼Œè®©Reactç»„ä»¶è¢«åŠ¨åœ°æ¸²æŸ“ã€‚\n2.ç›‘å¬äº‹ä»¶ï¼Œäº‹ä»¶æœ‰æƒåˆ©å›åˆ°æ‰€æœ‰çŠ¶æ€é¡¶å±‚å½±å“çŠ¶æ€ã€‚\n\n\n","tags":["å‰ç«¯","javascript"],"categories":["æŠ€æœ¯"]},{"title":"Fluxæ¶æ„ç†è§£","url":"/tech-notes/flux-study-1528023412.html","content":"\n\n### 1ã€æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Ÿ\n\n> å¦‚ä½•ç†è§£ Facebook çš„ flux åº”ç”¨æ¶æ„ï¼Ÿ\n\nFlux çš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ªç®€å•çš„çº¦å®šï¼šè§†å›¾å±‚ç»„ä»¶ä¸å…è®¸ç›´æ¥ä¿®æ”¹åº”ç”¨çŠ¶æ€ï¼Œåªèƒ½è§¦å‘ actionã€‚åº”ç”¨çš„çŠ¶æ€å¿…é¡»ç‹¬ç«‹å‡ºæ¥æ”¾åˆ° store é‡Œé¢ç»Ÿä¸€ç®¡ç†ï¼Œé€šè¿‡ä¾¦å¬ action æ¥æ‰§è¡Œå…·ä½“çš„çŠ¶æ€æ“ä½œã€‚\næ‰€è°“çš„å•å‘æ•°æ®æµï¼Œå°±æ˜¯å½“ç”¨æˆ·è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œä¼šä»ç»„ä»¶å‘å‡ºä¸€ä¸ª actionï¼Œè¿™ä¸ª action æµåˆ° store é‡Œé¢ï¼Œè§¦å‘ store å¯¹çŠ¶æ€è¿›è¡Œæ”¹åŠ¨ï¼Œç„¶å store åˆè§¦å‘ç»„ä»¶åŸºäºæ–°çš„çŠ¶æ€é‡æ–°æ¸²æŸ“ã€‚\nå³å¯ä»¥çœ‹å‡ºï¼šè§†å›¾ç»„ä»¶å˜å¾—å¾ˆè–„ï¼ŒåªåŒ…å«äº†æ¸²æŸ“é€»è¾‘å’Œè§¦å‘ action è¿™ä¸¤ä¸ªèŒè´£ï¼Œå³æ‰€è°“ \"dumb components\"ï¼ˆæ„šè ¢ç»„ä»¶ï¼‰\n\n### 2ã€ç»“æ„å›¾\n\n![](/img/2018/15280235400292.jpg)\n\n\n\n","tags":["javascript"],"categories":["æŠ€æœ¯"]},{"title":"Gitå›æ»šä»£ç ç¬”è®°","url":"/tech-notes/git-revert-1528020667.html","content":"\næ€»æœ‰é‚£ä¹ˆä¸€æ¬¡æ“ä½œåï¼Œæƒ³åæ‚”ï¼Œé‚£ä¹ˆgit logå…ˆï¼š\n\n![](/img/2018/15280208525260.jpg)\n\n\n\næ­¤æ—¶æ¯”å¦‚æƒ³æ¢å¤çº¢æ¡†é‚£ä¸ªç‰ˆæœ¬ï¼Œæ‰§è¡Œï¼š\n\n> git checkout 19d46ca0715df5223d9e30ba9743fc9d95a3bf78\n\nå‘½ä»¤ç»“æŸåï¼Œä¼šè·³åˆ°HEADåˆ†æ”¯\n\nå¤åˆ¶æ”¹é¡¹ç›®åˆ°å¦ä¸€è¾¹ï¼Œåˆ‡å›ä¹‹å‰çš„åˆ†æ”¯ï¼ŒæŠŠå¤‡ä»½è¦†ç›–å›å»ã€‚åœ¨ git diff ã€‚å¯¹æ¯”ä¸€è‡´åï¼Œåœ¨æäº¤\n\n\n","tags":["ç å¸¸è§„"],"categories":["æŠ€æœ¯"]},{"title":"Macä¸èƒ½æ›´æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ç›®å› ä¸ºä»–ä»¬æ­£åœ¨ä½¿ç”¨çš„è§£å†³æ–¹æ³•","url":"/tech-notes/extended-attri-in-mac-1528020192.html","content":"\n#### OS X ç³»ç»Ÿæœ‰çš„æ–‡ä»¶ç§»åŠ¨æˆ–å¤åˆ¶æ—¶ï¼Œå‡ºç°â€œMac ä¸èƒ½æ›´æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ç›®,å› ä¸ºä»–ä»¬æ­£åœ¨ä½¿ç”¨â€ï¼Œè¿™æˆ–è®¸æ˜¯å¤šäº†ä¸ªå±æ€§å¯¼è‡´ï¼š\n\n![](/img/2018/15280203394758.jpg)\n\n\nè¿™å°±è§£å†³äº†ï¼Œè¿˜æœ‰ï¼Œå¦‚æœæ˜¯ç§»åŠ¨è®¾å¤‡çš„æ–‡ä»¶å¯¼è‡´çš„åŸå› ï¼Œè§£å†³æ—¶å¿…é¡»ä¿è¯ç§»åŠ¨è®¾å¤‡å¤„äºå¯è¯»å†™çŠ¶æ€ï¼Œå¯¹äºå¤§éƒ¨åˆ†ç§»åŠ¨ç¡¬ç›˜éƒ½æ˜¯NTFSçš„é—®é¢˜ï¼Œå¯å‚è€ƒå¦‚ä¸‹æ–¹æ³•è§£å†³ï¼š\n\n[https://coolestguidesontheplanet.com/how-to-write-to-ntfs-external-disk-drives-from-os-x-10-11-el-capitan/](https://coolestguidesontheplanet.com/how-to-write-to-ntfs-external-disk-drives-from-os-x-10-11-el-capitan/)\n\n\nå…³äº@çš„è§£é‡Šè¯·å‚è€ƒï¼š\n\n[http://mackuba.eu/2008/06/30/ls-on-mac-and-extended-file-attributes/](http://mackuba.eu/2008/06/30/ls-on-mac-and-extended-file-attributes/)\n\n\n","tags":["éº¦å…‹","é»‘ç§‘æŠ€"],"categories":["æŠ€æœ¯"]},{"title":"Deallocæ–¹æ³•ä¸ä¸ªæ‰§è¡Œçš„ä¸‰ç§æœ€å¤§å¯èƒ½","url":"/tech-notes/dealloc-not-work-1528019847.html","content":"\nä»Šå¤©å†™ä»£ç æ—¶éœ€è¦åœ¨deallocé‡Œç§»é™¤æ‰€æœ‰çš„é€šçŸ¥,ä½†æ˜¯å´å‘ç°æ§åˆ¶å™¨popåä¸æ‰§è¡Œdeallocæ–¹æ³•.\n\n> æŸ¥åˆ°è¿™å¥è¯:The dealloc method was not being called if any of the references held by a viewcontroller were still in memory.\n\ndeallocæ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨æ˜¯å› ä¸ºæ§åˆ¶å™¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªå¼ºå¼•ç”¨ä»ç„¶åœ¨å†…å­˜ä¸­,ä¹Ÿå°±æ˜¯è¯´å½“å‰æ§åˆ¶å™¨çš„è®¡æ•°å™¨ä¸ä¸º0.\nä¸€èˆ¬çš„åŸå› æœ‰ä»¥ä¸‹å‡ ç§:\n\n1. å®šåˆ¶å™¨æ²¡æœ‰è¢«é”€æ¯. \n    è§£å†³æ–¹æ³•:åœ¨viewWillDisappearä¹‹å‰éœ€è¦æŠŠæ§åˆ¶å™¨ç”¨åˆ°çš„NSTimeré”€æ¯.\n\n2. blockå—ä½¿ç”¨ä¸å½“, å› ä¸ºblockä¼šå¯¹æ–¹æ³•ä¸­çš„å˜é‡è‡ªåŠ¨retainä¸€æ¬¡, è¯·æ£€æŸ¥æ§åˆ¶å™¨ä¸­blockä»£ç .\n\n3. ä»£ç†å¿…é¡»å¾—ç”¨weakä¿®é¥°, ç”¨strongå¼ºå¼•ç”¨ä¼šå¯¼è‡´è®¡æ•°å™¨åŠ 1ï¼Œæ— æ³•é‡Šæ”¾å†…å­˜.\n\n4. åœ¨getteræ–¹æ³•é‡Œä½¿ç”¨self. å¯¼è‡´æ­»å¾ªç¯\n\n\n\n> Blockä½“å†…ä½¿ç”¨å®ä¾‹å˜é‡ä¹Ÿä¼šé€ æˆå¾ªç¯å¼•ç”¨ï¼Œä½¿å¾—æ‹¥æœ‰è¿™ä¸ªå®ä¾‹çš„å¯¹è±¡ä¸èƒ½é‡Šæ”¾ã€‚\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"Swiftä¸OCæ··ç¼–ä½ éœ€è¦çŸ¥é“çš„äº‹æƒ…2","url":"/tech-notes/swift-oc-coding-1528018780.html","content":"\n### OCä¸­çš„å®ä¾‹æ–¹æ³•ä¸ç±»æ–¹æ³•(+å’Œ-æ–¹æ³•)\n\n![](/img/2018/15280192041769.jpg)\n\n\n\n","tags":["objective-c","swift"],"categories":["æŠ€æœ¯"]},{"title":"Swiftä¸OCæ··ç¼–ä½ éœ€è¦çŸ¥é“çš„äº‹æƒ…1","url":"/tech-notes/swift-oc-coding-1528018777.html","content":"\n### åœ¨Swiftä¸­è°ƒç”¨OCä»£ç \n\nå¦‚æœæ˜¯çº¯OCé¡¹ç›®ï¼Œå½“ä½ åˆ›å»ºç¬¬ä¸€ä¸ªSwiftæ–‡ä»¶æ—¶ï¼ŒXcodeä¼šæç¤ºä½ å»ºç«‹ä¸€ä¸ª$(PROJECT_NAME)-Bridging-Header.hæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯OCä¸Swifté—´ç›¸äº’äº¤æµçš„æ¡¥æ¢æ–‡ä»¶ï¼Œå³ï¼šæ‰€æœ‰éœ€è¦åœ¨Swiftä¸­è°ƒç”¨çš„OCä»£ç ï¼ŒOCå¤´æ–‡ä»¶å¿…é¡»åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¼•å…¥ï¼Œç›¸åå¦‚æœæ˜¯çº¯Swifté¡¹ç›®ï¼Œå½“ä½ å»ºç«‹ç¬¬ä¸€ä¸ªOCè¯­æ³•çš„æ–‡ä»¶æ—¶ï¼Œä»–ä¹Ÿä¼šæç¤ºï¼Œç…§åšå°±å¯ä»¥äº†ï¼Œé…±ç´«å°±å®Œæˆäº†Swiftä¸­è°ƒç”¨OCã€‚\n\n![](/img/2018/15280190471314.jpg)\n\nå¦‚æœå‘ç°å»ºç«‹äº†æ¡¥æ¥æ–‡ä»¶è€Œé¡¹ç›®æ— æ³•æ­£å¸¸ç¼–è¯‘æ—¶ï¼Œè¯·æ£€æŸ¥å¦‚ä¸Šé…ç½®\n\n### åœ¨OCä¸­è°ƒç”¨Swiftä»£ç \n\nç”±äºSwiftä¸­æ²¡æœ‰å¤´æ–‡ä»¶çš„æ¦‚å¿µï¼Œæ‰€æœ‰åœ¨OCä¸­ï¼Œç›´æ¥å¼•å…¥Swiftæ–‡ä»¶ï¼Œç¼–è¯‘å™¨ä¼šä¸é«˜å…´çš„ï¼Œç»“æœå°±æ˜¯ç¼–è¯‘æ— æ³•é€šè¿‡ï¼ï¼ï¼æ‰€ä»¥ä½ éœ€è¦åœ¨è°ƒç”¨Swiftçš„OCä»£ç ä¸­ï¼Œå¼•å…¥ä¸€ä¸ªåå«ï¼š$(PROJECT_NAME)-Swift.hï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†è¯¥é¡¹ç›®ä¸­æ‰€æœ‰Swiftçš„ç±»åŠå…¶æ–¹æ³•ï¼Œä¸è¿‡ä»–æ˜¯ä¸å¯è§çš„\n\n![](/img/2018/15280190820933.jpg)\n\n","tags":["objective-c","è‹¹æœ","swift"],"categories":["æŠ€æœ¯"]},{"title":"Swiftå‘½ä»¤è¡Œå…¥å‘","url":"/tech-notes/swift-in-commandLine-1528016729.html","content":"\n![](/img/2018/15280168301144.jpg)\n\nå½“ç„¶ï¼ŒSwiftä¹Ÿå¯ä»¥ç¼–è¯‘åè¿è¡Œï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œï¼‰ï¼š\n\n![](/img/2018/15280168431585.jpg)\n\n\n\n","tags":["ç å¸¸è§„","è‹¹æœ","swift"],"categories":["æŠ€æœ¯"]},{"title":"AES/CBCæ¨¡å¼å…³äºåŠ å¯†è§£å¯†å¤´éƒ¨ç¼ºå¤±çš„å¯èƒ½æ€§é—®é¢˜","url":"/tech-notes/AES_CBC-iOS-1528016470.html","content":"\n![](/img/2018/15280165964723.jpg)\n\nå¦‚æœèƒ½è§£å¯†å‡ºæ¥ï¼Œä½†æ˜¯æœ‰ä¹±ç ï¼Œå¦‚ä¸‹ï¼š\n\n![](/img/2018/15280166141249.jpg)\n\nè¯·è€ƒè™‘IVï¼ˆåˆå§‹åŒ–å‘é‡ï¼‰æ˜¯ä¸æ˜¯æœ‰è¯¯æˆ–ä¸¤ä¸ªå¹³å°ä¸‹ä¸ä¸€æ ·\n====\nå†æœ‰ï¼ŒJavaç«¯MD5å¯èƒ½ç›´æ¥è¿”å›äº†bytesï¼Œå¹¶æ²¡æœ‰æœ€ç»ˆè½¬æˆStringï¼Œæ³¨æ„å¤šå¹³å°çš„åŒºåˆ«\n\n![](/img/2018/15280166311066.jpg)\n\n\n\n","tags":["objective-c","java"],"categories":["æŠ€æœ¯"]},{"title":"performSelector May Cause a Leak Because Its Selector Is Unknownè­¦å‘ŠåŸå› åŠå…¶è§£å†³åŠæ³•","url":"/tech-notes/performSelector-warning-fix-1528016144.html","content":"\n### é—®é¢˜æè¿°\n\né¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†ä»å­—ç¬¦ä¸²åˆ›å»ºé€‰æ‹©å™¨ï¼Œç¼–è¯‘æ—¶å‘ç°è­¦å‘Šï¼š\"performSelector may cause a leak because its selector is unknown\"ï¼ˆå› ä¸ºperformSelectorçš„é€‰æ‹©å™¨æœªçŸ¥å¯èƒ½ä¼šå¼•èµ·æ³„æ¼ï¼‰ï¼Œä¸ºä»€ä¹ˆåœ¨ARCæ¨¡å¼ä¸‹ä¼šå‡ºç°è¿™ä¸ªè­¦å‘Šï¼Ÿ\n\nç»è¿‡æœç´¢åï¼Œåœ¨Stackoverflowä¸Šå‘ç°äº†ä¸€ä¸ªä»¤äººæ»¡æ„çš„ç­”æ¡ˆã€‚è§http://stackoverflow.com/questions/7017281/performselector-may-cause-a-leak-because-its-selector-is-unknownã€‚\n\n### åŸå› \n\nåœ¨ARCæ¨¡å¼ä¸‹ï¼Œè¿è¡Œæ—¶éœ€è¦çŸ¥é“å¦‚ä½•å¤„ç†ä½ æ­£åœ¨è°ƒç”¨çš„æ–¹æ³•çš„è¿”å›å€¼ã€‚è¿™ä¸ªè¿”å›å€¼å¯ä»¥æ˜¯ä»»æ„å€¼ï¼Œå¦‚void,int,char,NSString,idç­‰ç­‰ã€‚ARCé€šè¿‡å¤´æ–‡ä»¶çš„å‡½æ•°å®šä¹‰æ¥å¾—åˆ°è¿™äº›ä¿¡æ¯ã€‚æ‰€ä»¥å¹³æ—¶æˆ‘ä»¬ç”¨åˆ°çš„é™æ€é€‰æ‹©å™¨å°±ä¸ä¼šå‡ºç°è¿™ä¸ªè­¦å‘Šã€‚å› ä¸ºåœ¨ç¼–è¯‘æœŸé—´ï¼Œè¿™äº›ä¿¡æ¯éƒ½å·²ç»ç¡®å®šã€‚\n\nå¦‚ï¼š\n\n```\n[someController performSelector:@selector(someMethod)];\n\n- (void)someMethod\n{\n  //bla bla...\n}\n```\nè€Œä½¿ç”¨[someController performSelector: NSSelectorFromString(@\"someMethod\")];æ—¶ARCå¹¶ä¸çŸ¥é“è¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œä»¥åŠè¯¥å¦‚ä½•å¤„ç†ï¼Ÿè¯¥å¿½ç•¥ï¼Ÿè¿˜æ˜¯æ ‡è®°ä¸ºns_returns_retainedè¿˜æ˜¯ns_returns_autoreleased?\n\nè§£å†³åŠæ³•\n\n1.ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæ–¹å¼\n\n```\nSEL selector = NSSelectorFromString(@\"someMethod\");\nIMP imp = [_controller methodForSelector:selector];\nvoid (*func)(id, SEL) = (void *)imp;\nfunc(_controller, selector);\n```\nå½“æœ‰é¢å¤–å‚æ•°æ—¶ï¼Œå¦‚\n\n```\nSEL selector = NSSelectorFromString(@\"processRegion:ofView:\");\nIMP imp = [_controller methodForSelector:selector];\nCGRect (*func)(id, SEL, CGRect, UIView *) = (void *)imp;\nCGRect result = func(_controller, selector, someRect, someView);\n```\n\n2.ä½¿ç”¨å®å¿½ç•¥è­¦å‘Š\n\n```\n#pragma clang diagnostic push \n#pragma clang diagnostic ignored \"-Warc-performSelector-leaks\" \n   [someController performSelector: NSSelectorFromString(@\"someMethod\")]\n#pragma clang diagnostic pop\n```\n\né€šè¿‡ä½¿ç”¨#pragma clang diagnostic push/popï¼Œä½ å¯ä»¥å‘Šè¯‰Clangç¼–è¯‘å™¨ä»…ä»…ä¸ºæŸä¸€ç‰¹å®šéƒ¨åˆ†çš„ä»£ç æ¥å¿½è§†ç‰¹å®šè­¦å‘Šã€‚\n\nå¦‚æœéœ€è¦å¿½è§†çš„è­¦å‘Šæœ‰å¤šå¤„ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå®\n\n```\n#define SuppressPerformSelectorLeakWarning(Stuff) \\\n    do { \\\n        _Pragma(\"clang diagnostic push\") \\\n        _Pragma(\"clang diagnostic ignored \\\"-Warc-performSelector-leaks\\\"\") \\\n        Stuff; \\\n        _Pragma(\"clang diagnostic pop\") \\\n    } while (0)\n    \n    ```\nåœ¨äº§ç”Ÿè­¦å‘Šä¹Ÿå°±æ˜¯performSelectorçš„åœ°æ–¹ç”¨ä½¿ç”¨è¯¥å®ï¼Œå¦‚\n\n```\nSuppressPerformSelectorLeakWarning(\n    [_target performSelector:_action withObject:self]\n);\n```\nå¦‚æœéœ€è¦performSelectorè¿”å›å€¼çš„è¯ï¼Œ\n\n```\nid result;\nSuppressPerformSelectorLeakWarning(\n    result = [_target performSelector:_action withObject:self]\n);\n```\n3.ä½¿ç”¨afterDelay\n\n```\n[self performSelector:aSelector withObject:nil afterDelay:0.0];\n```\nå¦‚æœåœ¨æ¥å—èŒƒå›´å†…ï¼Œå…è®¸åœ¨ä¸‹ä¸€ä¸ªrunloopæ‰§è¡Œï¼Œå¯ä»¥è¿™ä¹ˆåšã€‚xCode5æ²¡é—®é¢˜ï¼Œä½†æ®åæ˜ ï¼ŒxCode6çš„è¯è¿™ä¸ªä¸èƒ½æ¶ˆé™¤è­¦å‘Šã€‚\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"æ—‹å±æ§åˆ¶åŠå®å®šä¹‰","url":"/tech-notes/interfaceOrientation-iOS-1528015689.html","content":"\n```\n// æ¨ªå±è®¾å®šçš„å®\n#define SetScreenOrientation \n- (BOOL)shouldAutorotate\n{\n Â  Â return YES;\n}\n\n- (NSUInteger)supportedInterfaceOrientations\n{\n Â  Â return UIInterfaceOrientationMaskLandscape;\n}\n//å•æ–œæ æ˜¯é™¤æ³•ï¼ŒåŒæ–œæ æ˜¯æ³¨é‡Šï¼Œåæ–œæ å¯ä»¥é“¾æ¥å®å®šä¹‰ï¼Œæˆ–è¿æ¥å­—ç¬¦ä¸²ã€‚\n```\n\næ—‹å±å¸¸ç”¨è§£é‡Š\n\n> UIInterfaceOrientationMaskLandscape  æ”¯æŒå·¦å³æ¨ªå±\n> UIInterfaceOrientationMaskAll  æ”¯æŒå››ä¸ªæ–¹å‘æ—‹è½¬\n> UIInterfaceOrientationMaskAllButUpsideDown æ”¯æŒé™¤äº†UpsideDownä»¥å¤–çš„æ—‹è½¬\n\nå½“å‰å±å¹•æ–¹å‘interfaceOrientationçš„è·å–\n\næœ‰3ç§æ–¹å¼å¯ä»¥è·å–åˆ°â€œå½“å‰interfaceOrientationâ€ï¼š\n\n```\ncontroller.interfaceOrientationï¼Œè·å–ç‰¹å®šcontrollerçš„æ–¹å‘\n[[UIApplication sharedApplication] statusBarOrientation] è·å–çŠ¶æ€æ¡ç›¸å…³çš„æ–¹å‘\n[[UIDevice currentDevice] orientation] è·å–å½“å‰è®¾å¤‡çš„æ–¹å‘\n```\n\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"ä¸‰ç›®è¿ç®—èµ‹å€¼ä¼˜è‰¯çš„å†™æ³•","url":"/tech-notes/three-unary-iOS-1528015549.html","content":"\n```\nä¸€èˆ¬å†™æ³•ï¼š\nfloat tempOffset = wordsDisplay == DisPlayBottom ? -80 : 80;\n\nä¼˜è´¨å†™æ³•ï¼š\n\nfloat offset = (DisPlayBottom == wordsDisplay) ? - 80 : 80;\n\néµå¾ªå¸¸é‡æ”¾å·¦è¾¹çš„åŸåˆ™\n\nä¸‰ç›®è¿ç®—ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š\nNSString *filetestpaht;\nfiletestpaht = filetestpaht ? : [NSString stringWithFormat:@\"abc\"];\n```\n\n","tags":["objective-c"],"categories":["æŠ€æœ¯"]},{"title":"iOSå¸ƒå±€å·¥å…·ç±»","url":"/tech-notes/pure-coding-layout-iOS-1528015316.html","content":"\n```\n#import <Foundation/Foundation.h>\n\ntypedef enum\n{\n Â  Â AlignmentCenter = 0,\n Â  Â AlignmentTop,\n Â  Â AlignmentBottom,\n Â  Â AlignmentLeft,\n Â  Â AlignmentRight\n} PlaceAlignmentType;\n\n@interface PositionTools : NSObject\n\n// é’ˆå¯¹é»˜è®¤ä¸ºç«–å±çš„æœ‰æ•ˆ\n+ (void)placeView:(UIView*)subview atTheCenterOfTheView:(UIView*)container;\n\n+ (void)placeView:(UIView*)subview atTheLeftMiddleOfTheView:(UIView*)container offset:(float)offset;\n+ (void)placeView:(UIView*)subview atTheRightMiddleOfTheView:(UIView*)container offset:(float)offset;\n+ (void)placeView:(UIView*)subview atTheTopMiddleOfTheView:(UIView*)container offset:(float)offset;\n+ (void)placeView:(UIView*)subview atTheBottomMiddleOfTheView:(UIView*)container offset:(float)offset;\n\n+ (void)placeView:(UIView*)subview atTheLeftTopOfTheView:(UIView*)container offset:(CGSize)offset;\n+ (void)placeView:(UIView*)subview atTheRightTopOfTheView:(UIView*)container offset:(CGSize)offset;\n+ (void)placeView:(UIView*)subview atTheLeftBottomOfTheView:(UIView*)container offset:(CGSize)offset;\n+ (void)placeView:(UIView*)subview atTheRightBottomOfTheView:(UIView*)container offset:(CGSize)offset;\n\n+ (void)placeView:(UIView *)sourceView toTheRightOfTheView:(UIView*)targetView span:(float)span;\n+ (void)placeView:(UIView *)sourceView toTheLeftOfTheView:(UIView*)targetView span:(float)span;\n+ (void)placeView:(UIView *)sourceView aboveTheView:(UIView*)targetView span:(float)span;\n+ (void)placeView:(UIView *)sourceView belowTheView:(UIView*)targetView span:(float)span;\n\n+ (void)placeView:(UIView *)sourceView toTheRightOfTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType;\n+ (void)placeView:(UIView *)sourceView toTheLeftOfTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType;\n+ (void)placeView:(UIView *)sourceView aboveTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType;\n+ (void)placeView:(UIView *)sourceView belowTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType;\n\n// ç”¨æ¥å¤„ç†æ¨ªå±çš„æƒ…å†µä¸‹ï¼Œåœ¨å±å¹•æ²¡æœ‰æ—‹è½¬åˆ°æ¨ªå±ä½ç½®ä¹‹å‰çš„æƒ…å†µ\n+ (void)placeView:(UIView*)subview atTheCenterOfTheView:(UIView*)container needAlter:(BOOL)needAlter;\n\n+ (void)placeView:(UIView*)subview atTheLeftMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter;\n+ (void)placeView:(UIView*)subview atTheRightMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter;\n+ (void)placeView:(UIView*)subview atTheTopMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter;\n+ (void)placeView:(UIView*)subview atTheBottomMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter;\n\n+ (void)placeView:(UIView*)subview atTheRightTopOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter;\n+ (void)placeView:(UIView*)subview atTheLeftBottomOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter;\n+ (void)placeView:(UIView*)subview atTheRightBottomOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter;\n\n@end\n```\n\nå®ç°\n\n```\n#import \"PositionTools.h\"\n\n@implementation PositionTools\n\n+ (void)placeView:(UIView*)subview atTheCenterOfTheView:(UIView*)container\n{\n Â  Â return [self placeView:subview atTheCenterOfTheView:container needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheLeftMiddleOfTheView:(UIView*)container offset:(float)offset\n{\n Â  Â return [self placeView:subview atTheLeftMiddleOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheRightMiddleOfTheView:(UIView*)container offset:(float)offset\n{\n Â  Â return [self placeView:subview atTheRightMiddleOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheTopMiddleOfTheView:(UIView*)container offset:(float)offset\n{\n Â  Â return [self placeView:subview atTheTopMiddleOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheBottomMiddleOfTheView:(UIView*)container offset:(float)offset\n{\n Â  Â return [self placeView:subview atTheBottomMiddleOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheRightTopOfTheView:(UIView*)container offset:(CGSize)offset\n{\n Â  Â return [self placeView:subview atTheRightTopOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheLeftBottomOfTheView:(UIView*)container offset:(CGSize)offset\n{\n Â  Â return [self placeView:subview atTheLeftBottomOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheRightBottomOfTheView:(UIView*)container offset:(CGSize)offset\n{\n Â  Â return [self placeView:subview atTheRightBottomOfTheView:container offset:offset needAlter:NO];\n}\n\n+ (void)placeView:(UIView*)subview atTheCenterOfTheView:(UIView*)container needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height/2, container.bounds.size.width/2);\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width/2, container.bounds.size.height/2);\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheLeftMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(offset + subview.frame.size.width/2, container.bounds.size.width/2);\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(offset + subview.frame.size.width/2, container.bounds.size.height/2);\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheRightMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height - (offset + subview.frame.size.width/2), container.bounds.size.width/2);\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width - (offset + subview.frame.size.width/2), container.bounds.size.height/2);\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheTopMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height/2, offset + subview.frame.size.height/2);\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width/2, offset + subview.frame.size.height/2);\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheBottomMiddleOfTheView:(UIView*)container offset:(float)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height/2, Â container.bounds.size.width - (offset + subview.frame.size.height/2));\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width/2, Â container.bounds.size.height - (offset + subview.frame.size.height/2));\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheLeftTopOfTheView:(UIView*)container offset:(CGSize)offset\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â subview.center = CGPointMake(offset.width + subview.frame.size.width/2,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  offset.height + subview.frame.size.height/2);\n}\n\n+ (void)placeView:(UIView*)subview atTheRightTopOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height - (offset.width + subview.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  offset.height + subview.frame.size.height/2);\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width - (offset.width + subview.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  offset.height + subview.frame.size.height/2);\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheLeftBottomOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(offset.width + subview.frame.size.width/2,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  container.bounds.size.width - (offset.height + subview.frame.size.height/2));\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(offset.width + subview.frame.size.width/2,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  container.bounds.size.height - (offset.height + subview.frame.size.height/2));\n Â  Â }\n}\n\n+ (void)placeView:(UIView*)subview atTheRightBottomOfTheView:(UIView*)container offset:(CGSize)offset needAlter:(BOOL)needAlter\n{\n Â  Â [container addSubview:subview];\n Â  Â \n Â  Â if (needAlter) {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.height - (offset.width + subview.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  container.bounds.size.width - (offset.height + subview.frame.size.height/2));\n Â  Â } else {\n Â  Â  Â  Â subview.center = CGPointMake(container.bounds.size.width - (offset.width + subview.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  container.bounds.size.height - (offset.height + subview.frame.size.height/2));\n Â  Â }\n}\n\n+ (void)placeView:(UIView *)sourceView toTheRightOfTheView:(UIView*)targetView span:(float)span\n{\n Â  Â [self placeView:sourceView toTheRightOfTheView:targetView span:span alignmentType:AlignmentCenter];\n}\n\n+ (void)placeView:(UIView *)sourceView toTheLeftOfTheView:(UIView*)targetView span:(float)span\n{\n Â  Â [self placeView:sourceView toTheLeftOfTheView:targetView span:span alignmentType:AlignmentCenter];\n}\n\n+ (void)placeView:(UIView *)sourceView aboveTheView:(UIView*)targetView span:(float)span\n{\n Â  Â [self placeView:sourceView aboveTheView:targetView span:span alignmentType:AlignmentCenter];\n}\n\n+ (void)placeView:(UIView *)sourceView belowTheView:(UIView*)targetView span:(float)span\n{\n Â  Â [self placeView:sourceView belowTheView:targetView span:span alignmentType:AlignmentCenter];\n}\n\n+ (void)placeView:(UIView*)sourceView toTheRightOfTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType\n{\n Â  Â [[targetView superview] addSubview:sourceView];\n Â  Â sourceView.center = CGPointMake(targetView.frame.origin.x + targetView.frame.size.width + (span + sourceView.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.center.y);\n Â  Â [self alignView:sourceView targetView:targetView alignmentType:alignmentType];\n}\n\n+ (void)placeView:(UIView*)sourceView toTheLeftOfTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType\n{\n Â  Â [[targetView superview] addSubview:sourceView];\n Â  Â sourceView.center = CGPointMake(targetView.frame.origin.x - (span + sourceView.frame.size.width/2),\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.center.y);\n Â  Â [self alignView:sourceView targetView:targetView alignmentType:alignmentType];\n}\n\n+ (void)placeView:(UIView*)sourceView aboveTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType\n{\n Â  Â [[targetView superview] addSubview:sourceView];\n Â  Â sourceView.center = CGPointMake(targetView.center.x,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.frame.origin.y - (span + sourceView.frame.size.height/2));\n Â  Â [self alignView:sourceView targetView:targetView alignmentType:alignmentType];\n}\n\n+ (void)placeView:(UIView*)sourceView belowTheView:(UIView*)targetView span:(float)span alignmentType:(PlaceAlignmentType)alignmentType\n{\n Â  Â [[targetView superview] addSubview:sourceView];\n Â  Â sourceView.center = CGPointMake(targetView.center.x,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.frame.origin.y + targetView.frame.size.height + (span + sourceView.frame.size.height/2));\n Â  Â [self alignView:sourceView targetView:targetView alignmentType:alignmentType];\n}\n\n+ (void)alignView:(UIView*)sourceView targetView:(UIView*)targetView alignmentType:(PlaceAlignmentType)alignmentType\n{\n Â  Â if (AlignmentTop == alignmentType) {\n Â  Â  Â  Â sourceView.center = CGPointMake(sourceView.center.x,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.frame.origin.y + sourceView.frame.size.height/2);\n Â  Â } else if (AlignmentBottom == alignmentType) {\n Â  Â  Â  Â sourceView.center = CGPointMake(sourceView.center.x,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â targetView.frame.origin.y + targetView.frame.size.height - sourceView.frame.size.height/2);\n Â  Â } else if (AlignmentLeft == alignmentType) {\n Â  Â  Â  Â sourceView.center = CGPointMake(targetView.frame.origin.x + sourceView.frame.size.width/2,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â sourceView.center.y);\n Â  Â } else if (AlignmentRight == alignmentType) {\n Â  Â  Â  Â sourceView.center = CGPointMake(targetView.frame.origin.x + targetView.frame.size.width - sourceView.frame.size.width/2,\n Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â sourceView.center.y);\n Â  Â }\n}\n@end\n```\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"iOSå‘½ä»¤è¡Œæ‰“åŒ…","url":"/tech-notes/ipa-command-packaging-1528014752.html","content":"\n### 1ã€æ¦‚è¿°ï¼š\n\næ‰“åŒ…è¿™äº‹å„¿å…¶å®å°±æ˜¯è®©`xcrun`æ¥å¹²ï¼Œè€Œ`xcodebuild`åªæ˜¯`xcrun`çš„ä¸€ä¸ªè½¯é“¾æ¥ã€‚åˆ†å·¥å¦‚ä¸‹ï¼š\n> 1ã€`xcodebuild`è´Ÿè´£è®²å·¥ç¨‹æºæ–‡ä»¶ç¼–è¯‘æˆxxx.appï¼›\n> 2ã€`xcrun`è´Ÿè´£ç»™xxx.appç­¾åå¹¶æ‰“åŒ…æˆxxx.ipa\n\n### 2ã€å·¥ä½œæ­¥éª¤ï¼š\n\n1ã€å…ˆæŸ¥çœ‹æœ¬æœºå‘½ä»¤ç¼–è¯‘ç¯å¢ƒåŠéœ€è¦ç¼–è¯‘é¡¹ç›®çš„ä¿¡æ¯ï¼š\n\n![](/img/2018/15280148179275.jpg)\n\n2ã€å¼€å§‹ç¼–è¯‘ï¼š\n\n> 1ã€æ¸…ç†ï¼šxcodebuild -target Test clean  \n> 2ã€ç¼–è¯‘ï¼šxcodebuild -target Test\n> 3ã€æ‰“åŒ…ï¼šxcrun -sdk iphoneos PackageApplication -v ./build/Release-iphoneos/Test.app -o ~/ipas/test.ipa\n\n\n### 3ã€æŸ¥çœ‹ç»“æœï¼š\n\n![](/img/2018/15280149958188.jpg)\n\n### 4ã€ç‰¹åˆ«æç¤ºï¼š\n> ä»¥ä¸Šæ‰“åŒ…æ–¹å¼ä»…å¯¹`*.xcodeproj`é¡¹ç›®æœ‰æ•ˆï¼Œå¦‚æœæ˜¯cocoapodé¡¹ç›®ï¼Œåˆ™éœ€è¦æ”¹ä¸€éç¼–è¯‘å‘½ä»¤ï¼š\n\n\n```\n\nxcodebuild -workspace Test.xcworkspace -scheme Test -configuration Release -derivedDataPath build\n\n```\n\n\n","tags":["ç å¸¸è§„","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"iOSå±æ€§æœ€ä½³å®è·µ","url":"/tech-notes/property-in-action-iOS-1528014051.html","content":"\n### ä¸€ã€å…³äºobjective-Cçš„å±æ€§ï¼Œå¸¸è§çš„æœ‰ï¼šstrongã€weakã€copyã€assign\n\n1. å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå½“ç„¶ä½¿ç”¨assiginï¼›\n2. å¯¹äºmutableçš„ï¼Œä¸€å®šè¦ä½¿ç”¨strongã€‚çˆ¶æ§ä»¶UIå…ƒç´ ä¹Ÿä½¿ç”¨strongï¼›\n3. å­æ§ä»¶å…ƒç´ ä½¿ç”¨weakï¼›\n4. ä¸å¯å˜çš„ç±»å‹ï¼Œä½¿ç”¨copyã€‚ï¼ˆNSString,NSArray,NSDictonaryè¿™äº›ä¸€å®šè¦ç”¨copyï¼‰å¯¹äºmutableçš„å¯¹è±¡ï¼Œå¦‚æœæ˜¯mutableçš„å´å®šä¹‰å±æ€§ä¸ºcopyï¼Œåˆ™å¾€é‡Œé¢åŠ å€¼æ—¶å¯èƒ½å¼•èµ·ç¨‹åºå´©æºƒã€‚è€Œå¯¹äºä¸å¯å˜çš„ä½¿ç”¨äº†strongï¼Œåˆ™å¯èƒ½å¼•èµ·å€¼æ”¹å˜ï¼Œè¿™å°±è¿èƒŒäº†å†…å­˜ç®¡ç†è¯­ä¹‰\n\n### äºŒã€å…³äºgetter\n\n![](/img/2018/15280142068491.jpg)\n\n![](/img/2018/15280142123608.jpg)\n\n```\nif (_messageTipNumber > 0) {\n Â  Â  Â  Â self.tipCountLable.frame = CGRectMake(150, (self.frame.size.height - 14)/2, 14, 14);\n Â  Â  Â  Â self.tipCountLable.layer.cornerRadius = _tipCountLable.frame.size.width/2;\n Â  Â  Â  Â self.tipCountLable.text = [NSString stringWithFormat:@\"%d\",_messageTipNumber];\n Â  Â  Â  Â [self.contentView addSubview:_tipCountLable];\n}\n```\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"æ”¹å˜pushViewControllerçš„pushæ–¹å‘","url":"/tech-notes/pushViewController-change-1528013902.html","content":"\n```\nCATransition* transition = [CATransition animation];\n\ntransition.type = kCATransitionPush;//å¯æ›´æ”¹ä¸ºå…¶ä»–æ–¹å¼\n\ntransition.subtype = kCATransitionFromTop;//å¯æ›´æ”¹ä¸ºå…¶ä»–æ–¹å¼   \n\n[self.navigationController.view.layera ddAnimation:transition forKey:kCATransition];\n\n[self.navigationController pushViewController:userLogin animated:NO];\n\n```\n\nå†æ¥\n\n```\n//å¯æ ¹æ®ä¸Šä¸€ä¸ªé¡µé¢ï¼Œæ¥ç¡®å®šå½“å‰é¡µä»¥ä½•ç§æ–¹å¼æ¶ˆå¤±\n- (void)viewWillDisappear:(BOOL)animated\n{\n Â  Â [super viewWillDisappear:animated];\n Â  Â [self clear];\n Â  Â BOOL fromRight = YES;\n Â  Â NSArray *viewControllers = self.navigationController.viewControllers;\n Â  Â if ([[viewControllers lastObject] isKindOfClass:[BFEAddContactViewController class]]) {\n Â  Â  Â  Â fromRight = NO;\n Â  Â }\n Â  Â CATransition *transition = [CATransition animation];\n Â  Â transition.type = kCATransitionPush;\n Â  Â //é¡µé¢å¸è½½æ—¶ï¼Œæ”¹å˜PUSHæ–¹å‘\n Â  Â transition.subtype = fromRight ? Â kCATransitionFromRight : kCATransitionFromLeft;\n Â  Â transition.duration = 0.3;\n Â  Â transition.delegate = self;\n Â  Â [self.navigationController.view.layer addAnimation:transition forKey:kCATransition];\n}\n```\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"iOSéšæœºæ•°è·å–","url":"/tech-notes/random-objectiveC-1528013719.html","content":"\nios æœ‰å¦‚ä¸‹ä¸‰ç§éšæœºæ•°æ–¹æ³•ï¼š\n\n```\n1.    srand((unsigned)time(0));  //ä¸åŠ è¿™å¥æ¯æ¬¡äº§ç”Ÿçš„éšæœºæ•°ä¸å˜\n        int i = rand() % 5;      \n\n2.    srandom(time(0));\n        int i = random() % 5;\n\n3.    int i = arc4random() % 5 ;\n```\n \n\næ³¨ï¼šrand()å’Œrandom()å®é™…å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ä¼ªéšæœºæ•°å‘ç”Ÿå™¨ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆåˆå§‹åŒ–éšæœºç§å­ï¼Œå¦åˆ™æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°ä¸€æ ·ã€‚\n\narc4random() æ˜¯ä¸€ä¸ªçœŸæ­£çš„ä¼ªéšæœºç®—æ³•ï¼Œä¸éœ€è¦ç”Ÿæˆéšæœºç§å­ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚è€Œä¸”èŒƒå›´æ˜¯rand()çš„ä¸¤å€ã€‚åœ¨iPhoneä¸­ï¼ŒRAND_MAXæ˜¯0x7fffffff (2147483647)ï¼Œè€Œarc4random()è¿”å›çš„æœ€å¤§å€¼åˆ™æ˜¯ 0x100000000 (4294967296)ã€‚\n\nç²¾ç¡®åº¦æ¯”è¾ƒï¼šarc4random()  >  random()  >  rand()ã€‚\n\n \n\nå¸¸ç”¨æ–¹æ³•ï¼šarc4random\n\n \n\n1ã€è·å–ä¸€ä¸ªéšæœºæ•´æ•°èŒƒå›´åœ¨ï¼š[0,100)åŒ…æ‹¬0ï¼Œä¸åŒ…æ‹¬100\n\nint x = arc4random() % 100;\n\n2ã€  è·å–ä¸€ä¸ªéšæœºæ•°èŒƒå›´åœ¨ï¼š[500,1000ï¼‰ï¼ŒåŒ…æ‹¬500ï¼Œä¸åŒ…æ‹¬1000\n\nint y = (arc4random() % 501) + 500;\n\n3ã€è·å–ä¸€ä¸ªéšæœºæ•´æ•°ï¼ŒèŒƒå›´åœ¨[from,toï¼‰ï¼ŒåŒ…æ‹¬fromï¼Œä¸åŒ…æ‹¬to\n\n```\n-(int)getRandomNumber:(int)from to:(int)to\n{\n    return (int)(from + (arc4random() % (to â€“ from + 1))); //+1,result is [from to]; else is [from, to)!!!!!!!\n\n}\n\n```\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"iOSé¡µé¢é—´å‡ ç§ä¼ å€¼æ–¹å¼","url":"/tech-notes/data-pass-in-iOS-1528013544.html","content":"\n### å±æ€§ï¼š\n\nåœ¨ç»§æ‰¿å…³ç³»ä¸‹ï¼Œå­ç±»ä½¿ç”¨çˆ¶ç±»çš„æ•°æ®é€šè¿‡å±æ€§æœ€ä¸ºåˆé€‚ï¼Œä¹Ÿæœ€ç›´æ¥æ˜äº†ã€‚\n\n### Blockï¼š\n\nå¦‚æœæœ‰æŸç§ç»§æ‰¿æˆ–æ‰€å±å…³ç³»æ—¶ï¼Œçˆ¶å…ƒç´ è¦ä½¿ç”¨å­å…ƒç´ çš„æ•°æ®ï¼Œé‚£ä¹ˆæ­¤æ—¶åº”è¯¥ä½¿ç”¨blockå›è°ƒã€‚å› ä¸ºæ­¤æ—¶å­å…ƒç´ å±æ€§å°±ä¸ä¸€å®šèƒ½å–åˆ°å€¼ï¼ˆåˆå§‹åŒ–æœªæˆ–åŠ¨ä½œæœªå¿…å®Œæˆï¼‰ã€‚\n\n### æ¶ˆæ¯ï¼š\n\nä¸¤ä¸ªç±»æ ¹æœ¬æ²¡æœ‰å…³è”ï¼Œåˆ™å¯ä»¥é‡‡å–å‘æ¶ˆæ¯çš„æ–¹å¼ã€‚å¦‚æœä¸¤ä¸ªç±»å¯ä»¥å¼•å…¥æŸä¸€æ–¹ï¼Œåˆ™è¿˜æ˜¯é‡‡å–å±æ€§æˆ–è€…blockæ–¹æ³•ï¼Œå› ä¸ºå‘æ¶ˆæ¯å®é™…ä¸Šé€šè¿‡KVOæ¯”è¾ƒæ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚èƒ½ä¸å‘æ¶ˆæ¯ï¼Œå°½é‡ä¸è¦å‘æ¶ˆæ¯ã€‚\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"UIViewäº‹ä»¶ç‹¬å ","url":"/tech-notes/exclusiveTouch-iOS-1528013386.html","content":"\n### UIView çš„exclusiveTouchå±æ€§\n\nexclusiveTouchçš„æ„æ€æ˜¯UIViewä¼šç‹¬å æ•´ä¸ªTouchäº‹ä»¶ï¼Œå…·ä½“çš„æ¥è¯´ï¼Œå°±æ˜¯å½“è®¾ç½®äº†exclusiveTouchçš„ UIViewæ˜¯äº‹ä»¶çš„ç¬¬ä¸€å“åº”è€…ï¼Œé‚£ä¹ˆåˆ°ä½ çš„æ‰€æœ‰æ‰‹æŒ‡ç¦»å¼€å‰ï¼Œå…¶ä»–çš„è§†å›¾UIviewæ˜¯ä¸ä¼šå“åº”ä»»ä½•è§¦æ‘¸äº‹ä»¶çš„ï¼Œå¯¹äºå¤šç‚¹è§¦æ‘¸äº‹ä»¶ï¼Œè¿™ä¸ªå±æ€§å°±éå¸¸é‡è¦ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼šæ‰‹åŠ¿è¯†åˆ«ï¼ˆGestureRecognizersï¼‰ä¼šå¿½ç•¥æ­¤å±æ€§ã€‚\n\nåˆ—ä¸¾ç”¨é€”ï¼šæˆ‘ä»¬çŸ¥é“iosæ˜¯æ²¡æœ‰GridViewè§†å›¾çš„ï¼Œé€šå¸¸åšæ³•æ˜¯åœ¨UITableViewçš„cellä¸ŠåŠ è½½å‡ ä¸ªå­è§†å›¾ï¼Œæ¥æ¨¡æ‹Ÿå®ç° GridViewè§†å›¾ï¼Œä½†å¯¹äºæ¯ä¸€ä¸ªå­è§†å›¾æ¥è¯´ï¼Œå°±éœ€è¦ä½¿ç”¨exclusiveTouchï¼Œå¦åˆ™å½“åŒæ—¶ç‚¹å‡»å¤šä¸ªå­è§†å›¾ï¼Œé‚£ä¹ˆä¼šè§¦å‘æ¯ä¸ªå­è§†å›¾çš„äº‹ä»¶ã€‚å½“ç„¶ è¿˜æœ‰æˆ‘ä»¬å¸¸è¯´çš„æ¨¡æ€å¯¹è¯æ¡†ã€‚\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"iOSå…³äºæŒ‡é’ˆå®šä¹‰","url":"/tech-notes/iOS-Pointer-1528013230.html","content":"\n\n### å…³äºæŒ‡é’ˆå®šä¹‰ï¼ˆè§£å†³ sending 'const NSString *' to parameter of type 'NSString *' ï¼‰\n\n```\næ¯”å¦‚ï¼Œå†™äº† const NSString* firstString = @\"xxx\";\nNSString* secondString = @\"yyy\";\n[secondString isEqualToString:firstString];\n\nä¼šå‡ºç° sending 'const NSString *' to parameter of type 'NSString *' discards qualifiers è­¦å‘Šã€‚\nè§£å†³åŠæ³•ï¼š\næŠŠ const NSString* firstString = @\"xxx\";\næ”¹æˆ NSString* const firstString = @\"xxx\";\n```\n\nè§£é‡Šï¼šå‰è€…ç›¸å½“äºæŒ‡é’ˆæœ¬èº«ä¸å¯ä¿®æ”¹ï¼Œåè€…è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸å¯ä¿®æ”¹ï¼Œä¸¤è€…çš„ä½œç”¨éƒ½æ˜¯ä½¿firstStringåªå¯è¯»ä¸å¯å†™ã€‚\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"NSScannerï¼Œæ‰«æå™¨","url":"/tech-notes/NSScanner-1528013009.html","content":"\n```\n- (void)testScanNumberFromString\n{\n Â  Â NSString *str = @\"98234hk323hello234ä½ å¥½\";\n Â  Â NSMutableString *numberString = [[NSMutableString alloc] init];\n Â  Â \n Â  Â NSScanner *scanner = [NSScanner scannerWithString:str];\n Â  Â NSString *tempString;\n Â  Â \n Â  Â while (![scanner isAtEnd]) {\n Â  Â  Â  Â [scanner scanUpToCharactersFromSet:[NSCharacterSet decimalDigitCharacterSet] intoString:nil];\n Â  Â  Â  Â \n Â  Â  Â  Â //æ”¶é›†æ•°å­—\n Â  Â  Â  Â [scanner scanCharactersFromSet:[NSCharacterSet decimalDigitCharacterSet] intoString:&tempString];;\n Â  Â  Â  Â [numberString appendString:tempString];\n Â  Â  Â  Â tempString = @\"\";\n Â  Â }\n Â  Â NSLog(@\"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ number is: %@\",numberString);\n}\n```\n\nä½¿ç”¨\n\n```\n[scanner scanUpToCharactersFromSet:[NSCharacterSet newlineCharacterSet] intoString:&indexString]; //æ‰«æä¸€è¡Œ\n[scanner scanUpToString:@\" scanover \" intoString:&theString]; Â //ä»æ¸¸æ ‡å¼€å§‹æ‰«æï¼Œç›´åˆ°ç»™å®šå­—ç¬¦ä¸²ä¸ºæ­¢ã€‚æœŸé—´æ‰«æçš„å­—ç¬¦ä¸²å­˜åˆ°theString\n[scanner scanString:@\"sanMe\" intoString:NULL]; //ç›´æ¥æ‰«ææŒ‡å®šå­—ç¬¦ä¸²\n\n```\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"IOSä¸­URLç¼–ç å’Œè§£ç ","url":"/tech-notes/url-encoding-iOS-1528012896.html","content":"\n```\nint main(int argc, const char * argv[]) {\n Â  Â \n Â  Â NSString *str = @\"ç™½æ—¥ä¾å±±å°½\";\n Â  Â \n Â  Â //ç¼–ç \n Â  Â NSString *encoderStr = [str stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n Â  Â \n Â  Â //è§£ç \n Â  Â NSString *decoderStr = [encoderStr stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n Â  Â \n Â  Â //å­—ç¬¦ä¸²æ‰“æ•£\n Â  Â for (int i = 0; i < str.length; i++) {\n Â  Â  Â  Â NSString *word = [str substringWithRange:NSMakeRange(i, 1)];\n Â  Â  Â  Â NSLog(@\"%@\",word);\n Â  Â }\n Â  Â \n Â  Â \n Â  Â NSLog(@\"%@\",encoderStr);\n Â  Â \n Â  Â NSLog(@\"%@\",decoderStr);\n Â  Â \n Â  Â return 0;\n}\n```\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"Idå’Œinstancetypeçš„å¼‚åŒ","url":"/tech-notes/instancetype-iOS-1528012736.html","content":"\n1ã€ç›¸åŒç‚¹\n\néƒ½å¯ä»¥ä½œä¸ºæ–¹æ³•çš„è¿”å›ç±»å‹\n\n2ã€ä¸åŒç‚¹\n\nâ‘ instancetypeå¯ä»¥è¿”å›å’Œæ–¹æ³•æ‰€åœ¨ç±»ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œidåªèƒ½è¿”å›æœªçŸ¥ç±»å‹çš„å¯¹è±¡ï¼›\nâ‘¡instancetypeåªèƒ½ä½œä¸ºè¿”å›å€¼ï¼Œä¸èƒ½åƒidé‚£æ ·ä½œä¸ºå‚æ•°ï¼Œæ¯”å¦‚ä¸‹é¢çš„å†™æ³•ï¼š\n\n```\n//err,expected a type  \n- (void)setValue:(instancetype)value  \n{  \n    //do something  \n}  \n\n```\n\nå°±æ˜¯é”™çš„ï¼Œåº”è¯¥å†™æˆï¼š\n\n```\n- (void)setValue:(id)value  \n{  \n    //do something  \n}  \n```\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"MRCå’ŒARCæ··ç¼–","url":"/tech-notes/mrc-and-arc-1528012490.html","content":"\nä»XCode5ä»¥åï¼Œé»˜è®¤éƒ½é‡‡ç”¨äº†ARCï¼Œä½†æœ‰æ—¶å€™åˆæƒ³ä½¿ç”¨MRCï¼Œæ— å¥ˆå†™äº†MRCè¯­æ³•åï¼Œç¼–è¯‘å™¨ä¿æŒï¼š\n\n![](/img/2018/15280126158577.jpg)\n\nè§£å†³æ–¹å¼å¦‚ä¸‹ï¼š\n\n![](/img/2018/15280126834131.jpg)\n\n> æ³¨æ„ï¼š-fno-objc-arc è¿™å¥ä¸è¦æœ‰ç©ºæ ¼ã€‚\n\nMRCå·¥ç¨‹ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ARCçš„ç±»ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š\n\nåœ¨targetsçš„build phasesé€‰é¡¹ä¸‹Compile Sourcesä¸‹é€‰æ‹©è¦ä½¿ç”¨arcç¼–è¯‘çš„æ–‡ä»¶ï¼ŒåŒå‡»å®ƒï¼Œè¾“å…¥ -fobjc-arc å³å¯\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"å±æ€§å˜é‡ï¼ˆPropertyï¼‰ä¸æˆå‘˜å˜é‡çš„åŒºåˆ«","url":"/tech-notes/property-and-memberVar-in-iOS-1528011307.html","content":"\n```\n@interface MyViewController :UIViewControlle\n{\n Â  Â UIButton *myButton;\n}\n@property (nonatomic, retain) UIButton *myButton;\n@end\n\n```\n\nç±»ä¸ç±»åˆ«ä¸­æ·»åŠ çš„å±æ€§è¦åŒºåˆ†å¼€æ¥ï¼Œå› ä¸ºç±»åˆ«ä¸­åªèƒ½æ·»åŠ æ–¹æ³•ï¼Œä¸èƒ½æ·»åŠ å®ä¾‹å˜é‡ã€‚ç»å¸¸ä¼šåœ¨iosçš„ä»£ç ä¸­çœ‹åˆ°åœ¨ç±»åˆ«ä¸­æ·»åŠ å±æ€§ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆå®ä¾‹å˜é‡çš„ã€‚æ¯”å¦‚åœ¨ï¼šUINavigationController.hæ–‡ä»¶ä¸­ä¼šå¯¹UIViewControllerç±»è¿›è¡Œæ‰©å±•\n\n```\n@interface UIViewController (UINavigationControllerItem)\n@property(nonatomic,readonly,retain) UINavigationItem *navigationItem;\n@property(nonatomic) BOOL hidesBottomBarWhenPushed;\n@property(nonatomic,readonly,retain) UINavigationController *navigationController;\n@end\n\n```\n\nè¿™é‡Œæ·»åŠ çš„å±æ€§ï¼Œä¸ä¼šè‡ªåŠ¨ç”Ÿæˆå®ä¾‹å˜é‡ï¼Œè¿™é‡Œæ·»åŠ çš„å±æ€§å…¶å®æ˜¯æ·»åŠ çš„getterä¸setteræ–¹æ³•ã€‚\n\n> æ³¨æ„ä¸€ç‚¹ï¼ŒåŒ¿åç±»åˆ«(åŒ¿åæ‰©å±•)æ˜¯å¯ä»¥æ·»åŠ å®ä¾‹å˜é‡çš„ï¼ŒéåŒ¿åç±»åˆ«æ˜¯ä¸èƒ½æ·»åŠ å®ä¾‹å˜é‡çš„ï¼Œåªèƒ½æ·»åŠ æ–¹æ³•ï¼Œæˆ–è€…å±æ€§ï¼ˆå…¶å®ä¹Ÿæ˜¯æ–¹æ³•ï¼‰ã€‚\n\næˆå‘˜å˜é‡ç”¨äºç±»å†…éƒ¨ï¼Œæ— éœ€ä¸å¤–ç•Œæ¥è§¦çš„å˜é‡ã€‚\n\næ ¹æ®æˆå‘˜å˜é‡çš„ç§æœ‰æ€§ï¼Œä¸ºäº†æ–¹ä¾¿è®¿é—®ï¼Œæ‰€ä»¥å°±æœ‰äº†å±æ€§å˜é‡ã€‚å±æ€§å˜é‡çš„å¥½å¤„å°±æ˜¯å…è®¸è®©å…¶ä»–å¯¹è±¡è®¿é—®åˆ°è¯¥å˜é‡ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥è®¾ç½®åªè¯»æˆ–è€…å¯å†™ç­‰ï¼Œè®¾ç½®æ–¹æ³•ä¹Ÿå¯è‡ªå®šä¹‰ã€‚æ‰€ä»¥ï¼Œå±æ€§å˜é‡æ˜¯ç”¨äºä¸å…¶ä»–å¯¹è±¡äº¤äº’çš„å˜é‡ã€‚\nä¸€äº›å»ºè®®:\n\n1. å¦‚æœåªæ˜¯å•çº¯çš„privateå˜é‡ï¼Œæœ€å¥½å£°æ˜åœ¨implementationé‡Œ.\n2. å¦‚æœæ˜¯ç±»çš„publicå±æ€§ï¼Œå°±ç”¨propertyå†™åœ¨.hæ–‡ä»¶é‡Œ\n3. å¦‚æœè‡ªå·±å†…éƒ¨éœ€è¦setterå’Œgetteræ¥å®ç°ä¸€äº›ä¸œè¥¿ï¼Œå°±åœ¨.mæ–‡ä»¶çš„ç±»ç›®é‡Œç”¨propertyæ¥å£°æ˜\n\n\n","tags":["objective-c","è‹¹æœ"],"categories":["æŠ€æœ¯"]},{"title":"å°†Hexoåšå®¢urlä¼˜åŒ–è¿›è¡Œåˆ°åº•","url":"/tech-notes/permalink-optimize-hexo-1528003174.html","content":"\n## äº‹ä»¶æºè‡ª2017å¹´å…ƒæ—¦æ—¶çš„ä¸€ç¯‡åšæ–‡\n\n[åœ¨hexoåšå®¢ä¸­æ‰“é€ ç›¸å¯¹å®Œç¾çš„URL](https://shuoit.net/tech-notes/hexo-links-1483800845.html)\n\né‚£ç¯‡æ–‡ç« ï¼Œæˆ‘å‘å¤§å®¶ä»‹ç»äº†å¦‚ä½•åœ¨hexoåšå®¢ä¸­æ‰“é€ ä¸€ä¸ªç›¸å¯¹å¥½çœ‹ã€å¥½ç”¨çš„URLé“¾æ¥ã€‚ç„¶è€Œé—æ†¾çš„æ˜¯ï¼Œ**æ—¶é—´æˆ³**åœ¨permalinkä¸­æ²¡æ³•ç›´æ¥ä½¿ç”¨ã€‚å½“æ—¶è¯´äº†ä¸€ä¸ªç¬¨åŠæ³•ï¼Œå°±æ˜¯æ¨¡æ¿ä¸­æ‰‹åŠ¨å»åŠ æ—¶é—´æˆ³ï¼Œç„¶åæ–‡ç« ç”Ÿæˆæ˜¯å†å–å‡ºæ¥ã€‚ä¸çŸ¥é“ä½¿ç”¨è¿‡çš„æœ‹å‹æœ‰æ²¡æœ‰å–·æˆ‘...\n\næ—¶éš”ä¸€å¹´å¤šï¼Œæˆ‘åˆå‡†å¤‡ç©hexoäº†ï¼Œç†ç”±æ˜¯è¢«ç±»ä¼¼**ä¸ºçŸ¥ç¬”è®°**è¿™ç§ä¸œè¥¿ä¼¤é€äº†å¿ƒã€‚\n\nç„¶è€Œä¹Ÿæ˜¯ä¸€å¹´å¤šè¿‡å»äº†ï¼Œå®˜æ–¹å¹¶æ²¡æœ‰åšè¿™æ ·çš„æ”¯æŒï¼Œé‚£æˆ‘å°±ä¸é«˜å…´äº†ã€‚åœ¨å¼ºè¿«ç—‡çš„é©±ä½¿ä¸‹ï¼Œæˆ‘è¯»äº†ä»–çš„æºç ï¼Œå‘ç°åŠ è¿™ä¸ªæ—¶é—´æˆ³ç›¸å½“ç®€å•ï¼Œæ‰€ä»¥æˆ‘ä¹‰ä¸å®¹è¾çš„æäº†è¿™ä¸ª[PR](https://github.com/hexojs/hexo/pull/3162)ã€‚è¿™æ˜¯åŠä¸ªæœˆå‰å‘ç”Ÿçš„äº‹æƒ…ï¼Œåœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå®˜æ–¹è¿˜æ²¡æœ‰Mergeã€‚æ‰€ä»¥ä½ å¦‚æœæƒ³åœ¨**permalink**ä¸­ä½¿ç”¨æ—¶é—´æˆ³ã€‚åŠæ³•å°±æ˜¯äººè‚‰æŠŠ**node_module**æ–‡ä»¶å¤¹ä¸‹æŒ‡å®šçš„æ–‡ä»¶åšä¿®æ”¹ã€‚æ€ä¹ˆæ”¹ï¼Ÿæ”¹å“ªä¸ªæ–‡ä»¶ï¼Ÿæ”¹æˆå•¥æ ·ï¼Ÿè¯·ç›´æ¥çœ‹é‚£ä¸ªPRã€‚\n\nå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ç°åœ¨å°±èƒ½æ„‰å¿«çš„ç©è€äº†ã€‚æ¯”å¦‚ï¼š\n\n> https://shuoit.net/tech-notes/permalink-optimize-hexo-1528003174.html\n\nå½“ç„¶åˆ«å¿˜äº†é…ç½®ç«™ç‚¹**_config.yml**\n\n> permalink: :category/:entitle/:timestamp.html\n\næœ€åï¼Œç¥è¯»è€…ä»¬å„¿ç«¥èŠ‚å¿«ä¹ï¼\n\n### å†æ¥çœ‹\n\n==========æ¥è‡ª2018åœ£è¯èŠ‚çš„æ›´æ–°===============\n\næœ€è¿‘å‡çº§äº†NPMã€NodeJSåŠHexoä¾èµ–åº“ï¼Œå‘ç°æ—¶é—´æˆ³ä¸å¥½ä½¿äº†ã€‚ï¼ˆPSï¼šä¹‹å‰äººè‚‰æ”¹äº†Hexoçš„æºç ï¼Œçœ‹ä¸Šå»å¹¶æ²¡æœ‰è¢«Merge...ï¼‰\n\näºæ˜¯æœ‰äº†è¡¥ä¸åŒ…ï¼Œæ“ä½œå§¿åŠ¿ï¼š\n\n```shell\n\n1. mkdir patch/  && cd patch\n\n2. touch run.sh && vim run.sh\n\n#!/bin/sh\n\ncp ./scripts/post.js ../node_modules/hexo/lib/hexo\ncp ./scripts/scaffold.js ../node_modules/hexo/lib/hexo\n\n3. mkdir scripts\n// å°†node_modules/hexo/lib/hexoå¯¹åº”çš„æ–‡ä»¶å¤åˆ¶åˆ°æ–°å»ºçš„è¿™ä¸ªç›®å½•ä¸­ã€‚å†…å®¹åšç‚¹æ›´æ”¹ã€‚æ›´æ”¹å†…å®¹å‚è§ä¸Šé¢æåˆ°çš„PR\n\n\n4. chmod 775 run.sh && ./run.sh\n\n5. hexo n test\n// æ˜¯ä¸æ˜¯å‘ç°æ—¶é—´æˆ³è¢«åŠ å›æ¥äº†....\n\n```\n\n\n","tags":["hexo","webx"],"categories":["æŠ€æœ¯"]},{"title":"æ˜¯æ—¶å€™æŠ›å¼ƒä½ çš„OFFICEå…¨å®¶æ¡¶äº†","url":"/others/nodeppt-1504692052.html","content":"\n![blackTech](/img/2017/blackTech.png)\n\n### ä»Šå¤©è¦è¯´çš„æ˜¯ä¸€ä¸ªå¾ˆç‚«çš„ä¸œè¥¿ï¼Œå«åš**NodePPT**\n\nä½ æ˜¯å¦æœ‰è¿™ç§åœºæ™¯ï¼Œè¾›è‹¦åšå¥½ä¸€ä»½`PPT`ï¼Œç„¶åå‘æ–‡ä»¶ç»™å…¶ä»–äººï¼Œå¥ˆä½•äººå®¶ç”¨çš„`macOS`ä¸”æ²¡æœ‰è£…å¾®è½¯å…¨å®¶æ¡¶ï¼Œå¦‚æœæœ‰`Keynote`è¿˜ç®—å¥½ã€‚æƒ³è¡¨è¾¾çš„æ„æ€å°±æ˜¯é€šè¿‡è¿™æ ·çš„`Native`ç«¯åŠå…¬è½¯ä»¶ï¼Œåœ¨è·¨å¹³å°åä½œä¸Šï¼Œéš¾å…ä¼šã€Œä¸¢çœŸã€ã€‚è€Œä»Šå¤©çš„ä¸»è§’ï¼Œå°†ä»¥æå®¢åŒ–çš„æ–¹å¼ä¸ºä½ ç»§ç»­`PPT`ä¹‹è·¯ï¼Œè®©ä½ è¶Šæ¥è¶Šå–œæ¬¢è£…é€¼......\n\n#### é¡¹ç›®åœ°å€\n\n> let's look look...  [demo](http://js8.in/nodeppt/)\n\næºç ï¼š[nodeppt](https://github.com/ksky521/nodeppt)\n\næ–‡æ¡£ï¼š[æ¨ènodepptï¼šä½¿ç”¨markdownè¯­æ³•æ¥å†™ç½‘é¡µppt](http://js8.in/2013/11/16/%E6%8E%A8%E8%8D%90nodeppt%EF%BC%9A%E4%BD%BF%E7%94%A8markdown%E8%AF%AD%E6%B3%95%E6%9D%A5%E5%86%99%E7%BD%91%E9%A1%B5ppt/)\n\n#### å®‰è£…ä½¿ç”¨å•¥çš„ï¼Œå®˜æ–¹æ–‡æ¡£è¯´çš„å¾ˆæ¸…æ¥šï¼Œä»¥ä¸‹ä¸ºæˆ‘ä½¿ç”¨ç¬”è®°\n\n1 å‡çº§ç‰ˆæœ¬ï¼š\n\n> npm update -g nodeppt\n\n2 åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ï¼š\n\n```\n// a. æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤\nnodeppt create hello\n\n// b. äº¤äº’å¼ä¿¡æ¯è¡¥å……\nplease inputï¼š\ntitle (slide title) Hello\nsubtitle world\nspeaker (speaker) Thomas Tang\nSuccessï¼šhello.md, please write your slide content\n\n// c. ä½¿ç”¨MWebä¹‹ç±»çš„MDå·¥å…·å¼€å§‹æ„‰å¿«çš„ç¼–å†™pptå§~\n```\n\n3 å¯åŠ¨é¢„è§ˆ\n\n```shell\n// å…¶ä¸­ï¼Œ-wè¡¨ç¤ºwatchæ¨¡å¼ï¼Œå³ï¼šæ”¹åŠ¨ä¼šæ—¶æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨ã€‚æœ‰æ²¡æœ‰å¾ˆ*çš„æ ·å­\nnodeppt start -w -p 9090\n```\n\n#### å°†å†™å¥½çš„PPTä½œä¸ºgitpagesæœåŠ¡å‘å¸ƒ\n\n1 å¯¼å‡ºå…¨éƒ¨ï¼ŒåŒ…æ‹¬nodepptçš„jsã€imgå’Œcssæ–‡ä»¶å¤¹åˆ°æ‰§è¡Œç›®å½•ä¸‹ï¼Œå¦‚ï¼šdocs\n\n```\nnodeppt generate . docs -a\n```\n\n> ç›®å‰å‘ç°ä¸¤ä¸ªé—®é¢˜ï¼Œé¦–å…ˆç”Ÿæˆdocsç›®å½•é‡Œï¼Œè¿˜æœ‰ä¸€ä¸ªdocsç›®å½•ï¼Œåœ¨æ¥ç€æ‰§è¡Œå‘½ä»¤ï¼Œè¿˜ä¼šç»§ç»­ç”Ÿæˆã€‚ç›´æ¥åˆ æ‰ä¸éœ€è¦çš„ç›®å½•ï¼›å…¶æ¬¡ç¬¬ä¸€æ­¥ç”Ÿæˆçš„docsç›®å½•ç”¨äº†`Git`åˆå§‹åŒ–ï¼Œè¿™å°±æ˜¯è¯´å¦‚æœä½ çš„æ ¹ç›®å½•å·²ç»ç”¨äº†Gitç®¡ç†ï¼Œå†å¥—ä¸€å±‚ä¼šå¯¼è‡´æ¨é€åˆ°GitHubå¯¹åº”çš„ç›®å½•æ²¡æœ‰æ–‡ä»¶ï¼Œè€Œ`git status`ä¼šå‡ºç°ï¼š**modified:   docs (modified content, untracked content)**ã€‚è§£å†³åŠæ³•è¿˜æ˜¯åˆ æ‰`.git`å’Œ`.gitignore`\n\n\n2 æœ‰äº†docsç›®å½•åï¼Œæœ¬åœ°æ‰“å¼€é‡Œé¢çš„`index.html`ï¼Œçœ‹çœ‹æ ·å¼å¯¹ä¸å¯¹ï¼Œæ²¡é—®é¢˜ä¹‹åå†è¿›è¡Œç¬¬ä¸‰æ­¥\n\n3 åœ¨GitHub Pagesçš„`Source`å¤„ï¼Œé€‰æ‹©ï¼š`Use only the /docs folder for GitHub Pages`\n\n4 è®¿é—®é…ç½®å¥½çš„åŸŸåï¼Œå¦‚`http://ppt.shuoit.net`ï¼Œå°±å¯ä»¥è¿œç¨‹è®¿é—®pptäº†ï¼Œè¿™å¹¶ä¸éœ€è¦ä½ åœ¨ä»»ä½•å¹³å°å®‰è£…officeå…¨å®¶æ¡¶\n\n5 å‰©ä¸‹çš„å·¥ä½œå°±æ˜¯å‘æŒ¥åˆ›é€ åŠ›ï¼Œç å­—ï¼Œåšäº¤äº’ã€‚æ¯æ¬¡å†™å®Œé‡å¤ä»¥ä¸Šæ­¥éª¤å°±å¯ä»¥ä½¿å¾—pptæ›´æ–°\n\n\n\n\n\n","tags":["javascript","é»‘ç§‘æŠ€"],"categories":["å…¶ä»–"]},{"title":"å¼€å§‹ä½¿ç”¨Swiftè¯­è¨€å¼€å‘åå°","url":"/tech-notes/swift-in-serverside-1492851464.html","content":"\n### å…ˆåˆ†äº«æ ¸å¿ƒé¡¹ç›®å’Œèµ„æ–™\n\n#### Swift in server side\n\n[Perfect](https://github.com/PerfectlySoft/Perfect)\n\n\n#### Documentation\n\n[Chinese Doc of Perfect](http://perfect.org/docs/gettingStarted_zh_CN.html)\n\n#### Discuss Channel in Slack\n\n[Slack](http://www.perfect.ly/)\n\n\n\n##### åç»­çš„äº‹æƒ…\n\n> ä¹‹å‰ç«‹äº†ä¸€å—ç‰ŒåŠï¼Œå´å§‹ç»ˆæ²¡æœ‰å†…å®¹ï¼Œæ„Ÿè§‰ä¸å¤ªåˆé€‚ï¼Œåç»­çš„ç¬”è®°ï¼Œæ•´ç†æ•´ç†å†å‘ä¸Šæ¥....\n\n\n\n","tags":["swift","åç«¯"],"categories":["æŠ€æœ¯"]},{"title":"JSimpleä¸»é¢˜ç”¨æˆ·æŒ‡å—","url":"/others/jsimple-usage-1492480198.html","content":"\n![hexo-blog-basic](/img/2017/hexo-blog-basic.jpg)\n\n### æœ¬æ–‡å°†æŒç»­è·Ÿè¿›ä¸»é¢˜æ›´æ–°ï¼Œé™¤äº†Githubçš„æ–‡æ¡£ï¼Œå°±è¿™é‡Œæ›´è¯¦ç»†äº†ï¼Œæœ‰é”™è¯¯å‘ç°å’Œå»ºè®®å¯ä»¥ç›´æ¥æåœ¨æœ¬æ–‡åå¤´\n\n> ä»»ä½•çš„è½¯ä»¶ä½œå“ï¼Œä¸è®ºæ˜¯æˆå“è¿˜æ˜¯åŠæˆå“ï¼Œæä¾›ä¸€ä»½æ˜“æ‡‚çš„è¯´æ˜è¿˜æ˜¯å¾ˆé‡è¦ä¹Ÿéå¸¸æœ‰å¿…è¦çš„ã€‚åœ¨è¿™ä»¶äº‹æƒ…ä¸Šï¼Œæˆ‘å¾ˆæŠ±æ­‰ï¼å› ä¸ºä¸»é¢˜åˆ¶ä½œè¿‡ç¨‹æœ¬æ¥æ–­æ–­ç»­ç»­ï¼Œå¼€å§‹æˆ‘ä¹Ÿåªæ˜¯æƒ³å¼„ä¸ªä¸»é¢˜ä¾›è‡ªå·±ç”¨ï¼Œåæ¥å‘åˆ°Githubå’Œhexoå®˜æ–¹ï¼Œå‘ç°è¿˜æ˜¯æœ‰ä¸å°‘æœ‹å‹å–œæ¬¢ï¼Œåœ¨æ­¤ä¸€å¹¶æ„Ÿè°¢ã€‚æœ€è¿‘Githubåé¦ˆçš„é—®é¢˜å¾ˆé¢‘ç¹ï¼Œæ‰€ä»¥å†™ä¸ªæ–‡æ¡£æ˜¾å¾—æ›´ä¸ºè¿«åˆ‡å’Œæœ‰å¿…è¦\n\n### ä¸»é¢˜æ¦‚å†µ\n\nå¤§æ¦‚ä»‹ç»ä¸‹ï¼Œä¸»é¢˜çš„ç»Ÿè®¡ç”¨çš„`CNZZ`ï¼Œè¯„è®ºç»„ä»¶ç”¨çš„`Disqus`ï¼Œæœç´¢æ˜¯`Google InsightSearch`ï¼Œå¤§è‡´é£æ ¼æ˜¯ç®€ä¹¦ç½‘çš„å‰èº«ã€‚å¯¹äºç»Ÿè®¡å’Œè¯„è®ºï¼Œä½ å¯ä»¥ç›´æ¥æ”¹ä¸»é¢˜çš„å¯¹åº”æ–‡ä»¶ï¼Œæ›¿æ¢å°±å¥½äº†ï¼Œåªæ˜¯è€ƒè™‘åˆ°ç»Ÿè®¡ä¸ºç§æœ‰ä¿¡æ¯ï¼Œå› æ­¤æŠŠé…ç½®æ”¾åˆ°äº†ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚æœä½ ä¸ºæ­¤æ„Ÿåˆ°éš¾å—ï¼Œè¯·è‡ªå·±æ”¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œå°±å¥½ã€‚å¤šä½™çš„ä¸ç”¨çº ç»“ã€‚\n\n> ä¸»é¢˜å‘å¸ƒè¿™æ®µæ—¶é—´ï¼Œæ„Ÿè°¢çƒ­å¿ƒç½‘å‹æPRæ”¹è¿›æ„è§ï¼Œç°åœ¨ä¸»é¢˜å·²ç»æ”¯æŒ**Gitment**ï¼Œ**ä»£ç é«˜äº®**ä¹Ÿæ˜¾ç¤ºçš„æ¯”è¾ƒé¡ºçœ¼äº†ã€‚ç”±äºä¸ªäººåŸå› ï¼Œåšæ–‡å’Œä¸»é¢˜å‰åŠå¹´å…³æ³¨è¾ƒå°‘ï¼Œå†æ¬¡ä¸€å¹¶æ„Ÿè°¢æ‰€æœ‰å¯¹å¼€æºåšå‡ºè´¡çŒ®çš„æœ‹å‹ä»¬ï¼Œè°¢è°¢ä½ ä»¬ã€‚åè¾¹ï¼Œå’±ä»¬ä¸€èµ·è£…é€¼ï¼Œä¸€èµ·é£....\n\nå½“ä½ ä¸‹è½½äº†è¿™ä»½ä¸»é¢˜ï¼Œæ”¹å¥½ç«™ç‚¹é…ç½®åï¼Œç¬¬ä¸€ä¸ªå·¥ä½œä¸åº”è¯¥æ˜¯`hexo g`æˆ–`hexo s`è¿è¡Œæ¼”ç¤ºï¼Œå› ä¸ºè¿™æ ·ä½ ä¸€å®šä¼šé‡åˆ°é”™è¯¯ï¼Œè¦å®Œæ•´çš„è¿è¡Œï¼Œä½ éœ€è¦æ‰‹åŠ¨é…ç½®å¦‚ä¸‹é¡¹ç›®ï¼š\n\n#### 1ã€å†™ä½œæ¨¡æ¿æ–‡ä»¶é…ç½®\n\nåœ¨`scaffolds`æ–‡ä»¶å¤¹ä¸‹ï¼Œä¿ç•™ä¸¤ä¸ªæ–‡ä»¶å³å¯ï¼š`post.md`å’Œ`page.md`ï¼Œä»–ä»¬åˆ†åˆ«è¡¨ç¤ºæ™®é€šæ–‡ç« å’Œç‹¬ç«‹é¡µé¢\n\n**post**æ¨¡æ¿å†…å®¹å¦‚ä¸‹\n\n```\ntitle: {{ title }}\ndate: {{ date }}\nauthor: æ‰˜ç æ€\navatar: /images/favicon.png\nauthorLink: https://www.tangkunyin.com\nauthorAbout: https://about.tangkunyin.com\nauthorDesc: ä¸€ä¸ªå†™ä»£ç çš„ã€Œä¼ªæ–‡äººã€\ncategories: æŠ€æœ¯\ntags:\n    - hexo\n    - webx\nkeywords:\ndescription:\nphotos:\n- img/2017/demo.jpg\n---\n```\n\n> å¦‚æœæ–°å»ºçš„æ–‡ç« è¦å½’å±äºæŸä¸ªåˆ†ç±»ï¼Œè¯·åœ¨`categories`å¤„å¯¹åº”ä½ çš„åˆ†ç±»åç§°å³å¯ã€‚æ ‡ç­¾ä½¿ç”¨åŒç†ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ï¼Œæ‰“æ ‡ç­¾çš„æ–¹å¼å°±æ˜¯å†™æˆæ•°ç»„æ–¹å¼ã€‚`photos`æ˜¯ç¼©ç•¥å›¾ï¼Œåœ°å€å¯ä»¥æ˜¯ç›¸å¯¹çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹çš„ã€‚\n\n**page**æ¨¡æ¿åŒä¸Šï¼Œä½†æ²¡æœ‰`categories`å’Œ`tags`ï¼Œå¤šäº†`comments`ï¼Œåè€…ç”¨æ¥æ§åˆ¶ç‹¬ç«‹é¡µæ˜¯å¦æ”¯æŒè¯„è®ºç»„ä»¶ã€‚è‡³äºè¦æŠŠä½œè€…çš„ä¿¡æ¯æ”¾åˆ°æ¨¡æ¿é‡Œï¼Œæ˜¯è€ƒè™‘åˆ°å¦‚æœç½‘ç«™é‡‡ç”¨æŠ•ç¨¿æ–¹å¼ï¼Œå¯ä»¥ä¿ç•™åŸåˆ›ä¿¡æ¯ã€‚å³ï¼šæ˜¾ç¤ºä¸åŒä½œè€…ä¸åŒæ–‡ç« ä¿¡æ¯ï¼Œä¸ä¼šä¹±ï¼\n\n#### 2ã€ç«™ç‚¹åˆ†ç±»åˆ«åå’Œè‡ªå®šä¹‰URLé…ç½®\n\nå…³äºè‡ªå®šä¹‰URLï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š[åœ¨hexoåšå®¢ä¸­æ‰“é€ ç›¸å¯¹å®Œç¾çš„URL](https://shuoit.net/tech-notes/hexo-links-1483800845.html)\n\n**åˆ†ç±»åˆ«å**å’Œ**æ ‡ç­¾åˆ«å**é…ç½®ï¼Œç«™ç‚¹`_config.yml`æ–‡ä»¶ä¸­ï¼Œå…¶ä¸­ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œçš„`menu`é¡¹éœ€è¦å’Œ`category_map`é”®å€¼å¯¹ä¸€è‡´ã€‚äºŒè€…é¡ºåºå¯ä»¥ä¸åŒï¼Œä½†æ˜¯ä¸»é¢˜ä¸­çš„é¡ºåºå†³å®šç½‘ç«™å¯¼èˆªæ èœå•çš„é¡ºåºã€‚\n\n```\n# Category & Tag\ndefault_category: æŠ€æœ¯\ncategory_map:\n   æŠ€æœ¯: tech\n   äººæ–‡: humanity\ntag_map:\n  hexo: hexo\n  ç”Ÿæ´»: life\n```\n\n\n#### 3ã€ç«™ç‚¹å·¦ä¾§å¯¼èˆªé…ç½®\n\n```\n# ä¾¿äºåŠ¨æ€é…ç½®å¯¼èˆªï¼Œæœ€æ–°ç‰ˆæŠŠå·¦å¯¼èˆªå†™æˆé…ç½®æ–¹å¼äº†ã€‚æ³¨æ„uriå‰è¾¹çš„\"-\"ï¼Œè¿™é‡Œæ˜¯objectç±»å‹ï¼Œå†…å±‚åŒ…äº†æ•°ç»„\nleftPagesMenu:\n- uri: pageName    // è¿™ä¸ªæ˜¯åˆ›å»ºlayoutä¸ºpageç±»å‹çš„é¡µé¢åç§°ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ç‹¬ç«‹é¡µé¢åç§°\n  title: navName\t  // æ•…åæ„æ€ï¼Œå¯¼èˆªåç§°ï¼Œè¿™åœ¨å¤§å±å¹•æ—¶ä½“ç°\n  faName: fa-wifi  // FontAwesomeæ ·å¼åç§°ï¼Œæœ€æ–°ä¸»é¢˜ä½¿ç”¨äº†4.7.0ï¼Œè¯·å‚è€ƒhttp://fontawesome.io/icons/\n```\n\n\n\n#### 4ã€ç¤¾äº¤ä¿¡æ¯\n\næœ€æ–°ä¸€ç‰ˆæ”¯æŒäº†telegram, instagram, slack, twitter, github, sinaWb, facebook 7ä¸­ï¼Œä½ è¦ä¸å«ŒæŒ¤ï¼Œå¯ä»¥å…¨éƒ¨é…ç½®ä¸Š\n\n\n#### 5ã€å…³äºæœç´¢åŠŸèƒ½\n\nç›¸å¯¹äºé™æ€åšå®¢è€Œè¨€ï¼Œæœ¬ç«™æ‰€ä½¿ç”¨çš„æœç´¢åŠŸèƒ½ï¼Œæˆ‘ä¸ªäººè§‰å¾—è¿˜æ˜¯ç›¸å½“èµçš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€éœ€è¦å¾ˆå¤æ‚çš„é…ç½®ï¼Œæ¥ä¸€èµ·çœ‹çœ‹ä½ çš„`package.json`ä¾èµ–å§ï¼š\n\n```\n\"dependencies\": {\n    \"hexo\": \"^3.2.2\",\n    \"hexo-git-backup\": \"^0.1.2\",\n    \"hexo-renderer-ejs\": \"^0.2.0\",\n    \"hexo-renderer-marked\": \"^0.2.11\",\n    \"hexo-renderer-stylus\": \"^0.3.1\",\n    \"hexo-server\": \"^0.2.0\",\n    \"hexo-deployer-git\": \"0.2.0\",\n    \"hexo-generator-archive\": \"^0.1.4\",\n    \"hexo-generator-category\": \"^0.1.3\",\n    \"hexo-generator-index\": \"^0.2.0\",\n    \"hexo-generator-tag\": \"^0.2.0\",\n    \"hexo-generator-json-content\": \"^2.2.0\"\n  }\n```\n\nè¯·æ³¨æ„æœ€åä¸€è¡Œï¼Œé‚£æ˜¯ç”¨æ¥ç”Ÿæˆæ£€ç´¢æ•°æ®`content.json`ç”¨çš„ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ä½ çš„`public`ä¸‹ï¼Œå½“ä½ æ— æ³•ä½¿ç”¨æœç´¢æ—¶ï¼Œè¯·åŠ¡å¿…æ£€æŸ¥ä¾èµ–ä»¥åŠæ˜¯å¦ç”Ÿæˆäº†æ•°æ®æ–‡ä»¶ã€‚\n\n#### 6ã€å…³äºCNAMEå¤šæä¸€å˜´\n\næœ‰æœ‹å‹æ`Issues`è¯´ï¼Œ`æ¯æ¬¡deployä¹‹åï¼Œç›¸åº”çš„CNAMEæ–‡ä»¶å°±ä¸¢å¤±äº†ï¼Œéš¾é“æ¯æ¬¡deployéƒ½éœ€è¦é‡æ–°åˆ›å»ºCNAMEæ–‡ä»¶ï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³å•Šï¼Ÿ`\n\nè¿™ä¸ªåªæ˜¯ä½ æŠŠ`CNAME`æ–‡ä»¶æ”¾é”™ä½ç½®äº†è€Œå·²ï¼Œè§£å†³åŠæ³•å°±æ˜¯**æŠŠCNAMEæ–‡ä»¶æ”¾åˆ°ä¸»é¢˜çš„sourceæ–‡ä»¶å¤¹ä¸­ï¼Œè¿™æ ·å°±ä¸ä¼šä¸¢äº†**\n\n\n\n\n\n\n\n\n","tags":["hexo","webx"],"categories":["å…¶ä»–"]},{"title":"macOSä¸‹è¶…èµçš„å·¥å…·æ¨è","url":"/others/mac-tools-1483804283.html","content":"\n\n![free-mac-usefull-tools](/img/2017/free-mac-usefull-tools.jpg)\n\n### ç³»ç»Ÿç›¸å…³ï¼Œä¸€é”®ç›´è¾¾\n\n[CleanMyMac](https://drive.google.com/file/d/1sCKdmRbx15ogzLa51s_kA5gBljqvJ5DF/view?usp=sharing)\n\n[ParallelsDesktop](https://drive.google.com/file/d/1kCwbIsv5NABPkiH1PPOByKBJ6i8odaKb/view?usp=sharing)\n\n[Charles](http://xclient.info/s/charles.html)\n\n\n### å…¶ä»–èµ„æºï¼Œéº»çƒ¦è‡ªæ\n\n[ShareFreeAll](http://sharefreeall.com/counter-strike-1-6-keygen-serial-number-active-for-mac-os-x-offline-online/)\n\n[awesome-mac](https://github.com/jaywcjlove/awesome-mac)\n\n[XClient](https://xclient.info/s/)\n\n\n\n\n\n\n\n\n\n\n\n","tags":["éº¦å…‹"],"categories":["å…¶ä»–"]},{"title":"åœ¨hexoåšå®¢ä¸­æ‰“é€ ç›¸å¯¹å®Œç¾çš„URL","url":"/tech-notes/hexo-links-1483800845.html","content":"\n![hexo-blog-basic](/img/2017/hexo-blog-basic.jpg)\n\n## è¿™é‡Œè®¨è®ºä¸€ä¸ªå¤„å¥³åº§çš„æƒ…æ€€é—®é¢˜\n\nå¦‚æœä½ æ˜¯å…¨éƒ¨ç”¨è‹±æ–‡å†™ä½œï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« å¯¹ä½ ç¡®å®æ²¡ä»€ä¹ˆLuanç”¨ã€‚å¯¹hexoè€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„è‡ªå®šä¹‰æ–‡ç« URLã€‚\n\nå¯¹æ•°å­—æ•æ„Ÿï¼Œä½ å¯ä»¥åœ¨ç«™ç‚¹çš„`_config.yml`æ–‡ä»¶ä¸­`permalink`å¤„é…ç½®æˆ`:year/:month/:day/:title/`ã€‚æ˜¯çš„ï¼Œè¿™ä¸ªä¸éœ€è¦æ”¹åŠ¨ï¼Œä¿æŒhexoé»˜è®¤å°±æ˜¯\n\n> ç»“æœæ˜¯ï¼šhttp://localhost:4000/2017/04/18/demo\n\næœ‰é™æ€ç½‘é¡µæƒ…ç»“çš„ä½ ï¼Œè®¤ä¸º`.html`ç»“å°¾åˆ©äº`SEO`ï¼Œåˆ™å¯ä»¥æŠŠ`permalink`é…ç½®æˆ`:category/:title.html`æˆ–`:category/:timestamp.html`\n\n> ç»“æœæ˜¯ï¼šhttp://localhost:4000/demo/1492523268.html\n\næ³¨æ„ç¬¬äºŒç§ä½¿ç”¨åˆ†ç±»åˆ«åï¼Œè¯·ä¸€å®šè¦è®¾ç½®ä¸¤ä¸ªåœ°æ–¹ï¼š\n\n```\n// 1ã€ç«™ç‚¹çš„_config.ymlä¸­æ‰¾åˆ°ä»¥ä¸‹éƒ¨åˆ†\n# Category & Tag\ndefault_category: uncategorized\ncategory_map:\n    æ¼”ç¤º: demo\ntag_map:\n\n// 2ã€scaffolds/post.mdæ–‡ä»¶ä¸­æ”¹æˆå¦‚ä¸‹\n---                                                                                                                               \ntitle: {{ title }}             \ndate: {{ date }}\ntags:                          \ntimestamp: {{ date }}          \ncategories: æ¼”ç¤º\n---\n```\n\næ˜¯çš„ï¼Œå¢åŠ äº†ä¸¤è¡Œï¼Œåœ¨å†™æ–‡ç« æ—¶ï¼Œé€šè¿‡`hexo n demo`åï¼Œç”Ÿæˆçš„`demo.md`æ–‡ä»¶é‡Œå¦‚ä¸‹ï¼š\n\n```\n---                                                                                                                               \ntitle: hello\ncategories: æ¼”ç¤º\ndate: 2017-04-18 22:19:45\ntimestamp: 1447295415\ntags:\n---\n```\n\næ­¤æ—¶éœ€è¦æ‰‹åŠ¨çš„æŠŠ`timestamp`æ‰‹åŠ¨æ”¹æˆæ—¶é—´æˆ³ï¼Œå› ä¸ºè¿™æ˜¯ä½ è‡ªå®šä¹‰çš„å˜é‡ï¼Œå½“å‰`hexo`è¿˜æ²¡æœ‰è¿™ä¸ªç³»ç»Ÿå˜é‡ä½¿ç”¨ï¼Œæ‰€ä»¥åªèƒ½æ‰‹åŠ¨é…ç½®ã€‚\n\né€šè¿‡ä»¥ä¸Šæ–¹å¼ä½“ç°çš„URLæ›´æœ‰æ„ä¹‰ï¼Œä½†æ˜¯ç”¨`title`æˆ–`timestamp`é¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼Œå‰è€…é‡åˆ°ä¸­æ–‡å°±å‘µå‘µäº†ï¼Œåè€…è™½ç²¾ç‚¼ä½†æ— ç–‘ä¹‰ã€‚æ‰€ä»¥è¿˜æœ‰æ”¹è¿›çš„ç©ºé—´ï¼Œå³ä½¿ç”¨`permalink: :category/:title.html`è¿™æ ·é…ç½®æ—¶ï¼Œåˆ›å»ºæ–‡ç« ç”¨è‹±æ–‡æ ‡é¢˜ã€‚è¿™æ ·è§£å†³äº†ä¸­æ–‡ä¸€å¨ä¹±ç ä¸”æ„ä¹‰å¾ˆæ˜æ˜¾ï¼Œè¯»è€…ä¸€çœ‹å°±çŸ¥é“è¿™æ˜¯å“ªä¸ªåˆ†ç±»ä¸‹çš„ä»€ä¹ˆæ–‡ç« ï¼\n\næ˜¯ä¸æ˜¯å¾ˆç¾å¥½ï¼Œèµ¶ç´§è¯•è¯•å»å§~\n\n\n\n","tags":["hexo","webx"],"categories":["æŠ€æœ¯"]},{"title":"QA - å¸®åŠ©é‚£ä¸ªä¸­å¿ƒ...","url":"/help/index.html","content":"\n\n### Q: è¿™ç½‘ç«™æ€ä¹ˆå¼„çš„ï¼Œè¿˜æŒºå¥½çœ‹çš„å•Šï¼Ÿ\n\n> A: æœ¬ç«™æ˜¯é™æ€åšå®¢ï¼Œé€šè¿‡`hexo`ç”Ÿæˆï¼Œä¸»é¢˜æ˜¯æˆ‘è‡ªå·±å†™çš„ã€‚å…è´¹ä½¿ç”¨ï¼Œå·²å¼€æºè‡³`GitHub`ï¼Œæœ¬ç«™åº•éƒ¨æœ‰å®ƒä»¬çš„é“¾æ¥\n\n### Q: ä¸ºä»€ä¹ˆåšå®¢æœ‰æ—¶å€™æ‰“å¼€é€Ÿåº¦å¾ˆæ…¢ï¼Œä¸€ç›´åœ¨åŠ è½½å‘¢ï¼Ÿ\n\n> A: è¯„è®ºç»„ä»¶ä½¿ç”¨çš„`Disqus`ç­‰èµ„æºçš„æœåŠ¡å™¨åœ¨å¢ƒå¤–ï¼ŒåŠ è½½ä¸å‡ºæ¥æˆ–è€…æ…¢æ˜¯æ­£å¸¸çš„ï¼Œä¸å½±å“æ–‡ç« é˜…è¯»ã€‚\n\n### Q: æˆ‘ä¹Ÿæƒ³ç”¨è¿™ä¸ªä¸»é¢˜æ­ä¸ªåšå®¢ï¼Œä¸çŸ¥é“æ€ä¹ˆå¼„ï¼Ÿ\n\n> A: å…ˆå»`hexo`å®˜ç½‘çœ‹çœ‹ï¼Œå­¦ä¼šç”¨è¿™ä¸ªå†™ä½œå¹¶å­¦ä¼šä½¿ç”¨`gitpages`ä¹‹ç±»çš„éƒ¨ç½²åšå®¢ã€‚æ•™ç¨‹è°·æ­Œä¸€ä¸‹éåœ°çš†æ˜¯ã€‚ä¸»é¢˜æ˜¯å…è´¹çš„ï¼Œåœ¨æœ¬ç«™åº•éƒ¨å¯æ‰¾åˆ°é“¾æ¥ï¼Œæ ¹æ®æ–‡æ¡£è‡ªåŠé…ç½®å°±å¥½äº†ã€‚é‡åˆ°é—®é¢˜ï¼Œåœ¨æœ¬é¡µç•™è¨€å³å¯ï¼Œæˆ‘ä¼šå¾ˆæ„¿æ„å¸®åŠ©ä½ çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸»é¢˜æœ‰å…¨ç«™`https`å¼€å…³ï¼Œåœ¨ä¸»é¢˜`_config.yml`æ–‡ä»¶çš„`fullHttps`å¤„é…ç½®ã€‚å¦‚é…ç½®ä¸å½“ræŸäº›æ–‡ä»¶å°±æ— æ³•æ­£ç¡®å¼•ç”¨ï¼ŒåŠ è½½ç²—æ¥çš„é¡µé¢ä¼šå¾ˆæŒ«ã€‚ \n\n### Q: ä½ è¿™ä¸»é¢˜ï¼Œæˆ‘é…ç½®äº†æ€ä¹ˆè¿è¡ŒæŠ¥é”™å•Šï¼Œè·‘ä¸èµ·æ¥å•Šï¼Ÿ\n\n> A: å…³äºä½¿ç”¨ä¸»é¢˜å‡ºé”™ï¼Œè¯·å…ˆå‰å¾€[JSimple-issues](https://github.com/tangkunyin/hexo-theme-jsimple/issues)å¯»æ‰¾ç­”æ¡ˆï¼Œè¯´ä¸å®šä½ é‡åˆ°çš„é—®é¢˜ï¼Œå·²ç»æœ‰äººç¢°åˆ°è€Œæˆ‘ä¹Ÿå›ç­”è§£å†³æ–¹å¼äº†ã€‚å…³äºä¸»é¢˜çš„ä»»ä½•é—®é¢˜ï¼Œæˆ‘éƒ½ä¼šåœ¨é‚£é‡Œå›å¤\n\n\n### Q: æœ¬ç«™æ˜¯å¦æ¥å—æŠ•ç¨¿æˆ–è½¬è½½ï¼Ÿ\n\n> åŸåˆ™ä¸Šï¼Œæˆ‘æ˜¯é¼“åŠ±è‡ªå·±æ­å»ºåšå®¢ã€‚è‡ªå·±å­˜æ¡£ã€‚å½“ç„¶éè¦æŠ•ç¨¿ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚æ‰¾åˆ°é‚®ç®±å‘ç¨¿å³å¯ã€‚è½¬è½½åªéœ€ä¿è¯ç‰ˆæƒå³å¯ï¼ˆå½“ç„¶ä½ ä¸ä¿è¯æˆ‘ä¹Ÿæ‹¿ä½ æ²¡åŠæ³•...ï¼‰\n\n\n### Q: æˆ‘è§‰å¾—ç«™é•¿ä½ æŒºæœ‰æ„æ€çš„ï¼Œèƒ½äº¤ä¸ªæœ‹å‹å—ï¼Ÿ\n\n> A: å¯ä»¥ï¼Œæ¥æ¡ä¸ªæ‰‹å§ï¼Œ**[è€è¡¨](http://t.me/laobiao)**\n\n\n### Q: å…¶ä»–çš„...\n\n> æŠ€æœ¯è´´çš„ç–‘é—®è¯·ç›´æ¥å›å¤æ–‡ç« å³å¯ã€‚å…¶ä»–éœ€è¦ï¼Œå¯ä»¥æœ¬æ–‡åº•éƒ¨ç•™è¨€ã€‚æˆ–è€…[ç”µæŠ¥](http://t.me/kunyintang)æ‰¾æˆ‘ï¼Œæˆ‘ä¼šç»Ÿä¸€æ•´ç†ç„¶åå‘åˆ°è¿™é‡Œ......\n\n\n"},{"title":"ä¸ºä½•å»ºç«™ && ä¸ºä½•å†™ä½œ","url":"/about/index.html","content":"\n#### ä¸ºä½•å»ºç«™\n\nåœ¨æˆ‘å¹´è½»~~20å²å·¦å³~~çš„æ—¶å€™ï¼Œç‹¬ç«‹ç«™é•¿æ›¾æ˜¯ä¸€ä¸ªç‰›é€¼é—ªé—ªçš„è§’è‰²ï¼Œç„¶è€Œç°åœ¨ä¸é‚£ä¹ˆç¥ç§˜äº†ï¼Œæˆ‘æƒ³ä¸»è¦è¿˜æ˜¯é—¨æ§›ä½äº†å¾ˆå¤šğŸ˜„ï¸\n\næ­å»ºè¿™ä¸ªç½‘ç«™ä¸»è¦æ˜¯ä¸ºäº†è®°å½•æŠ€æœ¯ç¬”è®°ã€æˆé•¿çš„ç‚¹æ»´ç­‰ï¼Œå½“ç„¶è£…é€¼ä¹Ÿæ˜¯ä¸€ä¸ªç›®çš„ğŸ˜ï¸\n\n#### ä¸ºä½•å†™ä½œ\n\n> è¯»çš„ä¹¦è¶Šå¤šï¼Œä½ ä¼šå‘ç°çŸ¥é“çš„ä¸œè¥¿è¶Šå¤šï¼Œä¸çŸ¥é“çš„ä¸œè¥¿å°±æ›´å¤šäº†ï¼Œä¸çŸ¥é“è¿œè¿œå¤§äºçŸ¥é“ï¼Œäºæ˜¯ä½ åœ¨ä¸¤è€…é—´ä¸æ–­ç¢°æ’ã€ç„¦è™‘ã€æ¬¢å–œã€å¿§ä¼¤ï¼Œäº§ç”Ÿå„ç§æ€æƒ³ã€æƒ…æ„Ÿå’Œæ•…äº‹ï¼Œè®°å½•ä¸‹æ¥ï¼Œå°±æ˜¯æ–‡ç« ã€‚\n> > å¼•è‡ªã€ŠMacTalkã€‹`è·¨è¶Šè¾¹ç•Œ`\n\nå†™ä½œå³æ€è€ƒï¼Œè€Œæ€è€ƒåçš„ç»“è®ºä½ æ€»è¦æœ‰æ‰€ç•™å­˜ï¼Œå› æ­¤å†™ä½œä¹Ÿæ˜¯ä¸ªè‰ºæœ¯~~ä½“åŠ›~~æ´»å„¿ã€‚è¿™ä¸ªåšå®¢æ˜¯å¸¦æœ‰æŸç§å·¥ç¨‹å¸ˆæ„Ÿæƒ…çš„ï¼Œå¦‚æœå¯¹ä½ å‘³ï¼Œé‚£å°±èƒ½å…±éœ‡~~é¸£~~äº†ï¼\n\n#### è¯´ï¼©ï¼´\n\nç®€è¨€ä¹‹ï¼Œ**[è¯´IT](https://shuoit.net)**æ˜¯ä¸€ä¸ªèšç„¦äºæŠ€æœ¯å’Œäººæ–‡çš„åŸåˆ›ITåšå®¢ã€‚\n\nå†…å®¹æ¶‰åŠæŠ€æœ¯ã€è¯»ä¹¦ã€ç”Ÿæ´»ã€æ—…è¡Œã€‚æŠ€æœ¯æ–¹å‘ä¸»è¦é¢å‘å¤§å‰ç«¯ï¼ˆNativeã€ReatNativeã€Raxã€Flutterç­‰ï¼‰ï¼Œå¶å°”ä¹Ÿä¼šæœ‰ä¸€äº›ç¢ç¢å¿µã€‚\n\nç”±äºä¸ªäººæ°´å¹³æœ‰é™ï¼Œæ–‡ç« ä¸­å¦‚è‹¥å‘ç°é”™è¯¯æˆ–ä¸å½“è¨€è®ºï¼Œè¿˜æœ›è¯»è€…ä¸åèµæ•™ã€‚æœ¬ç«™çš„æ–‡ç« å¯ä»»æ„è½¬è½½ï¼Œä½†è¯·ä¿ç•™åŸæ–‡é“¾æ¥ã€‚å¦‚æœæŸä¸€ç¯‡å¸®åŠ©äº†ä½ ï¼Œè¯·è®°å¾—ç‚¹ä¸ªèµã€‚\n\nç½‘å€ï¼š**[https://shuoit.net](https://shuoit.net)**ã€‚**æ³¨æ„ï¼šä¸ºé™ä½ç”¨æˆ·è¾“å…¥å’Œè®°å¿†æˆæœ¬ï¼Œæ•…æ„å»æ‰äº†www**\n\n#### å…³äºä½œè€…\n\n90åç¨‹åºçŒ¿ï¼Œæ–œæ ä¸­å¹´ã€æ–‡å­—æ§ã€æ°è¿·ã€‚ç›®å‰å°±èŒäºç²—ç²®å‚ï¼Œè‡´åŠ›äºå¤§å‰ç«¯æ…Œå‘ï¼Œæœªæ¥æœ‰å…¨æ ˆçš„æš´åˆ©å€¾å‘ã€‚æŠ€æœ¯é¸¡æ±¤ä¸€ç«™ï¼Œè¯·è‡ªå–ä¸€ç¯‡é¥®\n\n> æœ¬ç«™ç–‘é—®ï¼Œè¯·å·¦è½¬æ‰¾â“ï¸ï¼›æŠ€æœ¯äº¤æµã€å¼€è½¦äº¤å‹è¯·å³è½¬æ‰¾âœˆï¸ï¸\n\n\n![CodingLife](https://dn-coding-net-production-static.qbox.me/91d0106b-7774-4878-b72e-304fcf2059af.png)\n\n\n"},{"title":"ä¼˜ç§€çš„èµ„æº","url":"/links/index.html","content":"\n#### ä»¥ä¸‹æ‘˜å½•æœ‰è¶£ã€æœ‰æ„ä¹‰ã€æœ‰å½±å“åŠ›ã€æœ‰æ­£èƒ½é‡çš„åšå®¢ã€èµ„æº\n\n> æ­¤å¤„ä¸åšç½‘å€å¯¼èˆªï¼Œå› æ­¤ä¸æ¥å—ä»¥`SEO`ä¸ºç›®çš„çš„å‹é“¾ã€‚æ’åºä¸åˆ†é‚£å•¥...\n\n`åŸºç¡€`ç¯‡\n\n- [åœ¨ JavaScript ä¸­å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•](https://juejin.im/post/594dfe795188250d725a220a)\n- [äº”åˆ†é’Ÿå­¦ç®—æ³•](http://www.cxyxiaowu.com/)\n\n\n`JS`å¤§æ³•\n\n- [é˜®ä¸€å³°](http://www.ruanyifeng.com/blog/)\n- [JS-Tips](http://www.jstips.co/zh_CN/)\n- [æ·±å…¥TS](https://jkchao.github.io/typescript-book-chinese/)\n- [Flutterå®æˆ˜](https://book.flutterchina.club/)\n- [CSS-Inspiration](https://github.com/chokcoco/CSS-Inspiration)\n- [è…¾è®¯AlloyTeam](http://www.alloyteam.com/)\n- [æ·˜å®FED](http://taobaofed.org/)\n\n\n`è‹¹æœ`å›­\n\n- [ç‹å·ï¼ˆå–µç¥ï¼‰çš„åšå®¢](https://onevcat.com/)\n- [Objc.io](https://www.objc.io/)\n- [Swifter](http://swifter.tips/)   \n\n`å·¥å…·`ç®±\n\n- [JS Bin](http://js.jirengu.com/hanihacuna/1/edit?js,console,output)\n- [ç±»ä¼¼çš„JSBin](http://jsfiddle.net/)\n- [è¿œç¨‹é¢è¯•ç¥å™¨](http://collabedit.com/)\n- [TS-Playground](https://www.tslang.cn/play/index.html)\n\n`å¨±ä¹`åœˆ\n\n- [VIM](https://vim-adventures.com/)\n- [CodeTank](http://codetank.alloyteam.com/)\n\n\n`å…¬ä¼—`å·\n\n> æ²¡æœ‰é“¾æ¥ï¼Œè¯·ç›´æ¥æœå…³é”®è¯å…³æ³¨å³å¯ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººå¸¸çœ‹çš„å„ä¸ªé¢†åŸŸï¼š\n\n- å´å°æ³¢é¢‘é“\n- æˆ¿åäºŒ\n- å‰ç«¯ä¹‹å·…\n- äº”åˆ†é’Ÿç®—æ³•\n- å°é“æ¶ˆæ¯\n- å—æåœˆ\n \n\n**æ¬¢è¿æ¨èã€è‡ªè......**\n\n"},{"title":"æ ‡ç­¾äº‘","url":"/tags/index.html","content":"\n\n"},{"title":"æ—¶å…‰è½´","url":"/timeline/index.html","content":"\næ—¶å…‰è½´å˜›ï¼Œå¾—å…ˆæœ‰æ—¶å…‰ï¼Œä¼šæ›´æ–°çš„ï¼Œåˆ«æ€¥......\n\n"}]